<!DOCTYPE html><html lang="en" dir="ltr"><head>
  <meta charset="utf-8">
  <meta name="generator" content="ReSpec Developer Edition">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <style>
  
  span.example-title {
    text-transform: none;
  }
  
  aside.example,
  div.example,
  div.illegal-example {
    padding: 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
  }
  
  div.illegal-example {
    color: red;
  }
  
  div.illegal-example p {
    color: black;
  }
  
  aside.example,
  div.example {
    padding: 0.5em;
    border-left-width: 0.5em;
    border-left-style: solid;
    border-color: #e0cb52;
    background: #fcfaee;
  }
  
  aside.example div.example {
    border-left-width: 0.1em;
    border-color: #999;
    background: #fff;
  }
  aside.example div.example span.example-title {
    color: #999;
  }
  
  .example pre {
    background-color: rgba(0, 0, 0, 0.03);
  }
  
  </style>
  <style>
  
  .issue-label {
    text-transform: initial;
  }
  
  .warning > p:first-child {
    margin-top: 0;
  }
  .warning {
    padding: 0.5em;
    border-left-width: 0.5em;
    border-left-style: solid;
  }
  span.warning {
    padding: 0.1em 0.5em 0.15em;
  }
  
  .issue.closed span.issue-number {
    text-decoration: line-through;
  }
  
  .warning {
    border-color: #f11;
    border-width: 0.2em;
    border-style: solid;
    background: #fbe9e9;
  }
  
  .warning-title:before {
    content: "⚠"; /*U+26A0 WARNING SIGN*/
    font-size: 1.3em;
    float: left;
    padding-right: 0.3em;
    margin-top: -0.3em;
  }
  
  li.task-list-item {
    list-style: none;
  }
  
  input.task-list-item-checkbox {
    margin: 0 0.35em 0.25em -1.6em;
    vertical-align: middle;
  }
  
  .issue a.respec-gh-label {
    padding: 5px;
    margin: 0 2px 0 2px;
    font-size: 10px;
    text-transform: none;
    text-decoration: none;
    font-weight: bold;
    border-radius: 4px;
    position: relative;
    bottom: 2px;
    border: none;
    display: inline-block;
  }
  
  </style>
  <style>
  
  pre.idl {
    padding: 1em;
    position: relative;
  }
  
  pre.idl > code {
    color: black;
  }
  
  @media print {
    pre.idl {
      white-space: pre-wrap;
    }
  }
  
  .idlHeader {
    display: block;
    width: 150px;
    background: #8ccbf2;
    color: #fff;
    font-family: sans-serif;
    font-weight: bold;
    margin: -1em 0 1em -1em;
    height: 28px;
    line-height: 28px;
  }
  
  .idlHeader a.self-link {
    margin-left: 0.3cm;
    text-decoration: none;
    border-bottom: none;
  }
  
  .idlID {
    font-weight: bold;
    color: #005a9c;
  }
  
  .idlType {
    color: #005a9c;
  }
  
  .idlName {
    color: #ff4500;
  }
  
  .idlName a {
    color: #ff4500;
    border-bottom: 1px dotted #ff4500;
    text-decoration: none;
  }
  
  a.idlEnumItem {
    color: #000;
    border-bottom: 1px dotted #ccc;
    text-decoration: none;
  }
  
  .idlSuperclass {
    font-style: italic;
    color: #005a9c;
  }
  
  /*.idlParam*/
  
  .idlParamName,
  .idlDefaultValue {
    font-style: italic;
  }
  
  .extAttr {
    color: #666;
  }
  
  /*.idlSectionComment*/
  
  .idlSectionComment {
    color: gray;
  }
  
  .idlIncludes a {
    font-weight: bold;
  }
  
  .respec-button-copy-paste:focus {
    text-decoration: none;
    border-color: #51a7e8;
    outline: none;
    box-shadow: 0 0 5px rgba(81, 167, 232, 0.5);
  }
  
  .respec-button-copy-paste:focus:hover,
  .respec-button-copy-paste.selected:focus {
    border-color: #51a7e8;
  }
  
  .respec-button-copy-paste:hover,
  .respec-button-copy-paste:active,
  .respec-button-copy-paste.zeroclipboard-is-hover,
  .respec-button-copy-paste.zeroclipboard-is-active {
    text-decoration: none;
    background-color: #ddd;
    background-image: linear-gradient(#eee, #ddd);
    border-color: #ccc;
  }
  
  .respec-button-copy-paste:active,
  .respec-button-copy-paste.selected,
  .respec-button-copy-paste.zeroclipboard-is-active {
    background-color: #dcdcdc;
    background-image: none;
    border-color: #b5b5b5;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.15);
  }
  
  .respec-button-copy-paste.selected:hover {
    background-color: #cfcfcf;
  }
  
  .respec-button-copy-paste:disabled,
  .respec-button-copy-paste:disabled:hover,
  .respec-button-copy-paste.disabled,
  .respec-button-copy-paste.disabled:hover {
    color: rgba(102, 102, 102, 0.5);
    cursor: default;
    background-color: rgba(229, 229, 229, 0.5);
    background-image: none;
    border-color: rgba(197, 197, 197, 0.5);
    box-shadow: none;
  }
  
  @media print {
    .respec-button-copy-paste {
      visibility: hidden;
    }
  }
  
  </style>
  <style>
  
  dfn {
    cursor: pointer;
  }
  
  .dfn-panel {
    position: absolute;
    z-index: 35;
    min-width: 300px;
    max-width: 500px;
    padding: 0.5em 0.75em;
    margin-top: 0.6em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: #fff;
    color: black;
    box-shadow: 0 1em 3em -0.4em rgba(0, 0, 0, 0.3),
      0 0 1px 1px rgba(0, 0, 0, 0.05);
    border-radius: 2px;
  }
  /* Triangle/caret */
  .dfn-panel:not(.docked) > .caret {
    position: absolute;
    top: -9px;
  }
  .dfn-panel:not(.docked) > .caret::before,
  .dfn-panel:not(.docked) > .caret::after {
    content: "";
    position: absolute;
    border: 10px solid transparent;
    border-top: 0;
    border-bottom: 10px solid #fff;
    top: 0;
  }
  .dfn-panel:not(.docked) > .caret::before {
    border-bottom: 9px solid #a2a9b1;
  }
  
  .dfn-panel * {
    margin: 0;
  }
  
  .dfn-panel b {
    display: block;
    color: #000;
    margin-top: 0.25em;
  }
  
  .dfn-panel ul a[href] {
    color: #333;
  }
  
  .dfn-panel > div {
    display: flex;
  }
  
  .dfn-panel a.self-link {
    font-weight: bold;
    margin-right: auto;
  }
  
  .dfn-panel .marker {
    padding: 0.1em;
    margin-left: 0.5em;
    border-radius: 0.2em;
    text-align: center;
    white-space: nowrap;
    font-size: 90%;
    color: #040b1c;
  }
  
  .dfn-panel .marker.dfn-exported {
    background: #d1edfd;
    box-shadow: 0 0 0 0.125em #1ca5f940;
  }
  .dfn-panel .marker.idl-block {
    background: #8ccbf2;
    box-shadow: 0 0 0 0.125em #0670b161;
  }
  
  .dfn-panel a:not(:hover) {
    text-decoration: none !important;
    border-bottom: none !important;
  }
  
  .dfn-panel a[href]:hover {
    border-bottom-width: 1px;
  }
  
  .dfn-panel ul {
    padding: 0;
  }
  
  .dfn-panel li {
    margin-left: 1em;
  }
  
  .dfn-panel.docked {
    position: fixed;
    left: 0.5em;
    top: unset;
    bottom: 2em;
    margin: 0 auto;
    /* 0.75em from padding (x2), 0.5em from left position, 0.2em border (x2) */
    max-width: calc(100vw - 0.75em * 2 - 0.5em - 0.2em * 2);
    max-height: 30vh;
    overflow: auto;
  }
  
  </style>
      
      
  <title>Geolocation API</title>
      
      
    
  <style id="respec-mainstyle">
  
  @keyframes pop {
    0% {
      transform: scale(1, 1);
    }
    25% {
      transform: scale(1.25, 1.25);
      opacity: 0.75;
    }
    100% {
      transform: scale(1, 1);
    }
  }
  
  /* Override code highlighter background */
  .hljs {
    background: transparent !important;
  }
  
  /* --- INLINES --- */
  h1 abbr,
  h2 abbr,
  h3 abbr,
  h4 abbr,
  h5 abbr,
  h6 abbr,
  a abbr {
    border: none;
  }
  
  dfn {
    font-weight: bold;
  }
  
  a.internalDFN {
    color: inherit;
    border-bottom: 1px solid #99c;
    text-decoration: none;
  }
  
  a.externalDFN {
    color: inherit;
    border-bottom: 1px dotted #ccc;
    text-decoration: none;
  }
  
  a.bibref {
    text-decoration: none;
  }
  
  .respec-offending-element:target {
    animation: pop 0.25s ease-in-out 0s 1;
  }
  
  .respec-offending-element,
  a[href].respec-offending-element {
    text-decoration: red wavy underline;
  }
  @supports not (text-decoration: red wavy underline) {
    .respec-offending-element:not(pre) {
      display: inline-block;
    }
    .respec-offending-element {
      /* Red squiggly line */
      background: url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=)
        bottom repeat-x;
    }
  }
  
  #references :target {
    background: #eaf3ff;
    animation: pop 0.4s ease-in-out 0s 1;
  }
  
  cite .bibref {
    font-style: normal;
  }
  
  code {
    color: #c63501;
  }
  
  th code {
    color: inherit;
  }
  
  a[href].orcid {
    padding-left: 4px;
    padding-right: 4px;
  }
  
  a[href].orcid > svg {
    margin-bottom: -2px;
  }
  
  /* --- TOC --- */
  
  .toc a,
  .tof a {
    text-decoration: none;
  }
  
  a .secno,
  a .figno {
    color: #000;
  }
  
  ul.tof,
  ol.tof {
    list-style: none outside none;
  }
  
  .caption {
    margin-top: 0.5em;
    font-style: italic;
  }
  
  /* --- TABLE --- */
  
  table.simple {
    border-spacing: 0;
    border-collapse: collapse;
    border-bottom: 3px solid #005a9c;
  }
  
  .simple th {
    background: #005a9c;
    color: #fff;
    padding: 3px 5px;
    text-align: left;
  }
  
  .simple th a {
    color: #fff;
    padding: 3px 5px;
    text-align: left;
  }
  
  .simple th[scope="row"] {
    background: inherit;
    color: inherit;
    border-top: 1px solid #ddd;
  }
  
  .simple td {
    padding: 3px 10px;
    border-top: 1px solid #ddd;
  }
  
  .simple tr:nth-child(even) {
    background: #f0f6ff;
  }
  
  /* --- DL --- */
  
  .section dd > p:first-child {
    margin-top: 0;
  }
  
  .section dd > p:last-child {
    margin-bottom: 0;
  }
  
  .section dd {
    margin-bottom: 1em;
  }
  
  .section dl.attrs dd,
  .section dl.eldef dd {
    margin-bottom: 0;
  }
  
  #issue-summary > ul {
    column-count: 2;
  }
  
  #issue-summary li {
    list-style: none;
    display: inline-block;
  }
  
  details.respec-tests-details {
    margin-left: 1em;
    display: inline-block;
    vertical-align: top;
  }
  
  details.respec-tests-details > * {
    padding-right: 2em;
  }
  
  details.respec-tests-details[open] {
    z-index: 999999;
    position: absolute;
    border: thin solid #cad3e2;
    border-radius: 0.3em;
    background-color: white;
    padding-bottom: 0.5em;
  }
  
  details.respec-tests-details[open] > summary {
    border-bottom: thin solid #cad3e2;
    padding-left: 1em;
    margin-bottom: 1em;
    line-height: 2em;
  }
  
  details.respec-tests-details > ul {
    width: 100%;
    margin-top: -0.3em;
  }
  
  details.respec-tests-details > li {
    padding-left: 1em;
  }
  
  a[href].self-link:hover {
    opacity: 1;
    text-decoration: none;
    background-color: transparent;
  }
  
  h2,
  h3,
  h4,
  h5,
  h6 {
    position: relative;
  }
  
  aside.example .marker > a.self-link {
    color: inherit;
  }
  
  h2 > a.self-link,
  h3 > a.self-link,
  h4 > a.self-link,
  h5 > a.self-link,
  h6 > a.self-link {
    border: none;
    color: inherit;
    font-size: 83%;
    height: 2em;
    left: -1.6em;
    opacity: 0.5;
    position: absolute;
    text-align: center;
    text-decoration: none;
    top: 0;
    transition: opacity 0.2s;
    width: 2em;
  }
  
  h2 > a.self-link::before,
  h3 > a.self-link::before,
  h4 > a.self-link::before,
  h5 > a.self-link::before,
  h6 > a.self-link::before {
    content: "§";
    display: block;
  }
  
  @media (max-width: 767px) {
    dd {
      margin-left: 0;
    }
  
    /* Don't position self-link in headings off-screen */
    h2 > a.self-link,
    h3 > a.self-link,
    h4 > a.self-link,
    h5 > a.self-link,
    h6 > a.self-link {
      left: auto;
      top: auto;
    }
  }
  
  @media print {
    .removeOnSave {
      display: none;
    }
  }
  
  </style>
  <style id="caniuse-stylesheet" class="">
  
  .caniuse-stats {
    display: flex;
    flex-wrap: wrap;
    justify-content: flex-start;
    align-items: baseline;
  }
  
  button.caniuse-cell {
    margin: 1px 1px 0 0;
    border: none;
  }
  
  .caniuse-browser {
    position: relative;
  }
  
  /* handle case when printing */
  @media print {
    .caniuse-cell.y::before {
      content: "✔️";
      padding: 0.5em;
    }
  
    .caniuse-cell.n::before {
      content: "❌";
      padding: 0.5em;
    }
  
    .caniuse-cell.d::before,
    .caniuse-cell.a::before,
    .caniuse-cell.x::before,
    .caniuse-cell.p::before {
      content: "⚠️";
      padding: 0.5em;
    }
  }
  
  /* reset styles, hide old versions by default */
  .caniuse-browser ul {
    display: none;
    margin: 0;
    padding: 0;
    list-style: none;
    position: absolute;
    left: 0;
    z-index: 2;
    background: #fff;
    margin-top: 1px;
  }
  
  .caniuse-stats a[href] {
    white-space: nowrap;
    align-self: center;
    margin-left: 0.5em;
  }
  
  /* a browser version */
  .caniuse-cell {
    display: flex;
    font-size: 90%;
    height: 0.8cm;
    margin-right: 1px;
    margin-top: 0;
    min-width: 3cm;
    overflow: visible;
    justify-content: center;
    align-items: center;
  
    --supported: #2a8436;
    --no-support: #c44230;
    --no-support-alt: #b43b2b;
    --partial: #807301;
    --partial-alt: #746c00;
  
    color: #fff;
    background: repeating-linear-gradient(
      var(--caniuse-angle, 45deg),
      var(--caniuse-bg) 0,
      var(--caniuse-bg-alt) 1px,
      var(--caniuse-bg-alt) 0.4em,
      var(--caniuse-bg) calc(0.25em + 1px),
      var(--caniuse-bg) 0.75em
    );
  }
  
  li.caniuse-cell {
    margin-bottom: 1px;
  }
  
  .caniuse-cell:focus {
    outline: none;
  }
  
  /* supports */
  .caniuse-cell.y {
    background: var(--supported);
  }
  
  /* no support, disabled by default */
  .caniuse-cell.n,
  .caniuse-cell.d {
    --caniuse-angle: 45deg;
    --caniuse-bg: var(--no-support);
    --caniuse-bg-alt: var(--no-support-alt);
  }
  
  .caniuse-cell.d {
    --caniuse-angle: 180deg;
  }
  
  /* not supported by default / partial support etc
  see https://github.com/Fyrd/caniuse/blob/master/CONTRIBUTING.md for stats */
  .caniuse-cell.a,
  .caniuse-cell.x,
  .caniuse-cell.p {
    --caniuse-angle: 90deg;
    --caniuse-bg: var(--partial);
    --caniuse-bg-alt: var(--partial-alt);
  }
  
  /* show rest of the browser versions */
  .caniuse-stats button:focus + ul,
  .caniuse-stats .caniuse-browser:hover > ul {
    display: block;
  }
  
  </style>
  <style>
  
  ul.index {
    columns: 30ch;
    column-gap: 1.5em;
  }
  
  ul.index li {
    list-style: inherit;
  }
  
  ul.index li span {
    color: inherit;
    cursor: pointer;
    white-space: normal;
  }
  
  #index-defined-here ul.index li {
    font-size: 0.9rem;
  }
  
  ul.index code {
    color: inherit;
  }
  
  #index-defined-here .print-only {
    display: none;
  }
  
  @media print {
    #index-defined-here .print-only {
      display: initial;
    }
  }
  
  </style>
  <style>
  
  .mdn {
    font-size: 0.75em;
    position: absolute;
    right: 0.3em;
    min-width: 0;
    margin-top: 3em;
  }
  
  .mdn details {
    width: 100%;
    margin: 1px 0;
    position: relative;
    z-index: 10;
    box-sizing: border-box;
    padding: 0.4em;
    padding-top: 0;
  }
  
  .mdn details[open] {
    min-width: 25ch;
    max-width: 32ch;
    background: #fff;
    box-shadow: 0 1em 3em -0.4em rgba(0, 0, 0, 0.3),
      0 0 1px 1px rgba(0, 0, 0, 0.05);
    border-radius: 2px;
    z-index: 11;
    margin-bottom: 0.4em;
  }
  
  .mdn summary {
    text-align: right;
    cursor: default;
    margin-right: -0.4em;
  }
  
  .mdn summary span {
    font-family: zillaslab, Palatino, "Palatino Linotype", serif;
    color: #fff;
    background-color: #000;
    display: inline-block;
    padding: 3px;
  }
  
  .mdn a {
    display: inline-block;
    word-break: break-all;
  }
  
  .mdn p {
    margin: 0;
  }
  
  .mdn .engines-all {
    color: #058b00;
  }
  .mdn .engines-some {
    color: #b00;
  }
  
  .mdn table {
    width: 100%;
    font-size: 0.9em;
  }
  
  .mdn td {
    border: none;
  }
  
  .mdn td:nth-child(2) {
    text-align: right;
  }
  
  .mdn .nosupportdata {
    font-style: italic;
    margin: 0;
  }
  
  .mdn tr::before {
    content: "";
    display: table-cell;
    width: 1.5em;
    height: 1.5em;
    background: no-repeat center center / contain;
    font-size: 0.75em;
  }
  
  .mdn .no,
  .mdn .unknown {
    color: #cccccc;
    filter: grayscale(100%);
  }
  
  .mdn .no::before,
  .mdn .unknown::before {
    opacity: 0.5;
  }
  
  .mdn .chrome::before,
  .mdn .chrome_android::before {
    background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
  }
  
  .mdn .edge::before,
  .mdn .edge_mobile::before {
    background-image: url(https://resources.whatwg.org/browser-logos/edge.svg);
  }
  
  .mdn .firefox::before,
  .mdn .firefox_android::before {
    background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
  }
  
  .mdn .ie::before {
    background-image: url(https://resources.whatwg.org/browser-logos/ie.png);
  }
  
  .mdn .opera::before,
  .mdn .opera_android::before {
    background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
  }
  
  .mdn .safari::before {
    background-image: url(https://resources.whatwg.org/browser-logos/safari.png);
  }
  
  .mdn .safari_ios::before {
    background-image: url(https://resources.whatwg.org/browser-logos/safari-ios.svg);
  }
  
  .mdn .samsunginternet_android::before {
    background-image: url(https://resources.whatwg.org/browser-logos/samsung.svg);
  }
  
  .mdn .webview_android::before {
    background-image: url(https://resources.whatwg.org/browser-logos/android-webview.png);
  }
  
  </style>
  <meta name="description" content="The Geolocation API provides access to geographical location
          information associated with the hosting device.">
  <link rel="canonical" href="https://www.w3.org/TR/geolocation/">
  <style>
  
  .hljs {
    display: block;
    overflow-x: auto;
    padding: 0.5em;
    color: #383a42;
    background: #fafafa;
  }
  
  .hljs-comment,
  .hljs-quote {
    color: #717277;
    font-style: italic;
  }
  
  .hljs-doctag,
  .hljs-keyword,
  .hljs-formula {
    color: #a626a4;
  }
  
  .hljs-section,
  .hljs-name,
  .hljs-selector-tag,
  .hljs-deletion,
  .hljs-subst {
    color: #ca4706;
    font-weight: bold;
  }
  
  .hljs-literal {
    color: #0b76c5;
  }
  
  .hljs-string,
  .hljs-regexp,
  .hljs-addition,
  .hljs-attribute,
  .hljs-meta-string {
    color: #42803c;
  }
  
  .hljs-built_in,
  .hljs-class .hljs-title {
    color: #9a6a01;
  }
  
  .hljs-attr,
  .hljs-variable,
  .hljs-template-variable,
  .hljs-type,
  .hljs-selector-class,
  .hljs-selector-attr,
  .hljs-selector-pseudo,
  .hljs-number {
    color: #986801;
  }
  
  .hljs-symbol,
  .hljs-bullet,
  .hljs-link,
  .hljs-meta,
  .hljs-selector-id,
  .hljs-title {
    color: #336ae3;
  }
  
  .hljs-emphasis {
    font-style: italic;
  }
  
  .hljs-strong {
    font-weight: bold;
  }
  
  .hljs-link {
    text-decoration: underline;
  }
  
  </style>
  <style>
  
  var {
    position: relative;
    cursor: pointer;
  }
  
  var[data-type]::before,
  var[data-type]::after {
    position: absolute;
    left: 50%;
    top: -6px;
    opacity: 0;
    transition: opacity 0.4s;
    pointer-events: none;
  }
  
  /* the triangle or arrow or caret or whatever */
  var[data-type]::before {
    content: "";
    transform: translateX(-50%);
    border-width: 4px 6px 0 6px;
    border-style: solid;
    border-color: transparent;
    border-top-color: #000;
  }
  
  /* actual text */
  var[data-type]::after {
    content: attr(data-type);
    transform: translateX(-50%) translateY(-100%);
    background: #000;
    text-align: center;
    /* additional styling */
    font-family: "Dank Mono", "Fira Code", monospace;
    font-style: normal;
    padding: 6px;
    border-radius: 3px;
    color: #daca88;
    text-indent: 0;
    font-weight: normal;
  }
  
  var[data-type]:hover::after,
  var[data-type]:hover::before {
    opacity: 1;
  }
  
  </style>
  <script id="initialUserConfig" type="application/json">{
    "shortName": "geolocation",
    "mdn": "geolocation-api",
    "specStatus": "PER",
    "editors": [
      {
        "name": "Marcos Cáceres",
        "company": "W3C",
        "companyURL": "https://w3.org",
        "w3cid": "39125"
      }
    ],
    "formerEditors": [
      {
        "name": "Andrei Popescu",
        "company": "Google Inc.",
        "companyURL": "https://google.com/"
      }
    ],
    "group": "das",
    "previousPublishDate": "2021-06-07",
    "previousMaturity": "FPWD",
    "github": "w3c/geolocation-api",
    "caniuse": "geolocation",
    "testSuiteURI": "https://wpt.live/geolocation-API/",
    "implementationReportURI": "https://wpt.fyi/geolocation-API",
    "xref": "web-platform",
    "perEnd": "2022-01-01",
    "publishISODate": "2021-09-29T00:00:00.000Z",
    "generatedSubtitle": "Proposed Edited Recommendation 29 September 2021"
  }</script>
  <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/W3C-PER"></head>
    <body data-cite="WebIDL secure-contexts permissions-policy permissions page-visibility-2 HTML INFRA URL WEBIDL DOM FETCH" class="h-entry"><div class="head">
      <a class="logo" href="https://www.w3.org/"><img crossorigin="" alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" width="72">
    </a> <h1 id="title" class="title">Geolocation API</h1>
      
      <h2><a href="https://www.w3.org/standards/types">W3C Proposed Edited Recommendation</a> <time class="dt-published" datetime="2021-09-29">29 September 2021</time></h2>
      <details open="">
        <summary>More details about this document</summary>
        <dl>
          <dt>This version:</dt><dd>
                  <a class="u-url" href="https://www.w3.org/TR/2021/PER-geolocation-20210929/">https://www.w3.org/TR/2021/PER-geolocation-20210929/</a>
                </dd><dt>Latest published version:</dt><dd>
                  <a href="https://www.w3.org/TR/geolocation/">https://www.w3.org/TR/geolocation/</a>
                </dd>
          <dt>Latest editor's draft:</dt><dd><a href="https://w3c.github.io/geolocation-api/">https://w3c.github.io/geolocation-api/</a></dd>
          <dt>Test suite:</dt><dd><a href="https://wpt.live/geolocation-API/">https://wpt.live/geolocation-API/</a></dd>
          <dt>Implementation report:</dt><dd>
                  <a href="https://wpt.fyi/geolocation-API">https://wpt.fyi/geolocation-API</a>
                </dd>
          
          <dt>Previous version:</dt><dd><a href="https://www.w3.org/TR/2021/WD-geolocation-20210607/">https://www.w3.org/TR/2021/WD-geolocation-20210607/</a></dd>
          
          <dt>Editor:</dt>
          <dd class="editor p-author h-card vcard" data-editor-id="39125">
      <span class="p-name fn">Marcos Cáceres</span> (<a class="p-org org h-org" href="https://w3.org">W3C</a>)
    </dd>
          <dt>
                  Former editor:
                </dt><dd class="editor p-author h-card vcard">
      <span class="p-name fn">Andrei Popescu</span> (<a class="p-org org h-org" href="https://google.com/">Google Inc.</a>)
    </dd>
          
          <dt>Feedback:</dt><dd>
          <a href="https://github.com/w3c/geolocation-api/">GitHub w3c/geolocation-api</a>
          (<a href="https://github.com/w3c/geolocation-api/pulls/">pull requests</a>,
          <a href="https://github.com/w3c/geolocation-api/issues/new">new issue</a>,
          <a href="https://github.com/w3c/geolocation-api/issues/">open issues</a>)
        </dd>
          <dt>History:</dt><dd>
                  <a href="https://www.w3.org/standards/history/geolocation">Publication history</a>
                </dd><dd>
                        <a href="https://github.com/w3c/geolocation-api/commits/">Commit history</a>
                      </dd>
          
          
        <dt class="caniuse-title">
        Browser support (caniuse.com):
      </dt><dd class="caniuse-stats">
        <div class="caniuse-browser">
          <button class="caniuse-cell y" title="Supported.">Chrome 97</button>
          <ul>
            <li class="caniuse-cell y" title="Supported.">5-96</li><li class="caniuse-cell a" title="Almost supported (aka Partial support).">4</li>
          </ul>
        </div><div class="caniuse-browser">
          <button class="caniuse-cell y" title="Supported.">Firefox 94</button>
          <ul>
            <li class="caniuse-cell y" title="Supported.">3.5-93</li><li class="caniuse-cell p" title="No support, but has Polyfill.">2-3</li>
          </ul>
        </div><div class="caniuse-browser">
          <button class="caniuse-cell y" title="Supported.">Safari TP</button>
          <ul>
            <li class="caniuse-cell y" title="Supported.">5-15</li><li class="caniuse-cell p" title="No support, but has Polyfill.">3.1-4</li>
          </ul>
        </div><div class="caniuse-browser">
          <button class="caniuse-cell y" title="Supported.">Edge 94</button>
          <ul>
            <li class="caniuse-cell y" title="Supported.">12-93</li>
          </ul>
        </div> <a href="https://caniuse.com/geolocation">More info</a>
      </dd></dl>
      </details>
      
      
      <p class="copyright">
      <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>
      ©
      2021
      
      <a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
      <a href="https://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="https://www.keio.ac.jp/">Keio</a>,
      <a href="https://ev.buaa.edu.cn/">Beihang</a>). 
      W3C <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
      <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a rel="license" href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">permissive document license</a> rules
      apply.
    </p>
      <hr title="Separator for header">
    </div>
      <section id="abstract" class="introductory"><h2>Abstract</h2>
        <p>
          The Geolocation API provides access to geographical location
          information associated with the hosting device.
        </p>
      </section>
      <section id="sotd" class="updateable-rec introductory"><h2>Status of This Document</h2><p><em>This section describes the status of this
        document at the time of its publication. Other documents may supersede
        this document. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the latest revision
        of this technical report can be found in the
        <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at
        https://www.w3.org/TR/.</em></p>
        <p>
          The Devices and Sensors Working Group is updating this specification in
          the hope of making it a "living standard". As such, we've dropped the
          "Editions" and aim to continue publishing updated <abbr title="World Wide Web Consortium">W3C</abbr> Recommendations
          of this specification as we add new features or fix bugs.
        </p>
      <p>
      This document was published by the <a href="https://www.w3.org/das/">Devices and Sensors Working Group</a> as a
      Proposed Edited Recommendation. 
      This document is intended to become a <abbr title="World Wide Web Consortium">W3C</abbr> Recommendation.
    </p><p>
      <a href="https://github.com/w3c/geolocation-api/issues/">GitHub Issues</a> are preferred for
            discussion of this specification.
          
      
    </p><p>
        Publication as a Proposed Edited Recommendation does not imply endorsement
        by the <abbr title="World Wide Web Consortium">W3C</abbr> Membership. 
      </p><p>This is a draft document and may be updated, replaced
    or obsoleted by other documents at any time. It is inappropriate to cite this
    document as other than work in progress.
    Future updates to this specification may incorporate
          <a href="https://www.w3.org/2020/Process-20200915/#allow-new-features">new features</a>.</p><p> <abbr title="World Wide Web Consortium">W3C</abbr> Advisory Committee Members are invited to send
        formal review comments on this Proposed Edited Recommendation to the <abbr title="World Wide Web Consortium">W3C</abbr>
        Team until 01 January 2022. Members of the Advisory Committee will
        find the appropriate review form for this document by consulting their
        list of current
        <a href="https://www.w3.org/2002/09/wbs/myQuestionnaires">WBS questionnaires</a>.</p><p>
      
          This document was produced by a group
          operating under the
          <a href="https://www.w3.org/Consortium/Patent-Policy/"><abbr title="World Wide Web Consortium">W3C</abbr> Patent
            Policy</a>.
         
      
                  <abbr title="World Wide Web Consortium">W3C</abbr> maintains a
                  <a rel="disclosure" href="https://www.w3.org/groups/wg/das/ipr">public list of any patent disclosures</a>
            made in connection with the deliverables of
            the group; that page also includes
            instructions for disclosing a patent. An individual who has actual
            knowledge of a patent which the individual believes contains
            <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">Essential Claim(s)</a>
            must disclose the information in accordance with
            <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">section 6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
          
      
    </p><p>
                    This document is governed by the
                    <a id="w3c_process_revision" href="https://www.w3.org/2020/Process-20200915/">15 September 2020 <abbr title="World Wide Web Consortium">W3C</abbr> Process Document</a>.
                  </p></section><nav id="toc"><h2 class="introductory" id="table-of-contents">Table of Contents</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#abstract">Abstract</a></li><li class="tocline"><a class="tocxref" href="#sotd">Status of This Document</a></li><li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">1. </bdi>
          Introduction
        </a><ol class="toc"><li class="tocline"><a class="tocxref" href="#scope"><bdi class="secno">1.1 </bdi>
            Scope
          </a></li><li class="tocline"><a class="tocxref" href="#change-log"><bdi class="secno">1.2 </bdi>
            Change log
          </a></li></ol></li><li class="tocline"><a class="tocxref" href="#examples"><bdi class="secno">2. </bdi>
          Examples
        </a><ol class="toc"><li class="tocline"><a class="tocxref" href="#get-current-position"><bdi class="secno">2.1 </bdi>
            Get current position
          </a></li><li class="tocline"><a class="tocxref" href="#watch-a-position"><bdi class="secno">2.2 </bdi>
            Watch a position
          </a></li><li class="tocline"><a class="tocxref" href="#stop-watching-a-position"><bdi class="secno">2.3 </bdi>
            Stop watching a position
          </a></li><li class="tocline"><a class="tocxref" href="#handling-errors"><bdi class="secno">2.4 </bdi>
            Handling errors
          </a></li><li class="tocline"><a class="tocxref" href="#using-maximumage-as-cache-control"><bdi class="secno">2.5 </bdi>
            Using <code>maximumAge</code> as cache control
          </a></li><li class="tocline"><a class="tocxref" href="#using-timeout"><bdi class="secno">2.6 </bdi>
            Using <code>timeout</code>
          </a></li><li class="tocline"><a class="tocxref" href="#enabling-the-api-in-third-party-contexts"><bdi class="secno">2.7 </bdi>
            Enabling the API in third-party contexts
          </a></li></ol></li><li class="tocline"><a class="tocxref" href="#security"><bdi class="secno">3. </bdi>
          Privacy and security considerations
        </a><ol class="toc"><li class="tocline"><a class="tocxref" href="#privacy_for_recipients"><bdi class="secno">3.1 </bdi>
            Privacy considerations for recipients of location information
          </a></li><li class="tocline"><a class="tocxref" href="#implementation_considerations"><bdi class="secno">3.2 </bdi>
            Implementation considerations
          </a></li></ol></li><li class="tocline"><a class="tocxref" href="#navigator_interface"><bdi class="secno">4. </bdi>
          Extensions to the <code>Navigator</code> interface
        </a></li><li class="tocline"><a class="tocxref" href="#geolocation_interface"><bdi class="secno">5. </bdi>
          <code>Geolocation</code> interface and callbacks
        </a><ol class="toc"><li class="tocline"><a class="tocxref" href="#internal-slots"><bdi class="secno">5.1 </bdi>
            Internal slots
          </a></li><li class="tocline"><a class="tocxref" href="#getcurrentposition-method"><bdi class="secno">5.2 </bdi>
            <code>getCurrentPosition()</code> method
          </a></li><li class="tocline"><a class="tocxref" href="#watchposition-method"><bdi class="secno">5.3 </bdi>
            <code>watchPosition()</code> method
          </a></li><li class="tocline"><a class="tocxref" href="#clearwatch-method"><bdi class="secno">5.4 </bdi>
            <code>clearWatch()</code> method
          </a></li><li class="tocline"><a class="tocxref" href="#request-position"><bdi class="secno">5.5 </bdi>
            Request position
          </a></li><li class="tocline"><a class="tocxref" href="#check-permission"><bdi class="secno">5.6 </bdi>
            Check permission
          </a></li><li class="tocline"><a class="tocxref" href="#call-back-with-error"><bdi class="secno">5.7 </bdi>
            Call back with error
          </a></li></ol></li><li class="tocline"><a class="tocxref" href="#position_options_interface"><bdi class="secno">6. </bdi>
          <span data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="PositionOptions" data-dfn-for=""><code>PositionOptions</code></span> dictionary
        </a><ol class="toc"><li class="tocline"><a class="tocxref" href="#enablehighaccuracy-member"><bdi class="secno">6.1 </bdi>
            <code>enableHighAccuracy</code> member
          </a></li><li class="tocline"><a class="tocxref" href="#timeout-member"><bdi class="secno">6.2 </bdi>
            <code>timeout</code> member
          </a></li><li class="tocline"><a class="tocxref" href="#maximumage-member"><bdi class="secno">6.3 </bdi>
            <code>maximumAge</code> member
          </a></li></ol></li><li class="tocline"><a class="tocxref" href="#position_interface"><bdi class="secno">7. </bdi>
          <code>GeolocationPosition</code> interface
        </a><ol class="toc"><li class="tocline"><a class="tocxref" href="#coords-attribute"><bdi class="secno">7.1 </bdi>
            <code>coords</code> attribute
          </a></li><li class="tocline"><a class="tocxref" href="#timestamp-attribute"><bdi class="secno">7.2 </bdi>
            <code>timestamp</code> attribute
          </a></li><li class="tocline"><a class="tocxref" href="#internal-slots-0"><bdi class="secno">7.3 </bdi>
            Internal slots
          </a></li><li class="tocline"><a class="tocxref" href="#task-sources"><bdi class="secno">7.4 </bdi>
            Task sources
          </a></li></ol></li><li class="tocline"><a class="tocxref" href="#coordinates_interface"><bdi class="secno">8. </bdi>
          <span data-export="" data-dfn-type="interface" data-idl="interface" data-title="GeolocationCoordinates" data-dfn-for=""><code>GeolocationCoordinates</code></span> interface
        </a><ol class="toc"><li class="tocline"><a class="tocxref" href="#latitude-longitude-and-accuracy-attributes"><bdi class="secno">8.1 </bdi>
            <code>latitude</code>, <code>longitude</code>, and <code>accuracy</code> attributes
          </a></li><li class="tocline"><a class="tocxref" href="#altitude-and-altitudeaccuracy-attributes"><bdi class="secno">8.2 </bdi>
            <code>altitude</code> and <code>altitudeAccuracy</code> attributes
          </a></li><li class="tocline"><a class="tocxref" href="#heading-attribute"><bdi class="secno">8.3 </bdi>
            <code>heading</code> attribute
          </a></li><li class="tocline"><a class="tocxref" href="#speed-attribute"><bdi class="secno">8.4 </bdi>
            <code>speed</code> attribute
          </a></li><li class="tocline"><a class="tocxref" href="#constructing-a-geolocationposition"><bdi class="secno">8.5 </bdi>
            Constructing a <code>GeolocationPosition</code>
          </a></li></ol></li><li class="tocline"><a class="tocxref" href="#position_error_interface"><bdi class="secno">9. </bdi>
          <span data-export="" data-dfn-type="interface" data-idl="interface" data-title="GeolocationPositionError" data-dfn-for=""><code>GeolocationPositionError</code></span> interface
        </a><ol class="toc"><li class="tocline"><a class="tocxref" href="#constants"><bdi class="secno">9.1 </bdi>
            Constants
          </a></li><li class="tocline"><a class="tocxref" href="#code-attribute"><bdi class="secno">9.2 </bdi>
            <code>code</code> attribute
          </a></li><li class="tocline"><a class="tocxref" href="#message-attribute"><bdi class="secno">9.3 </bdi>
            <code>message</code> attribute
          </a></li></ol></li><li class="tocline"><a class="tocxref" href="#permissions-policy"><bdi class="secno">10. </bdi>
          Permissions policy
        </a></li><li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">11. </bdi>Conformance</a></li><li class="tocline"><a class="tocxref" href="#idl-index"><bdi class="secno">A. </bdi>IDL Index</a></li><li class="tocline"><a class="tocxref" href="#index"><bdi class="secno">B. </bdi>Index</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#index-defined-here"><bdi class="secno">B.1 </bdi>Terms defined by this specification</a></li><li class="tocline"><a class="tocxref" href="#index-defined-elsewhere"><bdi class="secno">B.2 </bdi>Terms defined by reference</a></li></ol></li><li class="tocline"><a class="tocxref" href="#acknowledgments"><bdi class="secno">C. </bdi>
          Acknowledgments
        </a></li><li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">D. </bdi>References</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">D.1 </bdi>Normative references</a></li></ol></li></ol></nav>
      <section id="introduction" class="informative">
        <h2 id="x1-introduction"><bdi class="secno">1. </bdi>
          Introduction
        <a class="self-link" aria-label="§" href="#introduction"></a></h2><p><em>This section is non-normative.</em></p>
        <p>
          The <cite>Geolocation API</cite> defines a high-level interface to
          location information associated only with the device hosting the
          implementation. Common sources of location information include Global
          Positioning System (GPS) and location inferred from network signals
          such as IP address, RFID, WiFi and Bluetooth MAC addresses, and
          GSM/CDMA cell IDs, as well as user input. The API itself is agnostic of
          the underlying location information sources, and no guarantee is given
          that the API returns the device's actual location.
        </p>
        <p>
          If an end user <a data-link-type="dfn" data-lt="check permission" href="#dfn-check-permission" class="internalDFN" id="ref-for-dfn-check-permission-1">grants permission</a>, the
          <cite>Geolocation API</cite>:
        </p>
        <ul>
          <li>Provides location data as latitude, longitude, altitude, speed, and
          heading, as well as the accuracy of the acquired location data, and the
          approximate time for when the position was acquired via the
          <a data-link-type="idl" data-lt="GeolocationPosition" href="#dom-geolocationposition" class="internalDFN" id="ref-for-dom-geolocationposition-1"><code>GeolocationPosition</code></a> interface.
          </li>
          <li>Supports "one-shot" position updates via the
          <a data-link-type="idl" data-lt="getCurrentPosition()" href="#dom-geolocation-getcurrentposition" class="internalDFN" id="ref-for-dom-geolocation-getcurrentposition-1"><code>getCurrentPosition</code></a><code>()</code> method and the ability to receive
          updates for when the position of the hosting device significantly
          changes via the <a data-link-type="idl" data-lt="watchPosition()" href="#dom-geolocation-watchposition" class="internalDFN" id="ref-for-dom-geolocation-watchposition-1"><code>watchPosition</code></a><code>()</code> method.
          </li>
          <li>Using the <a data-link-type="idl" data-lt="PositionOptions" href="#dom-positionoptions" class="internalDFN" id="ref-for-dom-positionoptions-1"><code>PositionOptions</code></a>'s <a data-link-type="idl" href="#dom-positionoptions-maximumage" class="internalDFN" id="ref-for-dom-positionoptions-maximumage-1"><code>maximumAge</code></a>,
          allows an application to request a cached position whose age is no
          greater than a specified value (only the last position is cached).
          </li>
          <li>Provides a way for the application to receive updates about errors,
          as a <a data-link-type="idl" data-lt="GeolocationPositionError" href="#dom-geolocationpositionerror" class="internalDFN" id="ref-for-dom-geolocationpositionerror-1"><code>GeolocationPositionError</code></a>, that have occurred while <a data-link-type="dfn" href="#dfn-acquire-position" class="internalDFN" id="ref-for-dfn-acquire-position-1">acquiring a position</a>.
          </li>
          <li>And through <a data-link-type="idl" href="#dom-positionoptions-enablehighaccuracy" class="internalDFN" id="ref-for-dom-positionoptions-enablehighaccuracy-1"><code>enableHighAccuracy</code></a>, supports
          requesting "high accuracy" position data, though the request can be
          ignored by the user agent.
          </li>
        </ul>
        <section id="scope" class="informative">
          <h3 id="x1-1-scope"><bdi class="secno">1.1 </bdi>
            Scope
          <a class="self-link" aria-label="§" href="#scope"></a></h3><p><em>This section is non-normative.</em></p>
          <p>
            This specification is limited to providing a scripting API for
            retrieving geographic position information associated with a hosting
            device. The geographic position information is provided in terms of
            World Geodetic System coordinates [<cite><a class="bibref" data-link-type="biblio" href="#bib-wgs84" title="National Imagery and Mapping Agency Technical Report 8350.2, Third Edition">WGS84</a></cite>]. It does not include
            providing a markup language of any kind, nor does not include
            defining a new URL scheme for building URLs that identify geographic
            locations.
          </p>
        </section>
        <section class="informative" id="change-log">
          <h3 id="x1-2-change-log"><bdi class="secno">1.2 </bdi>
            Change log
          <a class="self-link" aria-label="§" href="#change-log"></a></h3><p><em>This section is non-normative.</em></p>
          <p>
            Since First Public Working Draft in 2021, the <cite>Geolocation
            API</cite> has received the following normative changes:
          </p>
           <rs-changelog from="FPWD" filter="removeCommits"><ul>
        <li><a href="https://github.com/w3c/geolocation-api/commit/2b82e7d">Merge pull request #102 from w3c/changelog</a></li><li><a href="https://github.com/w3c/geolocation-api/commit/4f0fc91">Clarify which FPWD</a></li><li><a href="https://github.com/w3c/geolocation-api/commit/2014fe3">tidy</a></li><li><a href="https://github.com/w3c/geolocation-api/commit/2c0c516">Return 0 when watchPosition() errors</a> (<a href="https://github.com/w3c/geolocation-api/pull/100">#100</a>)</li><li><a href="https://github.com/w3c/geolocation-api/commit/de05002">Callback with error if doc is not fully active</a> (<a href="https://github.com/w3c/geolocation-api/pull/97">#97</a>)</li><li><a href="https://github.com/w3c/geolocation-api/commit/f4605e5">Gracefully handle documents that are not fully active</a> (<a href="https://github.com/w3c/geolocation-api/pull/90">#90</a>)</li><li><a href="https://github.com/w3c/geolocation-api/commit/41d7945">Add "geolocation task queue"</a> (<a href="https://github.com/w3c/geolocation-api/pull/87">#87</a>)</li>
        </ul></rs-changelog>
          <p>
            Since publication of the Second Edition in 2016, this specification
            has received the following changes:
          </p>
          <ul>
            <li><a data-link-type="dfn" href="#dfn-request-position" class="internalDFN" id="ref-for-dfn-request-position-1">Request position</a> only proceeds when a document is visible, or
            the document becomes visible.
            </li>
            <li>Clarified how caching works as part of <a data-link-type="dfn" href="#dfn-acquire-position" class="internalDFN" id="ref-for-dfn-acquire-position-2">acquiring a position</a>:
            only last position is cached, and can be evicted at any time.
            </li>
            <li>Now relies on the <cite><a href="https://www.w3.org/TR/permissions/" id="ref-for-index-term-permissions-1">Permissions</a></cite> specification to handle
            permission grants, and user interface requirements.
            </li>
            <li>The <code>errorCallback</code> is now nullable.
            </li>
            <li>The API can be controlled by <cite><a href="https://www.w3.org/TR/permissions-policy-1/" id="ref-for-index-term-permissions-policy-1">Permissions Policy</a></cite>, which
            restricts how/where the API is exposed to web pages.
            </li>
            <li>The <code>callbacks</code> are no longer treated as "EventHandler" objects
            (i.e., objects that have a <code>.handleEvent()</code> method), but are now
            exclusively treated as IDL callback functions.
            </li>
            <li>The API is now only exposed in Secure Contexts (i.e., only
            available in HTTPS).
            </li>
            <li>The interfaces no longer use [<cite><a class="bibref" data-link-type="biblio" href="#bib-webidl" title="Web IDL">WebIDL</a></cite>]'s legacy
            <code>[NoInterfaceObject]</code>, so <code>Geolocation</code> and other interface of this
            spec are now in the global scope. Also, the interfaces were renamed
            from <code>NavigatorGeolocation*</code> to just <code>Geolocation*</code>.
            </li>
          </ul>
          <p>
            See the <a href="https://github.com/w3c/geolocation-api/commits/gh-pages">commit
            history</a> for a complete list of changes.
          </p>
        </section>
      </section>
      <section class="informative" id="examples">
        <h2 id="x2-examples"><bdi class="secno">2. </bdi>
          Examples
        <a class="self-link" aria-label="§" href="#examples"></a></h2><p><em>This section is non-normative.</em></p>
        <p>
          The API is designed to enable both "one-shot" position requests and
          repeated position updates. The following examples illustrate common use
          cases.
        </p>
        <section class="informative" id="get-current-position">
          <h3 id="x2-1-get-current-position"><bdi class="secno">2.1 </bdi>
            Get current position
          <a class="self-link" aria-label="§" href="#get-current-position"></a></h3><p><em>This section is non-normative.</em></p>
          <p>
            Request the user's current location. If the user allows it, you will
            get back a position object.
          </p>
          <aside class="example" id="example-1-a-one-shot-position-request"><div class="marker">
      <a class="self-link" href="#example-1-a-one-shot-position-request">Example<bdi> 1</bdi></a><span class="example-title">: A one-shot position request</span>
    </div>
            <pre aria-busy="false"><code class="hljs js">navigator.geolocation.getCurrentPosition(<span class="hljs-function"><span class="hljs-params">position</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> { latitude, longitude } = position.coords;
    <span class="hljs-comment">// Show a map centered at latitude / longitude.</span>
  });</code></pre>
          </aside>
        </section>
        <section class="informative" id="watch-a-position">
          <h3 id="x2-2-watch-a-position"><bdi class="secno">2.2 </bdi>
            Watch a position
          <a class="self-link" aria-label="§" href="#watch-a-position"></a></h3><p><em>This section is non-normative.</em></p>
          <p>
            Request the ability to watch user's current location. If the user
            allows it, you will get back continuous updates of the user's
            position.
          </p>
          <aside class="example" id="example-2-watching-a-position-for-repeated-updates"><div class="marker">
      <a class="self-link" href="#example-2-watching-a-position-for-repeated-updates">Example<bdi> 2</bdi></a><span class="example-title">: Watching a position for repeated updates</span>
    </div>
            <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> watchId = navigator.geolocation.watchPosition(<span class="hljs-function"><span class="hljs-params">position</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> { latitude, longitude } = position.coords;
    <span class="hljs-comment">// Show a map centered at latitude / longitude.</span>
  });</code></pre>
          </aside>
        </section>
        <section class="informative" id="stop-watching-a-position">
          <h3 id="x2-3-stop-watching-a-position"><bdi class="secno">2.3 </bdi>
            Stop watching a position
          <a class="self-link" aria-label="§" href="#stop-watching-a-position"></a></h3><p><em>This section is non-normative.</em></p>
          <p>
            Stop watching for position changes by calling the
            <a data-link-type="idl" data-lt="clearWatch()" href="#dom-geolocation-clearwatch" class="internalDFN" id="ref-for-dom-geolocation-clearwatch-1"><code>clearWatch</code></a><code>()</code> method.
          </p>
          <aside class="example" id="example-3-using-clearwatch"><div class="marker">
      <a class="self-link" href="#example-3-using-clearwatch">Example<bdi> 3</bdi></a><span class="example-title">: Using clearWatch()</span>
    </div>
            <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> watchId = navigator.geolocation.watchPosition(
    <span class="hljs-function"><span class="hljs-params">position</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(position)
  );
  
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">buttonClickHandler</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// Cancel the updates when the user clicks a button.</span>
    navigator.geolocation.clearWatch(watchId);
  }</code></pre>
            <p>
              And a HTML <code>button</code> that when pressed stops watching the position.
            </p>
            <pre aria-busy="false"><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"buttonClickHandler()"</span>&gt;</span>
    Stop watching location
  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></code></pre>
          </aside>
        </section>
        <section class="informative" id="handling-errors">
          <h3 id="x2-4-handling-errors"><bdi class="secno">2.4 </bdi>
            Handling errors
          <a class="self-link" aria-label="§" href="#handling-errors"></a></h3><p><em>This section is non-normative.</em></p>
          <p>
            When an error occur, the second argument of the
            <a data-link-type="idl" data-lt="watchPosition()" href="#dom-geolocation-watchposition" class="internalDFN" id="ref-for-dom-geolocation-watchposition-2"><code>watchPosition</code></a><code>()</code> or
            <a data-link-type="idl" data-lt="getCurrentPosition()" href="#dom-geolocation-getcurrentposition" class="internalDFN" id="ref-for-dom-geolocation-getcurrentposition-2"><code>getCurrentPosition</code></a><code>()</code> method gets called with a
            <a data-link-type="idl" data-lt="GeolocationPositionError" href="#dom-geolocationpositionerror" class="internalDFN" id="ref-for-dom-geolocationpositionerror-2"><code>GeolocationPositionError</code></a> error, which can help you figure out
            what might have gone wrong.
          </p>
          <aside class="example" id="example-4-handling-errors"><div class="marker">
      <a class="self-link" href="#example-4-handling-errors">Example<bdi> 4</bdi></a><span class="example-title">: Handling errors</span>
    </div>
            <pre aria-busy="false"><code class="hljs js"><span class="hljs-comment">// Request repeated updates.</span>
  <span class="hljs-keyword">const</span> watchId = navigator.geolocation.watchPosition(
    scrollMap, handleError
  );
  
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scrollMap</span>(<span class="hljs-params">position</span>) </span>{
    <span class="hljs-keyword">const</span> { latitude, longitude } = position.coords;
    <span class="hljs-comment">// Scroll map to latitude / longitude.</span>
  }
  
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleError</span>(<span class="hljs-params">error</span>) </span>{
    <span class="hljs-comment">// Display error based on the error code.</span>
    <span class="hljs-keyword">const</span> { code } = error;
    <span class="hljs-keyword">switch</span> (code) {
      <span class="hljs-keyword">case</span> GeolocationPositionError.TIMEOUT:
        <span class="hljs-comment">// Handle timeout.</span>
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> GeolocationPositionError.PERMISSION_DENIED:
        <span class="hljs-comment">// User denied the request.</span>
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> GeolocationPositionError.POSITION_UNAVAILABLE:
        <span class="hljs-comment">// Position not available.</span>
        <span class="hljs-keyword">break</span>;
    }
  }</code></pre>
          </aside>
        </section>
        <section class="informative" id="using-maximumage-as-cache-control">
          <h3 id="x2-5-using-maximumage-as-cache-control"><bdi class="secno">2.5 </bdi>
            Using <code>maximumAge</code> as cache control
          <a class="self-link" aria-label="§" href="#using-maximumage-as-cache-control"></a></h3><p><em>This section is non-normative.</em></p>
          <p>
            By default, the API always attempts to return a cached position so
            long as it has a previously acquired position. In this example, we
            accept a position whose age is no greater than 10 minutes. If the
            user agent does not have a fresh enough cached position object, it
            automatically acquires a new position.
          </p>
          <aside class="example" id="example-5-getting-cached-position"><div class="marker">
      <a class="self-link" href="#example-5-getting-cached-position">Example<bdi> 5</bdi></a><span class="example-title">: Getting cached position</span>
    </div>
            <pre aria-busy="false"><code class="hljs js">navigator.geolocation.getCurrentPosition(
    successCallback,
    <span class="hljs-built_in">console</span>.error,
    { <span class="hljs-attr">maximumAge</span>: <span class="hljs-number">600_000</span> }
  );
  
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">successCallback</span>(<span class="hljs-params">position</span>) </span>{
    <span class="hljs-comment">// By using the 'maximumAge' member above, the position</span>
    <span class="hljs-comment">// object is guaranteed to be at most 10 minutes old.</span>
  }</code></pre>
          </aside>
        </section>
        <section id="using-timeout">
          <h3 id="x2-6-using-timeout"><bdi class="secno">2.6 </bdi>
            Using <code>timeout</code>
          <a class="self-link" aria-label="§" href="#using-timeout"></a></h3>
          <p>
            If you require location information in a time sensitive manner, you
            can use the <a data-link-type="idl" data-lt="PositionOptions" href="#dom-positionoptions" class="internalDFN" id="ref-for-dom-positionoptions-2"><code>PositionOptions</code></a> <a data-link-type="idl" href="#dom-positionoptions-timeout" class="internalDFN" id="ref-for-dom-positionoptions-timeout-1"><code>timeout</code></a> member to
            limit the amount of time you are willing to wait to <a data-link-type="dfn" href="#dfn-acquire-position" class="internalDFN" id="ref-for-dfn-acquire-position-3">acquire a position</a>.
          </p>
          <aside class="example" id="example-6-timing-out-a-position-request"><div class="marker">
      <a class="self-link" href="#example-6-timing-out-a-position-request">Example<bdi> 6</bdi></a><span class="example-title">: Timing out a position request</span>
    </div>
            <pre aria-busy="false"><code class="hljs js"><span class="hljs-comment">// Request a position. We are only willing to wait 10</span>
  <span class="hljs-comment">// seconds for it.</span>
  navigator.geolocation.getCurrentPosition(
    successCallback,
    errorCallback,
    { <span class="hljs-attr">timeout</span>: <span class="hljs-number">10_000</span> }
  );
  
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">successCallback</span>(<span class="hljs-params">position</span>) </span>{
    <span class="hljs-comment">// Request finished in under 10 seconds...</span>
  }
  
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">errorCallback</span>(<span class="hljs-params">error</span>) </span>{
    <span class="hljs-keyword">switch</span> (error.code) {
      <span class="hljs-keyword">case</span> GeolocationPositionError.TIMEOUT:
        <span class="hljs-comment">// We didn't get it in a timely fashion.</span>
        doFallback();
        <span class="hljs-comment">// Acquire a new position object,</span>
        <span class="hljs-comment">// as long as it takes.</span>
        navigator.geolocation.getCurrentPosition(
          successCallback, errorCallback
        );
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-string">"..."</span>: <span class="hljs-comment">// treat the other error cases.</span>
    }
  }
  
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doFallback</span>(<span class="hljs-params"></span>) </span>{}</code></pre>
          </aside>
        </section>
        <section class="informative" id="enabling-the-api-in-third-party-contexts">
          <h3 id="x2-7-enabling-the-api-in-third-party-contexts"><bdi class="secno">2.7 </bdi>
            Enabling the API in third-party contexts
          <a class="self-link" aria-label="§" href="#enabling-the-api-in-third-party-contexts"></a></h3><p><em>This section is non-normative.</em></p>
          <p>
            The <a data-type="dfn" href="https://www.w3.org/TR/permissions-policy-1/#default-allowlist" id="ref-for-index-term-default-allowlist-1">default allowlist</a> of <code>["self"]</code> allows Geolocation API
            usage in same-origin nested frames but prevents third-party content
            from using the API.
          </p>
          <p>
            Third-party usage can be selectively enabled by adding the
            <code><a data-type="element-attr" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow" id="ref-for-index-term-allow-attribute-for-iframe-element-1">allow</a></code><code>="geolocation"</code> attribute to an <code><a data-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" id="ref-for-index-term-iframe-element-1">iframe</a></code> element:
          </p>
          <aside class="example" id="example-7-enabling-the-geolocation-api-in-an-iframe"><div class="marker">
      <a class="self-link" href="#example-7-enabling-the-geolocation-api-in-an-iframe">Example<bdi> 7</bdi></a><span class="example-title">: Enabling the Geolocation API in an iframe</span>
    </div>
            <pre aria-busy="false"><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">iframe</span>
    <span class="hljs-attr">src</span>=<span class="hljs-string">"https://third-party.com"</span>
    <span class="hljs-attr">allow</span>=<span class="hljs-string">"geolocation"</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span></code></pre>
          </aside>
          <p>
            Alternatively, the API can be disabled in a first-party context by
            specifying an HTTP response header:
          </p>
          <aside class="example" id="example-8-permissions-policy-over-http"><div class="marker">
      <a class="self-link" href="#example-8-permissions-policy-over-http">Example<bdi> 8</bdi></a><span class="example-title">: Permissions Policy over HTTP</span>
    </div>
            <pre class="http" aria-busy="false"><code class="hljs">Permissions-Policy: geolocation 'none'</code></pre>
          </aside>
          <p>
            See <cite><a href="https://www.w3.org/TR/permissions-policy-1/" id="ref-for-index-term-permissions-policy-2">Permissions Policy</a></cite> for more details about the
            <code>Permissions-Policy</code> HTTP header.
          </p>
        </section>
      </section>
      <section id="security" class="informative">
        <h2 id="x3-privacy-and-security-considerations"><bdi class="secno">3. </bdi>
          Privacy and security considerations
        <a class="self-link" aria-label="§" href="#security"></a></h2><p><em>This section is non-normative.</em></p>
        <p>
          The API defined in this specification is used to retrieve the
          geographic location of a hosting device. In almost all cases, this
          information also discloses the location of the user of the device,
          thereby potentially compromising the user's privacy.
        </p>
        <section id="privacy_for_recipients" class="informative">
          <h3 id="x3-1-privacy-considerations-for-recipients-of-location-information"><bdi class="secno">3.1 </bdi>
            Privacy considerations for recipients of location information
          <a class="self-link" aria-label="§" href="#privacy_for_recipients"></a></h3><p><em>This section is non-normative.</em></p>
          <div class="note" role="note" id="issue-container-generatedID"><div role="heading" class="note-title marker" id="h-note" aria-level="4"><span>Note</span><span class="issue-label">: Developers' responsibility with this sensitive data</span></div><p class="">
            This section applies to "recipients", which generally means
            developers utilizing the <cite>Geolocation API</cite>. Although it's
            impossible for the user agent, or this specification, to enforce
            these requirements, developers need to read this section carefully
            and do their best to adhere to the suggestions below. Developers need
            to be aware that there might be privacy laws in their jurisdictions
            that can govern the usage and access to users' location data.
          </p></div>
          <p>
            Recipients ought to only request position information when necessary,
            and only use the location information for the task for which it was
            provided to them. Recipients ought to dispose of location information
            once that task is completed, unless expressly permitted to retain it
            by the user. Recipients need to also take measures to protect this
            information against unauthorized access. If location information is
            stored, users need to be allowed to update and delete this
            information.
          </p>
          <p>
            The recipients of location information need to refrain from
            retransmitting the location information without the user’s express
            permission. Care needs to be taken when retransmitting and the use of
            encryption is encouraged.
          </p>
          <p>
            Recipients ought to clearly and conspicuously disclose the fact that
            they are collecting location data, the purpose for the collection,
            how long the data is retained, how the data is secured, how the data
            is shared if it is shared, how users can access, update and delete
            the data, and any other choices that users have with respect to the
            data. This disclosure needs to include an explanation of any
            exceptions to the guidelines listed above.
          </p>
        </section>
        <section id="implementation_considerations" class="informative">
          <h3 id="x3-2-implementation-considerations"><bdi class="secno">3.2 </bdi>
            Implementation considerations
          <a class="self-link" aria-label="§" href="#implementation_considerations"></a></h3><p><em>This section is non-normative.</em></p>
          <p>
            Implementers are advised to consider the following aspects that can
            negatively affect the privacy of their users: in certain cases, users
            can inadvertently grant permission to the user agent to disclose
            their location to websites. In other cases, the content hosted at a
            certain URL changes in such a way that the previously granted
            location permissions no longer apply as far as the user is concerned.
            Or the users might simply change their minds.
          </p>
          <p>
            Predicting or preventing these situations is inherently difficult.
            Mitigation and in-depth defensive measures are an implementation
            responsibility and not prescribed by this specification. However, in
            designing these measures, implementers are advised to enable user
            awareness of location sharing, and to provide access to user
            interfaces that enable revocation of permissions.
          </p>
        </section>
      </section>
      <aside class="mdn"><details>
      <summary aria-label="Expand MDN details for geolocation"><span>MDN</span><span title="This feature is in all major engines.">✅</span></summary>
      <a title="The Navigator.geolocation read-only property returns a Geolocation object that gives Web content access to the location of the device. This allows a Web site or app to offer customized results based on the user's location." href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/geolocation">Navigator/geolocation</a>
      <p class="engines-all">This feature is in all major engines.</p>
      <table>
      <tr class="chrome yes">
        <td>Chrome</td>
        <td>5+</td>
      </tr><tr class="chrome_android yes">
        <td>Chrome Android</td>
        <td>18+</td>
      </tr><tr class="edge yes">
        <td>Edge</td>
        <td>12+</td>
      </tr><tr class="edge_mobile unknown">
        <td>Edge Mobile</td>
        <td>?</td>
      </tr><tr class="firefox yes">
        <td>Firefox</td>
        <td>3.5+</td>
      </tr><tr class="firefox_android yes">
        <td>Firefox Android</td>
        <td>4+</td>
      </tr><tr class="ie yes">
        <td>Internet Explorer</td>
        <td>9+</td>
      </tr><tr class="opera yes">
        <td>Opera</td>
        <td>10.6+</td>
      </tr><tr class="opera_android yes">
        <td>Opera Android</td>
        <td>11+</td>
      </tr><tr class="safari yes">
        <td>Safari</td>
        <td>5+</td>
      </tr><tr class="safari_ios yes">
        <td>Safari iOS</td>
        <td>3+</td>
      </tr><tr class="samsunginternet_android yes">
        <td>Samsung Internet</td>
        <td>1.0+</td>
      </tr><tr class="webview_android yes">
        <td>WebView Android</td>
        <td>37+</td>
      </tr>
    </table>
    </details></aside><section id="navigator_interface" data-dfn-for="Navigator">
        <h2 id="x4-extensions-to-the-navigator-interface"><bdi class="secno">4. </bdi>
          Extensions to the <code>Navigator</code> interface
        <a class="self-link" aria-label="§" href="#navigator_interface"></a></h2>
        <pre class="idl def" id="webidl-1776506972"><span class="idlHeader"><a class="self-link" href="#webidl-1776506972">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-navigator-partial-1" data-title="Navigator">partial interface <a data-idl="partial" data-link-type="interface" data-title="Navigator" class="idlID" data-dfn-for="Navigator" data-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-index-term-navigator-interface-1">Navigator</a> {<span data-idl="" class="idlAttribute" id="idl-def-navigator-geolocation" data-title="geolocation" data-dfn-for="Navigator">
    [<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject" id="ref-for-index-term-sameobject-extended-attribute-1">SameObject</a></span>] readonly attribute<span class="idlType"> <a href="#dom-geolocation" class="internalDFN" data-link-type="idl" id="ref-for-dom-geolocation-1"><code>Geolocation</code></a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-navigator-geolocation" data-idl="attribute" data-title="geolocation" data-dfn-for="Navigator" data-type="Geolocation" data-lt="geolocation" data-local-lt="Navigator.geolocation" class="idlName" tabindex="0" aria-haspopup="dialog"><code>geolocation</code></dfn>;</span>
  };</span></code></pre>
      </section>
      <aside class="mdn"><details>
      <summary aria-label="Expand MDN details for Geolocation"><span>MDN</span><span title="This feature is in all major engines.">✅</span></summary>
      <a title="The Geolocation interface represents an object able to programmatically obtain the position of the device. It gives Web content access to the location of the device. This allows a Web site or app to offer customized results based on the user's location." href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation">Geolocation</a>
      <p class="engines-all">This feature is in all major engines.</p>
      <table>
      <tr class="chrome yes">
        <td>Chrome</td>
        <td>5+</td>
      </tr><tr class="chrome_android yes">
        <td>Chrome Android</td>
        <td>18+</td>
      </tr><tr class="edge yes">
        <td>Edge</td>
        <td>12+</td>
      </tr><tr class="edge_mobile unknown">
        <td>Edge Mobile</td>
        <td>?</td>
      </tr><tr class="firefox yes">
        <td>Firefox</td>
        <td>3.5+</td>
      </tr><tr class="firefox_android yes">
        <td>Firefox Android</td>
        <td>4+</td>
      </tr><tr class="ie yes">
        <td>Internet Explorer</td>
        <td>9+</td>
      </tr><tr class="opera yes">
        <td>Opera</td>
        <td>10.6+</td>
      </tr><tr class="opera_android yes">
        <td>Opera Android</td>
        <td>11+</td>
      </tr><tr class="safari yes">
        <td>Safari</td>
        <td>5+</td>
      </tr><tr class="safari_ios yes">
        <td>Safari iOS</td>
        <td>3+</td>
      </tr><tr class="samsunginternet_android yes">
        <td>Samsung Internet</td>
        <td>1.0+</td>
      </tr><tr class="webview_android yes">
        <td>WebView Android</td>
        <td>37+</td>
      </tr>
    </table>
    </details></aside><section id="geolocation_interface" data-dfn-for="Geolocation">
        <h2 id="x5-geolocation-interface-and-callbacks"><bdi class="secno">5. </bdi>
          <code>Geolocation</code> interface and callbacks
        <a class="self-link" aria-label="§" href="#geolocation_interface"></a></h2>
        <pre class="idl def" id="webidl-212590439"><span class="idlHeader"><a class="self-link" href="#webidl-212590439">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-geolocation" data-title="Geolocation">[<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-index-term-exposed-extended-attribute-1">Exposed</a>=<a data-type="interface" href="https://html.spec.whatwg.org/multipage/window-object.html#window" id="ref-for-index-term-window-interface-1">Window</a></span>]
  interface <dfn data-export="" data-dfn-type="interface" id="dom-geolocation" data-idl="interface" data-title="Geolocation" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>Geolocation</code></dfn> {<span data-idl="" class="idlMethod" id="idl-def-geolocation-getcurrentposition-successcallback-errorcallback-options" data-title="getCurrentPosition" data-dfn-for="Geolocation"><span class="idlType">
    <a data-type="interface" href="https://heycam.github.io/webidl/#idl-undefined" id="ref-for-index-term-undefined-type-1">undefined</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-geolocation-getcurrentposition" id="ref-for-dom-geolocation-getcurrentposition-3"><code>getCurrentPosition</code></a> (<span class="idlType">
      <a href="#dom-positioncallback" class="internalDFN" data-link-type="idl" id="ref-for-dom-positioncallback-1"><code>PositionCallback</code></a></span> <span class="idlParamName">successCallback</span>,
      optional<span class="idlType"> <a href="#dom-positionerrorcallback" class="internalDFN" data-link-type="idl" id="ref-for-dom-positionerrorcallback-1"><code>PositionErrorCallback</code></a>?</span> <span class="idlParamName">errorCallback</span> = null,
      optional<span class="idlType"> <a href="#dom-positionoptions" class="internalDFN" data-link-type="idl" id="ref-for-dom-positionoptions-3"><code>PositionOptions</code></a></span> <span class="idlParamName">options</span> = {}
    );</span><span data-idl="" class="idlMethod" id="idl-def-geolocation-watchposition-successcallback-errorcallback-options" data-title="watchPosition" data-dfn-for="Geolocation"><span class="idlType">
  
    <a data-type="interface" href="https://heycam.github.io/webidl/#idl-long" id="ref-for-index-term-long-type-1">long</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-geolocation-watchposition" id="ref-for-dom-geolocation-watchposition-3"><code>watchPosition</code></a> (<span class="idlType">
      <a href="#dom-positioncallback" class="internalDFN" data-link-type="idl" id="ref-for-dom-positioncallback-2"><code>PositionCallback</code></a></span> <span class="idlParamName">successCallback</span>,
      optional<span class="idlType"> <a href="#dom-positionerrorcallback" class="internalDFN" data-link-type="idl" id="ref-for-dom-positionerrorcallback-2"><code>PositionErrorCallback</code></a>?</span> <span class="idlParamName">errorCallback</span> = null,
      optional<span class="idlType"> <a href="#dom-positionoptions" class="internalDFN" data-link-type="idl" id="ref-for-dom-positionoptions-4"><code>PositionOptions</code></a></span> <span class="idlParamName">options</span> = {}
    );</span><span data-idl="" class="idlMethod" id="idl-def-geolocation-clearwatch-watchid" data-title="clearWatch" data-dfn-for="Geolocation"><span class="idlType">
  
    <a data-type="interface" href="https://heycam.github.io/webidl/#idl-undefined" id="ref-for-index-term-undefined-type-2">undefined</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-geolocation-clearwatch" id="ref-for-dom-geolocation-clearwatch-2"><code>clearWatch</code></a> (<span class="idlType"><a data-type="interface" href="https://heycam.github.io/webidl/#idl-long" id="ref-for-index-term-long-type-2">long</a></span> <span class="idlParamName">watchId</span>);</span>
  };</span><span data-idl="" class="idlCallback" id="idl-def-positioncallback" data-title="PositionCallback">
  
  callback <dfn data-export="" data-dfn-type="callback" id="dom-positioncallback" data-idl="callback" data-title="PositionCallback" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>PositionCallback</code></dfn> =<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-undefined" id="ref-for-index-term-undefined-type-3">undefined</a></span> (<span class="idlType">
    <a href="#dom-geolocationposition" class="internalDFN" data-link-type="idl" id="ref-for-dom-geolocationposition-2"><code>GeolocationPosition</code></a></span> <span class="idlParamName">position</span>
  );</span><span data-idl="" class="idlCallback" id="idl-def-positionerrorcallback" data-title="PositionErrorCallback">
  
  callback <dfn data-export="" data-dfn-type="callback" id="dom-positionerrorcallback" data-idl="callback" data-title="PositionErrorCallback" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>PositionErrorCallback</code></dfn> =<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-undefined" id="ref-for-index-term-undefined-type-4">undefined</a></span> (<span class="idlType">
    <a href="#dom-geolocationpositionerror" class="internalDFN" data-link-type="idl" id="ref-for-dom-geolocationpositionerror-3"><code>GeolocationPositionError</code></a></span> <span class="idlParamName">positionError</span>
  );</span></code></pre>
        <section id="internal-slots">
          <h3 id="x5-1-internal-slots"><bdi class="secno">5.1 </bdi>
            Internal slots
          <a class="self-link" aria-label="§" href="#internal-slots"></a></h3>
          <p>
            Instances of <a data-link-type="idl" data-lt="Geolocation" href="#dom-geolocation" class="internalDFN" id="ref-for-dom-geolocation-2"><code>Geolocation</code></a> are created with the internal slots in
            the following table:
          </p>
          <div class="overlarge"><table class="data">
            <tbody><tr>
              <th>
                Internal slot
              </th>
              <th>
                Description
              </th>
            </tr>
            <tr>
              <td>
                <dfn data-dfn-for="Geolocation" data-idl="" data-noexport="" data-dfn-type="attribute" id="dfn-cachedposition" tabindex="0" aria-haspopup="dialog">[[cachedPosition]]</dfn>
              </td>
              <td>
                A <a data-link-type="idl" data-lt="GeolocationPosition" href="#dom-geolocationposition" class="internalDFN" id="ref-for-dom-geolocationposition-3"><code>GeolocationPosition</code></a>, initialized to null. It's a reference
                to the last acquired position and serves as a cache. A user agent
                <em class="rfc2119">MAY</em> evict <a data-lt="[[cachedPosition]]" href="#dfn-cachedposition" class="internalDFN" data-link-type="idl" id="ref-for-dfn-cachedposition-1"><code>[[cachedPosition]]</code></a> by resetting it to
                null at any time for any reason.
              </td>
            </tr>
            <tr>
              <td>
                <dfn data-dfn-for="Geolocation" data-idl="" data-noexport="" data-dfn-type="attribute" id="dfn-watchtasks" tabindex="0" aria-haspopup="dialog">[[watchTasks]]</dfn>
              </td>
              <td>
                Initialized as an empty <a data-link-type="dfn" data-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-index-term-set-1">set</a> of <a data-link-type="idl" data-lt="unsigned long" data-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-index-term-unsigned-long-type-1"><code>unsigned long</code></a>
                <a data-link-type="dfn" data-lt="item" data-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-index-term-item-for-list-1">items</a>, which represent the identifier for timed
                <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" id="ref-for-index-term-task-1">task</a>.
              </td>
            </tr>
          </tbody></table></div>
        </section>
        <aside class="mdn"><details>
      <summary aria-label="Expand MDN details for getCurrentPosition"><span>MDN</span><span title="This feature is in all major engines.">✅</span></summary>
      <a title="The Geolocation.getCurrentPosition() method is used to get the current position of the device." href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation/getCurrentPosition">Geolocation/getCurrentPosition</a>
      <p class="engines-all">This feature is in all major engines.</p>
      <table>
      <tr class="chrome yes">
        <td>Chrome</td>
        <td>5+</td>
      </tr><tr class="chrome_android yes">
        <td>Chrome Android</td>
        <td>18+</td>
      </tr><tr class="edge yes">
        <td>Edge</td>
        <td>12+</td>
      </tr><tr class="edge_mobile unknown">
        <td>Edge Mobile</td>
        <td>?</td>
      </tr><tr class="firefox yes">
        <td>Firefox</td>
        <td>3.5+</td>
      </tr><tr class="firefox_android yes">
        <td>Firefox Android</td>
        <td>4+</td>
      </tr><tr class="ie yes">
        <td>Internet Explorer</td>
        <td>9+</td>
      </tr><tr class="opera yes">
        <td>Opera</td>
        <td>10.6+</td>
      </tr><tr class="opera_android yes">
        <td>Opera Android</td>
        <td>11+</td>
      </tr><tr class="safari yes">
        <td>Safari</td>
        <td>5+</td>
      </tr><tr class="safari_ios yes">
        <td>Safari iOS</td>
        <td>3+</td>
      </tr><tr class="samsunginternet_android yes">
        <td>Samsung Internet</td>
        <td>1.0+</td>
      </tr><tr class="webview_android yes">
        <td>WebView Android</td>
        <td>37+</td>
      </tr>
    </table>
    </details></aside><section id="getcurrentposition-method">
          <h3 id="x5-2-getcurrentposition-method"><bdi class="secno">5.2 </bdi>
            <code>getCurrentPosition()</code> method
          <a class="self-link" aria-label="§" href="#getcurrentposition-method"></a></h3>
          <p data-tests="getCurrentPosition_IDL.https.html, getCurrentPosition_TypeError.html">
            The <dfn data-export="" data-dfn-type="method" id="dom-geolocation-getcurrentposition" data-idl="operation" data-title="getCurrentPosition" data-dfn-for="Geolocation" data-type="undefined" data-lt="getCurrentPosition()|getCurrentPosition(successCallback)|getCurrentPosition(successCallback, errorCallback)|getCurrentPosition(successCallback, errorCallback, options)" data-local-lt="Geolocation.getCurrentPosition|Geolocation.getCurrentPosition()|getCurrentPosition" tabindex="0" aria-haspopup="dialog"><code>getCurrentPosition</code></dfn>(<var data-type="PositionCallback">successCallback</var>,
            <var data-type="PositionErrorCallback">errorCallback</var>, <var data-type="PositionOptions">options</var>)
            method steps are:
          </p>
          <ol class="algorithm">
            <li>If the <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object" id="ref-for-index-term-current-settings-object-1">current settings object</a>'s <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/window-object.html#concept-document-window" id="ref-for-index-term-associated-document-1">associated <code>Document</code></a> is
            not <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#fully-active" id="ref-for-index-term-fully-active-for-document-1">fully active</a>, <a data-link-type="dfn" href="#dfn-call-back-with-error" class="internalDFN" id="ref-for-dfn-call-back-with-error-1">call back with error</a>
            <var data-type="PositionErrorCallback">errorCallback</var> and
            <a data-link-type="idl" href="#dom-geolocationpositionerror-position_unavailable" class="internalDFN" id="ref-for-dom-geolocationpositionerror-position_unavailable-1"><code>POSITION_UNAVAILABLE</code></a>.
            </li>
            <li>Otherwise, <a data-link-type="dfn" href="#dfn-request-position" class="internalDFN" id="ref-for-dfn-request-position-2">request position</a>, passing <var data-type="PositionCallback">successCallback</var>,
            <var data-type="PositionErrorCallback">errorCallback</var>, <var data-type="PositionOptions">options</var>, and (repeats) false.
            </li>
            <li>Return <code>undefined</code>.
            </li>
          </ol>
        </section>
        <aside class="mdn"><details>
      <summary aria-label="Expand MDN details for watchPosition"><span>MDN</span><span title="This feature is in all major engines.">✅</span></summary>
      <a title="The Geolocation method watchPosition() method is used to register a handler function that will be called automatically each time the position of the device changes. You can also, optionally, specify an error handling callback function." href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation/watchPosition">Geolocation/watchPosition</a>
      <p class="engines-all">This feature is in all major engines.</p>
      <table>
      <tr class="chrome yes">
        <td>Chrome</td>
        <td>5+</td>
      </tr><tr class="chrome_android yes">
        <td>Chrome Android</td>
        <td>18+</td>
      </tr><tr class="edge yes">
        <td>Edge</td>
        <td>12+</td>
      </tr><tr class="edge_mobile unknown">
        <td>Edge Mobile</td>
        <td>?</td>
      </tr><tr class="firefox yes">
        <td>Firefox</td>
        <td>3.5+</td>
      </tr><tr class="firefox_android yes">
        <td>Firefox Android</td>
        <td>4+</td>
      </tr><tr class="ie yes">
        <td>Internet Explorer</td>
        <td>9+</td>
      </tr><tr class="opera yes">
        <td>Opera</td>
        <td>10.6+</td>
      </tr><tr class="opera_android yes">
        <td>Opera Android</td>
        <td>11+</td>
      </tr><tr class="safari yes">
        <td>Safari</td>
        <td>5+</td>
      </tr><tr class="safari_ios yes">
        <td>Safari iOS</td>
        <td>3+</td>
      </tr><tr class="samsunginternet_android yes">
        <td>Samsung Internet</td>
        <td>1.0+</td>
      </tr><tr class="webview_android yes">
        <td>WebView Android</td>
        <td>37+</td>
      </tr>
    </table>
    </details></aside><section id="watchposition-method">
          <h3 id="x5-3-watchposition-method"><bdi class="secno">5.3 </bdi>
            <code>watchPosition()</code> method
          <a class="self-link" aria-label="§" href="#watchposition-method"></a></h3>
          <p data-tests="getCurrentPosition_permission_allow.https.html, getCurrentPosition_permission_deny.https.html">
            The <dfn data-export="" data-dfn-type="method" id="dom-geolocation-watchposition" data-idl="operation" data-title="watchPosition" data-dfn-for="Geolocation" data-type="long" data-lt="watchPosition()|watchPosition(successCallback)|watchPosition(successCallback, errorCallback)|watchPosition(successCallback, errorCallback, options)" data-local-lt="Geolocation.watchPosition|Geolocation.watchPosition()|watchPosition" tabindex="0" aria-haspopup="dialog"><code>watchPosition</code></dfn>(<var data-type="PositionCallback">successCallback</var>,
            <var data-type="PositionErrorCallback">errorCallback</var>, <var data-type="PositionOptions">options</var>)
            method steps are:
          </p>
          <ol class="algorithm">
            <li>If the <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object" id="ref-for-index-term-current-settings-object-2">current settings object</a>'s <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/window-object.html#concept-document-window" id="ref-for-index-term-associated-document-2">associated <code>Document</code></a> is
            not <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#fully-active" id="ref-for-index-term-fully-active-for-document-2">fully active</a>:
              <ol>
                <li><a data-link-type="dfn" href="#dfn-call-back-with-error" class="internalDFN" id="ref-for-dfn-call-back-with-error-2">Call back with error</a> <var data-type="PositionErrorCallback">errorCallback</var> and
                <a data-link-type="idl" href="#dom-geolocationpositionerror-position_unavailable" class="internalDFN" id="ref-for-dom-geolocationpositionerror-position_unavailable-2"><code>POSITION_UNAVAILABLE</code></a>.
                </li>
                <li>Return 0.
                </li>
              </ol>
            </li>
            <li>Let <var data-type="long">watchId</var> be <a data-link-type="dfn" href="#dfn-request-position" class="internalDFN" id="ref-for-dfn-request-position-3">request position</a>, passing
            <var data-type="PositionCallback">successCallback</var>, <var data-type="PositionErrorCallback">errorCallback</var>, <var data-type="PositionOptions">options</var>, and (repeats) true.
            </li>
            <li>Return <var data-type="long">watchId</var>.
            </li>
          </ol>
        </section>
        <aside class="mdn"><details>
      <summary aria-label="Expand MDN details for clearWatch"><span>MDN</span><span title="This feature is in all major engines.">✅</span></summary>
      <a title="The Geolocation.clearWatch() method is used to unregister location/error monitoring handlers previously installed using Geolocation.watchPosition()." href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation/clearWatch">Geolocation/clearWatch</a>
      <p class="engines-all">This feature is in all major engines.</p>
      <table>
      <tr class="chrome yes">
        <td>Chrome</td>
        <td>5+</td>
      </tr><tr class="chrome_android yes">
        <td>Chrome Android</td>
        <td>18+</td>
      </tr><tr class="edge yes">
        <td>Edge</td>
        <td>12+</td>
      </tr><tr class="edge_mobile unknown">
        <td>Edge Mobile</td>
        <td>?</td>
      </tr><tr class="firefox yes">
        <td>Firefox</td>
        <td>3.5+</td>
      </tr><tr class="firefox_android yes">
        <td>Firefox Android</td>
        <td>4+</td>
      </tr><tr class="ie yes">
        <td>Internet Explorer</td>
        <td>9+</td>
      </tr><tr class="opera yes">
        <td>Opera</td>
        <td>10.6+</td>
      </tr><tr class="opera_android yes">
        <td>Opera Android</td>
        <td>11+</td>
      </tr><tr class="safari yes">
        <td>Safari</td>
        <td>5+</td>
      </tr><tr class="safari_ios yes">
        <td>Safari iOS</td>
        <td>3+</td>
      </tr><tr class="samsunginternet_android yes">
        <td>Samsung Internet</td>
        <td>1.0+</td>
      </tr><tr class="webview_android yes">
        <td>WebView Android</td>
        <td>37+</td>
      </tr>
    </table>
    </details></aside><section id="clearwatch-method">
          <h3 id="x5-4-clearwatch-method"><bdi class="secno">5.4 </bdi>
            <code>clearWatch()</code> method
          <a class="self-link" aria-label="§" href="#clearwatch-method"></a></h3>
          <p data-tests="clearWatch_TypeError.html">
            When <dfn data-export="" data-dfn-type="method" id="dom-geolocation-clearwatch" data-idl="operation" data-title="clearWatch()" data-dfn-for="Geolocation" data-type="undefined" data-lt="clearWatch()|clearWatch(watchId)" data-local-lt="Geolocation.clearWatch|Geolocation.clearWatch()|clearWatch" tabindex="0" aria-haspopup="dialog"><code>clearWatch()</code></dfn> is invoked, the user agent <em class="rfc2119">MUST</em>:
          </p>
          <ol class="algorithm">
            <li>If <a data-link-type="dfn" data-type="dfn" href="https://heycam.github.io/webidl/#this" id="ref-for-index-term-this-1">this</a>'s <a data-lt="[[watchTasks]]" href="#dfn-watchtasks" class="internalDFN" data-link-type="idl" id="ref-for-dfn-watchtasks-1"><code>[[watchTasks]]</code></a>[<var>watchId</var>]
            <a data-link-type="dfn" data-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-index-term-exists-for-map-1">exists</a>, <a data-link-type="dfn" data-type="dfn" href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-index-term-remove-for-map-1">remove</a> <a data-link-type="dfn" data-type="dfn" href="https://heycam.github.io/webidl/#this" id="ref-for-index-term-this-2">this</a>'s
            <a data-lt="[[watchTasks]]" href="#dfn-watchtasks" class="internalDFN" data-link-type="idl" id="ref-for-dfn-watchtasks-2"><code>[[watchTasks]]</code></a>[<var>watchId</var>].
            </li>
          </ol>
        </section>
        <section id="request-position">
          <h3 id="x5-5-request-position"><bdi class="secno">5.5 </bdi>
            Request position
          <a class="self-link" aria-label="§" href="#request-position"></a></h3>
          <p>
            <dfn id="dfn-request-position" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Request position</dfn> by passing a <a data-link-type="idl" data-lt="PositionCallback" href="#dom-positioncallback" class="internalDFN" id="ref-for-dom-positioncallback-3"><code>PositionCallback</code></a>
            <var data-type="PositionCallback">successCallback</var>, a <a data-link-type="idl" data-lt="PositionErrorCallback" href="#dom-positionerrorcallback" class="internalDFN" id="ref-for-dom-positionerrorcallback-3"><code>PositionErrorCallback</code></a><code>?</code>
            <var data-type="PositionErrorCallback">errorCallback</var>, <a data-link-type="idl" data-lt="PositionOptions" href="#dom-positionoptions" class="internalDFN" id="ref-for-dom-positionoptions-5"><code>PositionOptions</code></a>
            <var data-type="PositionOptions">options</var>, a <a data-link-type="idl" data-lt="boolean" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-index-term-boolean-type-1"><code>boolean</code></a> <var data-type="boolean">repeats</var>, and
            optionally (and only if <var data-type="boolean">repeats</var> is true) a <var data-type="long">previousId</var>.
          </p>
          <ol class="algorithm">
            <li>Let <var data-type="Set">watchTasks</var> be <a data-link-type="dfn" data-type="dfn" href="https://heycam.github.io/webidl/#this" id="ref-for-index-term-this-3">this</a>'s
            <a data-lt="[[watchTasks]]" href="#dfn-watchtasks" class="internalDFN" data-link-type="idl" id="ref-for-dfn-watchtasks-3"><code>[[watchTasks]]</code></a>.
            </li>
            <li>If <var data-type="long">previousId</var> was provided, let <var data-type="long">watchId</var> be <var data-type="long">previousId</var>;
            Otherwise, let <var data-type="long">watchId</var> be an <a data-link-type="dfn" data-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-index-term-implementation-defined-1">implementation-defined</a>
            <a data-link-type="idl" data-lt="long" data-type="interface" href="https://heycam.github.io/webidl/#idl-long" id="ref-for-index-term-long-type-3"><code>long</code></a> that is greater than or equal to zero.
            </li>
            <li><a data-link-type="dfn" data-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-index-term-append-for-set-1">Append</a> <var data-type="long">watchId</var> to <var data-type="Set">watchTasks</var>.
            </li>
            <li>Let <var>global</var> be <a data-link-type="dfn" data-type="dfn" href="https://heycam.github.io/webidl/#this" id="ref-for-index-term-this-4">this</a>'s <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-index-term-relevant-global-object-1">relevant global object</a>.
            </li>
            <li><a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-index-term-queue-a-global-task-1">Queue a global task</a> using the <a data-link-type="dfn" href="#dfn-geolocation-task-source" class="internalDFN" id="ref-for-dfn-geolocation-task-source-1">geolocation task source</a>
            with <var>global</var> to run the following steps <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-index-term-in-parallel-1">in parallel</a>:
              <ol>
                <li>Do security check.
                  <ol>
                    <li>If the <a data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-index-term-environment-settings-object-1">environment settings object</a> is a
                    <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#non-secure-context" id="ref-for-index-term-non-secure-context-1">non-secure context</a>, then:
                      <ol>
                        <li><a data-link-type="dfn" href="#dfn-call-back-with-error" class="internalDFN" id="ref-for-dfn-call-back-with-error-3">Call back with error</a> <var data-type="PositionErrorCallback">errorCallback</var> and
                        <a data-link-type="idl" href="#dom-geolocationpositionerror-permission_denied" class="internalDFN" id="ref-for-dom-geolocationpositionerror-permission_denied-1"><code>PERMISSION_DENIED</code></a>.
                        </li>
                        <li><a data-link-type="dfn" data-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-index-term-remove-for-list-1">Remove</a> <var data-type="long">watchId</var> from <var data-type="Set">watchTasks</var>.
                        </li>
                        <li>Terminate this algorithm.
                        </li>
                      </ol>
                    </li>
                  </ol>
                </li>
                <li>Wait for document to become visible.
                  <ol>
                    <li>Let <var data-type="Document">document</var> be the <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object" id="ref-for-index-term-current-settings-object-3">current settings object</a>'s <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/window-object.html#concept-document-window" id="ref-for-index-term-associated-document-3">associated Document</a>.
                    </li>
                    <li>If <var data-type="Document">document</var> is <a data-link-type="dfn" data-type="dfn" href="https://www.w3.org/TR/page-visibility-2/#dfn-hidden" id="ref-for-index-term-hidden-for-document-1">hidden</a>, wait for
                    the <var data-type="Document">document</var> to become <a data-link-type="dfn" data-type="dfn" href="https://www.w3.org/TR/page-visibility-2/#dfn-visible" id="ref-for-index-term-visible-for-document-1">visible</a>.
                    </li>
                    <li>Go to <a href="#wait-for-change">wait for significant
                    change of geographic position</a>.
                    </li>
                  </ol>
                </li>
                <li data-tests="getCurrentPosition_permission_allow.https.html, getCurrentPosition_permission_deny.https.html">
                <a data-link-type="dfn" href="#dfn-check-permission" class="internalDFN" id="ref-for-dfn-check-permission-2">Check permission</a> passing <var data-type="PositionErrorCallback">errorCallback</var>. If the check
                returns failure:
                  <ol>
                    <li><a data-link-type="dfn" data-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-index-term-remove-for-list-2">Remove</a> <var data-type="long">watchId</var> from <var data-type="Set">watchTasks</var>.
                    </li>
                    <li>Terminate this algorithm.
                    </li>
                  </ol>
                </li>
                <li>
                  <dfn data-local-lt="acquiring a position|acquire a position" data-lt="Acquire position|acquiring a position|acquire a position" id="dfn-acquire-position" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Acquire
                  position</dfn>.
                  <ol>
                    <li>Let <var data-type="DOMTimeStamp">acquisitionTime</var> be a new
                    <a data-link-type="idl" data-lt="DOMTimeStamp" data-type="typedef" href="https://heycam.github.io/webidl/#DOMTimeStamp" id="ref-for-index-term-domtimestamp-1"><code>DOMTimeStamp</code></a> that represents now in milliseconds, using
                    01 January, 1970 UTC as the epoch.
                    </li>
                    <li>If <var data-type="PositionOptions">options</var>.<a data-link-type="idl" href="#dom-positionoptions-maximumage" class="internalDFN" id="ref-for-dom-positionoptions-maximumage-2"><code>maximumAge</code></a> is greater
                    than 0, and <var>cachedPosition</var> is not null:
                      <ol>
                        <li>Let <var data-type="GeolocationPosition">cachedPosition</var> be
                        <a data-link-type="dfn" data-type="dfn" href="https://heycam.github.io/webidl/#this" id="ref-for-index-term-this-5">this</a>'s <a data-lt="[[cachedPosition]]" href="#dfn-cachedposition" class="internalDFN" data-link-type="idl" id="ref-for-dfn-cachedposition-2"><code>[[cachedPosition]]</code></a>.
                        </li>
                        <li>Let <var data-type="long">cacheTime</var> be <var data-type="DOMTimeStamp">acquisitionTime</var> minus the
                        value of <var data-type="PositionOptions">options</var>.<a data-link-type="idl" href="#dom-positionoptions-maximumage" class="internalDFN" id="ref-for-dom-positionoptions-maximumage-3"><code>maximumAge</code></a> member.
                        </li>
                        <li>If <var data-type="GeolocationPosition">cachedPosition</var>'s
                        <a data-link-type="idl" href="#dom-geolocationposition-timestamp" class="internalDFN" id="ref-for-dom-geolocationposition-timestamp-1"><code>timestamp</code></a>'s value is greater than
                        <var data-type="long">cacheTime</var>, and
                        <var data-type="GeolocationPosition">cachedPosition</var>.<a data-lt="[[isHighAccuracy]]" href="#dfn-ishighaccuracy" class="internalDFN" data-link-type="idl" id="ref-for-dfn-ishighaccuracy-1"><code>[[isHighAccuracy]]</code></a>
                        equals <var data-type="PositionOptions">options</var>.<a data-link-type="idl" href="#dom-positionoptions-enablehighaccuracy" class="internalDFN" id="ref-for-dom-positionoptions-enablehighaccuracy-2"><code>enableHighAccuracy</code></a>:
                          <ol>
                            <li><a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-index-term-queue-a-task-1">Queue a task</a> on the <a data-link-type="dfn" href="#dfn-geolocation-task-source" class="internalDFN" id="ref-for-dfn-geolocation-task-source-2">geolocation task source</a> with a step that <a data-link-type="dfn" data-type="dfn" href="https://heycam.github.io/webidl/#invoke-a-callback-function" id="ref-for-index-term-invokes-1">invokes</a>
                            <var data-type="PositionCallback">successCallback</var> with <var data-type="GeolocationPosition">cachedPosition</var>.
                            </li>
                            <li>Go to <a href="#check-repeats">determine
                            repetition</a> steps below.
                            </li>
                          </ol>
                        </li>
                      </ol>
                    </li>
                    <li>Let <var data-type="Task">timeout</var> be a new timed <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" id="ref-for-index-term-task-2">task</a> that runs in
                    <var data-type="PositionOptions">options</var>.<a data-link-type="idl" href="#dom-positionoptions-timeout" class="internalDFN" id="ref-for-dom-positionoptions-timeout-2"><code>timeout</code></a> milliseconds after
                    <var data-type="DOMTimeStamp">acquisitionTime</var>, which performs the following sub-steps:
                      <div class="note" role="note" id="issue-container-generatedID-0"><div role="heading" class="note-title marker" id="h-note-0" aria-level="4"><span>Note</span><span class="issue-label">: Immediate cancellation</span></div><aside class="">
                        <p>
                          An <var data-type="PositionOptions">options</var>.<a data-link-type="idl" href="#dom-positionoptions-timeout" class="internalDFN" id="ref-for-dom-positionoptions-timeout-3"><code>timeout</code></a> value 0
                          effectively runs the <var data-type="Task">timeout</var> task immediately.
                        </p>
                      </aside></div>
                      <ol>
                        <li>If the entry for <var>timerId</var> in the <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#list-of-active-timers" id="ref-for-index-term-list-of-active-timers-1">list of active timers</a> has been cleared, then abort these steps.
                        </li>
                        <li><a data-link-type="dfn" href="#dfn-call-back-with-error" class="internalDFN" id="ref-for-dfn-call-back-with-error-4">Call back with error</a> with <var data-type="PositionErrorCallback">errorCallback</var> and
                        <a data-link-type="idl" href="#dom-geolocationpositionerror-timeout" class="internalDFN" id="ref-for-dom-geolocationpositionerror-timeout-1"><code>TIMEOUT</code></a>.
                        </li>
                      </ol>
                    </li>
                    <li>Let <var data-type="long">timerId</var> be an <a data-link-type="dfn" data-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-index-term-implementation-defined-2">implementation-defined</a>
                    identifier that represents <var data-type="Task">timeout</var>.
                    </li>
                    <li>Add <var data-type="long">timerId</var> to the <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#list-of-active-timers" id="ref-for-index-term-list-of-active-timers-2">list of active timers</a>.
                    </li>
                    <li>Try to acquire the device's position, optionally taking
                    into consideration the value of
                    <var data-type="PositionOptions">options</var>.<a data-link-type="idl" href="#dom-positionoptions-enablehighaccuracy" class="internalDFN" id="ref-for-dom-positionoptions-enablehighaccuracy-3"><code>enableHighAccuracy</code></a>:
                      <ol>
                        <li>If acquiring a position succeeds:
                          <ol>
                            <li>Let <var data-type="GeolocationPosition">position</var> be <a data-link-type="dfn" href="#dfn-a-new-geolocationposition" class="internalDFN" id="ref-for-dfn-a-new-geolocationposition-1">a new <code>GeolocationPosition</code></a> passing <var data-type="DOMTimeStamp">acquisitionTime</var> and
                            <var data-type="PositionOptions">options</var>.<a data-link-type="idl" href="#dom-positionoptions-enablehighaccuracy" class="internalDFN" id="ref-for-dom-positionoptions-enablehighaccuracy-4"><code>enableHighAccuracy</code></a>.
                            </li>
                            <li>Set <a data-link-type="dfn" data-type="dfn" href="https://heycam.github.io/webidl/#this" id="ref-for-index-term-this-6">this</a>'s <a data-lt="[[cachedPosition]]" href="#dfn-cachedposition" class="internalDFN" data-link-type="idl" id="ref-for-dfn-cachedposition-3"><code>[[cachedPosition]]</code></a>
                            to <var data-type="GeolocationPosition">position</var>.
                            </li>
                            <li><a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-index-term-queue-a-task-2">Queue a task</a> on the <a data-link-type="dfn" href="#dfn-geolocation-task-source" class="internalDFN" id="ref-for-dfn-geolocation-task-source-3">geolocation task source</a> with a step that <a data-link-type="dfn" data-type="dfn" href="https://heycam.github.io/webidl/#invoke-a-callback-function" id="ref-for-index-term-invokes-2">invokes</a>
                            <var data-type="PositionCallback">successCallback</var> with <var data-type="GeolocationPosition">position</var>.
                            </li>
                          </ol>
                        </li>
                        <li>If acquiring a position fails:
                          <ol>
                            <li><a data-link-type="dfn" href="#dfn-call-back-with-error" class="internalDFN" id="ref-for-dfn-call-back-with-error-5">Call back with error</a> passing <var data-type="PositionErrorCallback">errorCallback</var>
                            and
                            <a data-link-type="idl" href="#dom-geolocationpositionerror-position_unavailable" class="internalDFN" id="ref-for-dom-geolocationpositionerror-position_unavailable-3"><code>POSITION_UNAVAILABLE</code></a>.
                            </li>
                          </ol>
                        </li>
                      </ol>
                    </li>
                    <li>Clear <var data-type="long">timerId</var> from the <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#list-of-active-timers" id="ref-for-index-term-list-of-active-timers-3">list of active timers</a>.
                    </li>
                  </ol>
                </li>
                <li>
                  <span id="check-repeats">Determine repetition</span>.
                  <ol>
                    <li>If <var data-type="boolean">repeats</var> is false:
                      <ol>
                        <li><a data-link-type="dfn" data-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-index-term-remove-for-list-3">Remove</a> <var data-type="long">watchId</var> from <var data-type="Set">watchTasks</var>.
                        </li>
                        <li>Terminate this algorithm.
                        </li>
                      </ol>
                    </li>
                  </ol>
                </li>
                <li>
                  <span id="wait-for-change">Wait for a significant change of
                  geographic position</span>. What constitutes a significant
                  change of geographic position is left to the implementation.
                  User agents <em class="rfc2119">MAY</em> impose a rate limit on the frequency position
                  changes.
                </li>
                <li>If <var data-type="Document">document</var> is not <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#fully-active" id="ref-for-index-term-fully-active-for-document-3">fully active</a> or not
                <a data-link-type="dfn" data-type="dfn" href="https://www.w3.org/TR/page-visibility-2/#dfn-visible" id="ref-for-index-term-visible-for-document-2">visible</a>, go back to the previous step and again
                <a href="#wait-for-change">wait for significant change of
                geographic position</a>.
                  <div class="note" role="note" id="issue-container-generatedID-1"><div role="heading" class="note-title marker" id="h-note-1" aria-level="4"><span>Note</span><span class="issue-label">: Position updates are exclusively for fully-active visible documents</span></div><aside class="">
                    <p>
                      The desired effect here being that position updates are
                      exclusively delivered to fully active documents that are
                      visible; Otherwise the updates get silently "dropped on the
                      floor". Only once a document again becomes fully active and
                      visible (e.g., an <code><a data-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" id="ref-for-index-term-iframe-element-2">iframe</a></code> gets reattached to a parent
                      document), do the position updates once again start getting
                      delivered.
                    </p>
                  </aside></div>
                </li>
                <li>If <var data-type="Set">watchTasks</var> <a data-link-type="dfn" data-lt="contain" data-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-index-term-contain-for-list-1">contains</a> <var data-type="long">watchId</var>, then:
                  <ol>
                    <li><a data-link-type="dfn" href="#dfn-request-position" class="internalDFN" id="ref-for-dfn-request-position-4">Request position</a> passing <var data-type="PositionCallback">successCallback</var>,
                    <var data-type="PositionErrorCallback">errorCallback</var>, <var data-type="PositionOptions">options</var>, <var data-type="boolean">repeats</var>, and <var data-type="long">watchId</var>.
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li>Return <var data-type="long">watchId</var>.
            </li>
          </ol>
        </section>
        <section id="check-permission">
          <h3 id="x5-6-check-permission"><bdi class="secno">5.6 </bdi>
            Check permission
          <a class="self-link" aria-label="§" href="#check-permission"></a></h3>
          <p>
            When instructed to <dfn id="dfn-check-permission" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">check permission</dfn>, given a
            <a data-link-type="idl" data-lt="PositionErrorCallback" href="#dom-positionerrorcallback" class="internalDFN" id="ref-for-dom-positionerrorcallback-4"><code>PositionErrorCallback</code></a><code>?</code> <var data-type="PositionErrorCallback">errorCallback</var>:
          </p>
          <ol class="algorithm">
            <li>Let <var data-type="PermissionState">permission</var> be <a data-link-type="dfn" data-type="dfn" href="https://www.w3.org/TR/permissions/#dfn-request-permission-to-use" id="ref-for-index-term-request-permission-to-use-1">request permission to use</a>
            "geolocation".
            </li>
            <li data-cite="permissions">If <var data-type="PermissionState">permission</var> is
            "<a data-link-type="idl" data-type="enum-value" href="https://www.w3.org/TR/permissions/#dom-permissionstate-denied" id="ref-for-index-term-denied-for-permissionstate-1"><code>denied</code></a>", then:
              <ol>
                <li><a data-link-type="dfn" href="#dfn-call-back-with-error" class="internalDFN" id="ref-for-dfn-call-back-with-error-6">Call back with error</a> <var data-type="PositionErrorCallback">errorCallback</var> and
                <a data-link-type="idl" href="#dom-geolocationpositionerror-permission_denied" class="internalDFN" id="ref-for-dom-geolocationpositionerror-permission_denied-2"><code>PERMISSION_DENIED</code></a>.
                </li>
                <li>Return failure.
                </li>
              </ol>
            </li>
          </ol>
        </section>
        <section id="call-back-with-error">
          <h3 id="x5-7-call-back-with-error"><bdi class="secno">5.7 </bdi>
            Call back with error
          <a class="self-link" aria-label="§" href="#call-back-with-error"></a></h3>
          <p>
            When instructed to <dfn id="dfn-call-back-with-error" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">call back with error</dfn>, given an
            <a data-link-type="idl" data-lt="PositionErrorCallback" href="#dom-positionerrorcallback" class="internalDFN" id="ref-for-dom-positionerrorcallback-5"><code>PositionErrorCallback</code></a><code>?</code> <var data-type="PositionErrorCallback">callback</var> and an
            <a data-link-type="idl" data-lt="unsigned short" data-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="ref-for-index-term-unsigned-short-type-1"><code>unsigned short</code></a> <var data-type="unsigned short">code</var>:
          </p>
          <ol class="algorithm">
            <li>If <var data-type="PositionErrorCallback">callback</var> is null, return.
            </li>
            <li>Let <var data-type="GeolocationPositionError">error</var> be a newly created
            <a data-link-type="idl" data-lt="GeolocationPositionError" href="#dom-geolocationpositionerror" class="internalDFN" id="ref-for-dom-geolocationpositionerror-4"><code>GeolocationPositionError</code></a> instance whose
            <a data-link-type="idl" href="#dom-geolocationpositionerror-code" class="internalDFN" id="ref-for-dom-geolocationpositionerror-code-1"><code>code</code></a> attribute is initialized to <var data-type="unsigned short">code</var>.
            </li>
            <li><a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-index-term-queue-a-task-3">Queue a task</a> on the <a data-link-type="dfn" href="#dfn-geolocation-task-source" class="internalDFN" id="ref-for-dfn-geolocation-task-source-4">geolocation task source</a> with a step
            that <a data-link-type="dfn" data-type="dfn" href="https://heycam.github.io/webidl/#invoke-a-callback-function" id="ref-for-index-term-invokes-3">invokes</a> <var data-type="PositionErrorCallback">callback</var> with <var data-type="GeolocationPositionError">error</var>.
            </li>
          </ol>
        </section>
      </section>
      <aside class="mdn"><details>
      <summary aria-label="Expand MDN details for PositionOptions"><span>MDN</span><span title="This feature is in all major engines.">✅</span></summary>
      <a title="The PositionOptions dictionary describes an object containing option properties to pass as a parameter of Geolocation.getCurrentPosition() and Geolocation.watchPosition()." href="https://developer.mozilla.org/en-US/docs/Web/API/PositionOptions">PositionOptions</a>
      <p class="engines-all">This feature is in all major engines.</p>
      <table>
      <tr class="chrome yes">
        <td>Chrome</td>
        <td>5+</td>
      </tr><tr class="chrome_android yes">
        <td>Chrome Android</td>
        <td>18+</td>
      </tr><tr class="edge yes">
        <td>Edge</td>
        <td>12+</td>
      </tr><tr class="edge_mobile unknown">
        <td>Edge Mobile</td>
        <td>?</td>
      </tr><tr class="firefox yes">
        <td>Firefox</td>
        <td>3.5+</td>
      </tr><tr class="firefox_android yes">
        <td>Firefox Android</td>
        <td>4+</td>
      </tr><tr class="ie yes">
        <td>Internet Explorer</td>
        <td>9+</td>
      </tr><tr class="opera unknown">
        <td>Opera</td>
        <td>?</td>
      </tr><tr class="opera_android unknown">
        <td>Opera Android</td>
        <td>?</td>
      </tr><tr class="safari yes">
        <td>Safari</td>
        <td>5+</td>
      </tr><tr class="safari_ios yes">
        <td>Safari iOS</td>
        <td>5+</td>
      </tr><tr class="samsunginternet_android yes">
        <td>Samsung Internet</td>
        <td>1.0+</td>
      </tr><tr class="webview_android yes">
        <td>WebView Android</td>
        <td>37+</td>
      </tr>
    </table>
    </details></aside><section id="position_options_interface" data-dfn-for="PositionOptions">
        <h2 id="x6-positionoptions-dictionary"><bdi class="secno">6. </bdi>
          <dfn data-export="" data-dfn-type="dictionary" id="dom-positionoptions" data-idl="dictionary" data-title="PositionOptions" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>PositionOptions</code></dfn> dictionary
        <a class="self-link" aria-label="§" href="#position_options_interface"></a></h2>
        <pre class="idl def" id="webidl-1341144555"><span class="idlHeader"><a class="self-link" href="#webidl-1341144555">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-positionoptions" data-title="PositionOptions">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-positionoptions" id="ref-for-dom-positionoptions-6"><code>PositionOptions</code></a> {<span data-idl="" class="idlMember" id="idl-def-positionoptions-enablehighaccuracy" data-title="enableHighAccuracy" data-dfn-for="PositionOptions"><span class="idlType">
    <a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-index-term-boolean-type-2">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-positionoptions-enablehighaccuracy" id="ref-for-dom-positionoptions-enablehighaccuracy-5"><code>enableHighAccuracy</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-positionoptions-timeout" data-title="timeout" data-dfn-for="PositionOptions">
    [<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Clamp" id="ref-for-index-term-clamp-extended-attribute-1">Clamp</a></span>]<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-index-term-unsigned-long-type-2">unsigned long</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-positionoptions-timeout" id="ref-for-dom-positionoptions-timeout-4"><code>timeout</code></a> = 0xFFFFFFFF;</span><span data-idl="" class="idlMember" id="idl-def-positionoptions-maximumage" data-title="maximumAge" data-dfn-for="PositionOptions">
    [<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Clamp" id="ref-for-index-term-clamp-extended-attribute-2">Clamp</a></span>]<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-index-term-unsigned-long-type-3">unsigned long</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-positionoptions-maximumage" id="ref-for-dom-positionoptions-maximumage-4"><code>maximumAge</code></a> = 0;</span>
  };</span></code></pre>
        <aside class="mdn"><details>
      <summary aria-label="Expand MDN details for enableHighAccuracy"><span>MDN</span><span title="This feature is in all major engines.">✅</span></summary>
      <a title="The PositionOptions.enableHighAccuracy property is a boolean value that indicates the application would like to receive the best possible results. If true and if the device is able to provide a more accurate position, it will do so. Note that this can result in slower response times or increased power consumption (with a GPS chip on a mobile device for example). On the other hand, if false (the default value), the device can take the liberty to save resources by responding more quickly and/or using less power." href="https://developer.mozilla.org/en-US/docs/Web/API/PositionOptions/enableHighAccuracy">PositionOptions/enableHighAccuracy</a>
      <p class="engines-all">This feature is in all major engines.</p>
      <table>
      <tr class="chrome yes">
        <td>Chrome</td>
        <td>5+</td>
      </tr><tr class="chrome_android yes">
        <td>Chrome Android</td>
        <td>18+</td>
      </tr><tr class="edge yes">
        <td>Edge</td>
        <td>12+</td>
      </tr><tr class="edge_mobile unknown">
        <td>Edge Mobile</td>
        <td>?</td>
      </tr><tr class="firefox yes">
        <td>Firefox</td>
        <td>3.5+</td>
      </tr><tr class="firefox_android yes">
        <td>Firefox Android</td>
        <td>4+</td>
      </tr><tr class="ie yes">
        <td>Internet Explorer</td>
        <td>9+</td>
      </tr><tr class="opera unknown">
        <td>Opera</td>
        <td>?</td>
      </tr><tr class="opera_android unknown">
        <td>Opera Android</td>
        <td>?</td>
      </tr><tr class="safari yes">
        <td>Safari</td>
        <td>5+</td>
      </tr><tr class="safari_ios yes">
        <td>Safari iOS</td>
        <td>Yes</td>
      </tr><tr class="samsunginternet_android yes">
        <td>Samsung Internet</td>
        <td>1.0+</td>
      </tr><tr class="webview_android yes">
        <td>WebView Android</td>
        <td>37+</td>
      </tr>
    </table>
    </details></aside><section id="enablehighaccuracy-member">
          <h3 id="x6-1-enablehighaccuracy-member"><bdi class="secno">6.1 </bdi>
            <code>enableHighAccuracy</code> member
          <a class="self-link" aria-label="§" href="#enablehighaccuracy-member"></a></h3>
          <p data-tests="PositionOptions.https.html">
            The <dfn data-export="" data-dfn-type="dict-member" id="dom-positionoptions-enablehighaccuracy" data-idl="field" data-title="enableHighAccuracy" data-dfn-for="PositionOptions" data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>enableHighAccuracy</code></dfn> member provides a hint that the
            application would like to receive the most accurate location data.
            The intended purpose of this member is to allow applications to
            inform the implementation that they do not require high accuracy
            geolocation fixes and, therefore, the implementation <em class="rfc2119">MAY</em> avoid using
            geolocation providers that consume a significant amount of power
            (e.g., GPS).
          </p>
          <div class="note" role="note" id="issue-container-generatedID-2"><div role="heading" class="note-title marker" id="h-note-2" aria-level="4"><span>Note</span><span class="issue-label">: A word of warning about enableHighAccuracy</span></div><aside class="">
            <p>
              The <code>enableHighAccuracy</code> member can result in slower response times
              or increased power consumption. The user might also disable this
              capability, or the device might not be able to provide more
              accurate results than if the flag wasn't specified.
            </p>
          </aside></div>
        </section>
        <aside class="mdn"><details>
      <summary aria-label="Expand MDN details for timeout"><span>MDN</span><span title="This feature is in all major engines.">✅</span></summary>
      <a title="The PositionOptions.timeout property is a positive long value representing the maximum length of time (in milliseconds) the device is allowed to take in order to return a position. The default value is Infinity, meaning that getCurrentPosition() won't return until the position is available." href="https://developer.mozilla.org/en-US/docs/Web/API/PositionOptions/timeout">PositionOptions/timeout</a>
      <p class="engines-all">This feature is in all major engines.</p>
      <table>
      <tr class="chrome yes">
        <td>Chrome</td>
        <td>5+</td>
      </tr><tr class="chrome_android yes">
        <td>Chrome Android</td>
        <td>18+</td>
      </tr><tr class="edge yes">
        <td>Edge</td>
        <td>12+</td>
      </tr><tr class="edge_mobile unknown">
        <td>Edge Mobile</td>
        <td>?</td>
      </tr><tr class="firefox yes">
        <td>Firefox</td>
        <td>3.5+</td>
      </tr><tr class="firefox_android yes">
        <td>Firefox Android</td>
        <td>4+</td>
      </tr><tr class="ie yes">
        <td>Internet Explorer</td>
        <td>9+</td>
      </tr><tr class="opera unknown">
        <td>Opera</td>
        <td>?</td>
      </tr><tr class="opera_android unknown">
        <td>Opera Android</td>
        <td>?</td>
      </tr><tr class="safari yes">
        <td>Safari</td>
        <td>5+</td>
      </tr><tr class="safari_ios yes">
        <td>Safari iOS</td>
        <td>Yes</td>
      </tr><tr class="samsunginternet_android yes">
        <td>Samsung Internet</td>
        <td>1.0+</td>
      </tr><tr class="webview_android yes">
        <td>WebView Android</td>
        <td>37+</td>
      </tr>
    </table>
    </details></aside><section id="timeout-member">
          <h3 id="x6-2-timeout-member"><bdi class="secno">6.2 </bdi>
            <code>timeout</code> member
          <a class="self-link" aria-label="§" href="#timeout-member"></a></h3>
          <p data-tests="PositionOptions.https.html">
            The <dfn data-export="" data-dfn-type="dict-member" id="dom-positionoptions-timeout" data-idl="field" data-title="timeout" data-dfn-for="PositionOptions" data-type="unsigned long" tabindex="0" aria-haspopup="dialog"><code>timeout</code></dfn> member denotes the maximum length of time,
            expressed in milliseconds, before <a data-link-type="dfn" href="#dfn-acquire-position" class="internalDFN" id="ref-for-dfn-acquire-position-4">acquiring a position</a> expires.
          </p>
          <p class="Note">
            The time spent waiting for the document to become visible and for
            <a data-link-type="dfn" data-lt="check permission" href="#dfn-check-permission" class="internalDFN" id="ref-for-dfn-check-permission-3">obtaining permission to use the API</a> is not
            included in the period covered by the <a data-link-type="idl" href="#dom-positionoptions-timeout" class="internalDFN" id="ref-for-dom-positionoptions-timeout-5"><code>timeout</code></a>
            member. The <a data-link-type="idl" href="#dom-positionoptions-timeout" class="internalDFN" id="ref-for-dom-positionoptions-timeout-6"><code>timeout</code></a> member only applies when
            <a data-link-type="dfn" href="#dfn-acquire-position" class="internalDFN" id="ref-for-dfn-acquire-position-5">acquiring a position</a> begins.
          </p>
        </section>
        <aside class="mdn"><details>
      <summary aria-label="Expand MDN details for maximumAge"><span>MDN</span><span title="This feature is in all major engines.">✅</span></summary>
      <a title="The PositionOptions.maximumAge property is a positive long value indicating the maximum age in milliseconds of a possible cached position that is acceptable to return. If set to 0, it means that the device cannot use a cached position and must attempt to retrieve the real current position. If set to Infinity the device must return a cached position regardless of its age." href="https://developer.mozilla.org/en-US/docs/Web/API/PositionOptions/maximumAge">PositionOptions/maximumAge</a>
      <p class="engines-all">This feature is in all major engines.</p>
      <table>
      <tr class="chrome yes">
        <td>Chrome</td>
        <td>5+</td>
      </tr><tr class="chrome_android yes">
        <td>Chrome Android</td>
        <td>18+</td>
      </tr><tr class="edge yes">
        <td>Edge</td>
        <td>12+</td>
      </tr><tr class="edge_mobile unknown">
        <td>Edge Mobile</td>
        <td>?</td>
      </tr><tr class="firefox yes">
        <td>Firefox</td>
        <td>3.5+</td>
      </tr><tr class="firefox_android yes">
        <td>Firefox Android</td>
        <td>4+</td>
      </tr><tr class="ie yes">
        <td>Internet Explorer</td>
        <td>9+</td>
      </tr><tr class="opera unknown">
        <td>Opera</td>
        <td>?</td>
      </tr><tr class="opera_android unknown">
        <td>Opera Android</td>
        <td>?</td>
      </tr><tr class="safari yes">
        <td>Safari</td>
        <td>5+</td>
      </tr><tr class="safari_ios yes">
        <td>Safari iOS</td>
        <td>Yes</td>
      </tr><tr class="samsunginternet_android yes">
        <td>Samsung Internet</td>
        <td>1.0+</td>
      </tr><tr class="webview_android yes">
        <td>WebView Android</td>
        <td>37+</td>
      </tr>
    </table>
    </details></aside><section id="maximumage-member">
          <h3 id="x6-3-maximumage-member"><bdi class="secno">6.3 </bdi>
            <code>maximumAge</code> member
          <a class="self-link" aria-label="§" href="#maximumage-member"></a></h3>
          <p data-tests="PositionOptions.https.html">
            The <dfn data-export="" data-dfn-type="dict-member" id="dom-positionoptions-maximumage" data-idl="field" data-title="maximumAge" data-dfn-for="PositionOptions" data-type="unsigned long" tabindex="0" aria-haspopup="dialog"><code>maximumAge</code></dfn> member indicates that the web application
            is willing to accept a cached position whose age is no greater than
            the specified time in milliseconds.
          </p>
        </section>
      </section>
      <aside class="mdn"><details>
      <summary aria-label="Expand MDN details for GeolocationPosition"><span>MDN</span><span title="This feature is in all major engines.">✅</span></summary>
      <a title="The GeolocationPosition interface represents the position of the concerned device at a given time. The position, represented by a GeolocationCoordinates object, comprehends the 2D position of the device, on a spheroid representing the Earth, but also its altitude and its speed." href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationPosition">GeolocationPosition</a>
      <p class="engines-all">This feature is in all major engines.</p>
      <table>
      <tr class="chrome unknown">
        <td>Chrome</td>
        <td>?</td>
      </tr><tr class="chrome_android unknown">
        <td>Chrome Android</td>
        <td>?</td>
      </tr><tr class="edge no">
        <td>Edge</td>
        <td>No</td>
      </tr><tr class="edge_mobile unknown">
        <td>Edge Mobile</td>
        <td>?</td>
      </tr><tr class="firefox unknown">
        <td>Firefox</td>
        <td>?</td>
      </tr><tr class="firefox_android yes">
        <td>Firefox Android</td>
        <td>4+</td>
      </tr><tr class="ie yes">
        <td>Internet Explorer</td>
        <td>9+</td>
      </tr><tr class="opera yes">
        <td>Opera</td>
        <td>16+</td>
      </tr><tr class="opera_android yes">
        <td>Opera Android</td>
        <td>16+</td>
      </tr><tr class="safari unknown">
        <td>Safari</td>
        <td>?</td>
      </tr><tr class="safari_ios unknown">
        <td>Safari iOS</td>
        <td>?</td>
      </tr><tr class="samsunginternet_android unknown">
        <td>Samsung Internet</td>
        <td>?</td>
      </tr><tr class="webview_android unknown">
        <td>WebView Android</td>
        <td>?</td>
      </tr>
    </table>
    </details></aside><section id="position_interface" data-dfn-for="GeolocationPosition">
        <h2 id="x7-geolocationposition-interface"><bdi class="secno">7. </bdi>
          <code>GeolocationPosition</code> interface
        <a class="self-link" aria-label="§" href="#position_interface"></a></h2>
        <pre class="idl def" id="webidl-1855475801"><span class="idlHeader"><a class="self-link" href="#webidl-1855475801">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-geolocationposition" data-title="GeolocationPosition">[<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-index-term-exposed-extended-attribute-2">Exposed</a>=<a data-type="interface" href="https://html.spec.whatwg.org/multipage/window-object.html#window" id="ref-for-index-term-window-interface-2">Window</a></span>, <span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-index-term-securecontext-extended-attribute-1">SecureContext</a></span>]
  interface <dfn data-export="" data-dfn-type="interface" id="dom-geolocationposition" data-idl="interface" data-title="GeolocationPosition" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>GeolocationPosition</code></dfn> {<span data-idl="" class="idlAttribute" id="idl-def-geolocationposition-coords" data-title="coords" data-dfn-for="GeolocationPosition">
    readonly attribute<span class="idlType"> <a href="#dom-geolocationcoordinates" class="internalDFN" data-link-type="idl" id="ref-for-dom-geolocationcoordinates-1"><code>GeolocationCoordinates</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationposition-coords" id="ref-for-dom-geolocationposition-coords-1"><code>coords</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-geolocationposition-timestamp" data-title="timestamp" data-dfn-for="GeolocationPosition">
    readonly attribute<span class="idlType"> <a data-type="typedef" href="https://heycam.github.io/webidl/#DOMTimeStamp" id="ref-for-index-term-domtimestamp-2">DOMTimeStamp</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationposition-timestamp" id="ref-for-dom-geolocationposition-timestamp-2"><code>timestamp</code></a>;</span>
  };</span></code></pre>
        <aside class="mdn"><details>
      <summary aria-label="Expand MDN details for coords"><span>MDN</span><span title="This feature is in all major engines.">✅</span></summary>
      <a title="The GeolocationPosition.coords read-only property returns a GeolocationCoordinates object representing a geographic position. It contains the location, that is longitude and latitude on the Earth, the altitude, and the speed of the object concerned, regrouped inside the returned value. It also contains accuracy information about these values." href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationPosition/coords">GeolocationPosition/coords</a>
      <p class="engines-all">This feature is in all major engines.</p>
      <table>
      <tr class="chrome yes">
        <td>Chrome</td>
        <td>5+</td>
      </tr><tr class="chrome_android yes">
        <td>Chrome Android</td>
        <td>18+</td>
      </tr><tr class="edge yes">
        <td>Edge</td>
        <td>12+</td>
      </tr><tr class="edge_mobile unknown">
        <td>Edge Mobile</td>
        <td>?</td>
      </tr><tr class="firefox yes">
        <td>Firefox</td>
        <td>3.5+</td>
      </tr><tr class="firefox_android yes">
        <td>Firefox Android</td>
        <td>4+</td>
      </tr><tr class="ie yes">
        <td>Internet Explorer</td>
        <td>9+</td>
      </tr><tr class="opera yes">
        <td>Opera</td>
        <td>16+</td>
      </tr><tr class="opera_android yes">
        <td>Opera Android</td>
        <td>16+</td>
      </tr><tr class="safari yes">
        <td>Safari</td>
        <td>5+</td>
      </tr><tr class="safari_ios yes">
        <td>Safari iOS</td>
        <td>3+</td>
      </tr><tr class="samsunginternet_android yes">
        <td>Samsung Internet</td>
        <td>1.0+</td>
      </tr><tr class="webview_android yes">
        <td>WebView Android</td>
        <td>37+</td>
      </tr>
    </table>
    </details></aside><section id="coords-attribute">
          <h3 id="x7-1-coords-attribute"><bdi class="secno">7.1 </bdi>
            <code>coords</code> attribute
          <a class="self-link" aria-label="§" href="#coords-attribute"></a></h3>
          <p>
            The <dfn data-export="" data-dfn-type="attribute" id="dom-geolocationposition-coords" data-idl="attribute" data-title="coords" data-dfn-for="GeolocationPosition" data-type="GeolocationCoordinates" data-lt="coords" data-local-lt="GeolocationPosition.coords" tabindex="0" aria-haspopup="dialog"><code>coords</code></dfn> attribute contains geographic coordinates.
          </p>
        </section>
        <aside class="mdn"><details>
      <summary aria-label="Expand MDN details for timestamp"><span>MDN</span><span title="This feature is in all major engines.">✅</span></summary>
      <a title="The GeolocationPosition.timestamp read-only property returns a DOMTimeStamp object, represents the date and the time of the creation of the GeolocationPosition object it belongs to. The precision is to the millisecond." href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationPosition/timestamp">GeolocationPosition/timestamp</a>
      <p class="engines-all">This feature is in all major engines.</p>
      <table>
      <tr class="chrome yes">
        <td>Chrome</td>
        <td>5+</td>
      </tr><tr class="chrome_android yes">
        <td>Chrome Android</td>
        <td>18+</td>
      </tr><tr class="edge yes">
        <td>Edge</td>
        <td>12+</td>
      </tr><tr class="edge_mobile unknown">
        <td>Edge Mobile</td>
        <td>?</td>
      </tr><tr class="firefox yes">
        <td>Firefox</td>
        <td>3.5+</td>
      </tr><tr class="firefox_android yes">
        <td>Firefox Android</td>
        <td>4+</td>
      </tr><tr class="ie yes">
        <td>Internet Explorer</td>
        <td>9+</td>
      </tr><tr class="opera yes">
        <td>Opera</td>
        <td>16+</td>
      </tr><tr class="opera_android yes">
        <td>Opera Android</td>
        <td>16+</td>
      </tr><tr class="safari yes">
        <td>Safari</td>
        <td>5+</td>
      </tr><tr class="safari_ios yes">
        <td>Safari iOS</td>
        <td>3+</td>
      </tr><tr class="samsunginternet_android yes">
        <td>Samsung Internet</td>
        <td>1.0+</td>
      </tr><tr class="webview_android yes">
        <td>WebView Android</td>
        <td>37+</td>
      </tr>
    </table>
    </details></aside><section id="timestamp-attribute">
          <h3 id="x7-2-timestamp-attribute"><bdi class="secno">7.2 </bdi>
            <code>timestamp</code> attribute
          <a class="self-link" aria-label="§" href="#timestamp-attribute"></a></h3>
          <p>
            The <dfn data-export="" data-dfn-type="attribute" id="dom-geolocationposition-timestamp" data-idl="attribute" data-title="timestamp" data-dfn-for="GeolocationPosition" data-type="DOMTimeStamp" data-lt="timestamp" data-local-lt="GeolocationPosition.timestamp" tabindex="0" aria-haspopup="dialog"><code>timestamp</code></dfn> attribute represents the time when the
            geographic position of the device was acquired.
          </p>
        </section>
        <section id="internal-slots-0">
          <h3 id="x7-3-internal-slots"><bdi class="secno">7.3 </bdi>
            Internal slots
          <a class="self-link" aria-label="§" href="#internal-slots-0"></a></h3>
          <p>
            Instances of <a data-link-type="idl" data-lt="GeolocationPositionError" href="#dom-geolocationpositionerror" class="internalDFN" id="ref-for-dom-geolocationpositionerror-5"><code>GeolocationPositionError</code></a> are created with the
            internal slots in the following table:
          </p>
          <div class="overlarge"><table class="data">
            <tbody><tr>
              <th>
                Internal slot
              </th>
              <th>
                Description
              </th>
            </tr>
            <tr>
              <td>
                <dfn data-dfn-for="GeolocationPosition" data-idl="" data-noexport="" data-dfn-type="attribute" id="dfn-ishighaccuracy" tabindex="0" aria-haspopup="dialog">[[isHighAccuracy]]</dfn>
              </td>
              <td>
                A <a data-link-type="idl" data-lt="boolean" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-index-term-boolean-type-3"><code>boolean</code></a> that records the value of the
                <a data-link-type="idl" href="#dom-positionoptions-enablehighaccuracy" class="internalDFN" id="ref-for-dom-positionoptions-enablehighaccuracy-6"><code>enableHighAccuracy</code></a> member when this
                <a data-link-type="idl" data-lt="GeolocationPosition" href="#dom-geolocationposition" class="internalDFN" id="ref-for-dom-geolocationposition-4"><code>GeolocationPosition</code></a> is <a data-link-type="dfn" data-lt="a new GeolocationPosition" href="#dfn-a-new-geolocationposition" class="internalDFN" id="ref-for-dfn-a-new-geolocationposition-2">created</a>.
              </td>
            </tr>
          </tbody></table></div>
        </section>
        <section id="task-sources">
          <h3 id="x7-4-task-sources"><bdi class="secno">7.4 </bdi>
            Task sources
          <a class="self-link" aria-label="§" href="#task-sources"></a></h3>
          <p>
            The following <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source" id="ref-for-index-term-task-source-1">task source</a> is defined by this specifications.
          </p>
          <dl>
            <dt>
              The <dfn id="dfn-geolocation-task-source" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">geolocation task source</dfn>
            </dt>
            <dd>
              Used by this specification to queue up non-blocking
              <a data-link-type="idl" data-lt="PositionCallback" href="#dom-positioncallback" class="internalDFN" id="ref-for-dom-positioncallback-4"><code>PositionCallback</code></a> and <a data-link-type="idl" data-lt="PositionErrorCallback" href="#dom-positionerrorcallback" class="internalDFN" id="ref-for-dom-positionerrorcallback-6"><code>PositionErrorCallback</code></a> when performing
              <a data-link-type="dfn" data-lt="request position" href="#dfn-request-position" class="internalDFN" id="ref-for-dfn-request-position-5">position requests</a>.
            </dd>
          </dl>
        </section>
      </section>
      <aside class="mdn"><details>
      <summary aria-label="Expand MDN details for GeolocationCoordinates"><span>MDN</span><span title="This feature is in all major engines.">✅</span></summary>
      <a title="The GeolocationCoordinates interface represents the position and altitude of the device on Earth, as well as the accuracy with which these properties are calculated." href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationCoordinates">GeolocationCoordinates</a>
      <p class="engines-all">This feature is in all major engines.</p>
      <table>
      <tr class="chrome unknown">
        <td>Chrome</td>
        <td>?</td>
      </tr><tr class="chrome_android unknown">
        <td>Chrome Android</td>
        <td>?</td>
      </tr><tr class="edge no">
        <td>Edge</td>
        <td>No</td>
      </tr><tr class="edge_mobile unknown">
        <td>Edge Mobile</td>
        <td>?</td>
      </tr><tr class="firefox unknown">
        <td>Firefox</td>
        <td>?</td>
      </tr><tr class="firefox_android yes">
        <td>Firefox Android</td>
        <td>4+</td>
      </tr><tr class="ie yes">
        <td>Internet Explorer</td>
        <td>9+</td>
      </tr><tr class="opera unknown">
        <td>Opera</td>
        <td>?</td>
      </tr><tr class="opera_android unknown">
        <td>Opera Android</td>
        <td>?</td>
      </tr><tr class="safari unknown">
        <td>Safari</td>
        <td>?</td>
      </tr><tr class="safari_ios unknown">
        <td>Safari iOS</td>
        <td>?</td>
      </tr><tr class="samsunginternet_android yes">
        <td>Samsung Internet</td>
        <td>1.0+</td>
      </tr><tr class="webview_android unknown">
        <td>WebView Android</td>
        <td>?</td>
      </tr>
    </table>
    </details></aside><section id="coordinates_interface" data-dfn-for="GeolocationCoordinates">
        <h2 id="x8-geolocationcoordinates-interface"><bdi class="secno">8. </bdi>
          <dfn data-export="" data-dfn-type="interface" id="dom-geolocationcoordinates" data-idl="interface" data-title="GeolocationCoordinates" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>GeolocationCoordinates</code></dfn> interface
        <a class="self-link" aria-label="§" href="#coordinates_interface"></a></h2>
        <pre class="idl def" id="webidl-1124918410"><span class="idlHeader"><a class="self-link" href="#webidl-1124918410">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-geolocationcoordinates" data-title="GeolocationCoordinates">[<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-index-term-exposed-extended-attribute-3">Exposed</a>=<a data-type="interface" href="https://html.spec.whatwg.org/multipage/window-object.html#window" id="ref-for-index-term-window-interface-3">Window</a></span>, <span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-index-term-securecontext-extended-attribute-2">SecureContext</a></span>]
  interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-geolocationcoordinates" id="ref-for-dom-geolocationcoordinates-2"><code>GeolocationCoordinates</code></a> {<span data-idl="" class="idlAttribute" id="idl-def-geolocationcoordinates-accuracy" data-title="accuracy" data-dfn-for="GeolocationCoordinates">
    readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-index-term-double-type-1">double</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-accuracy" id="ref-for-dom-geolocationcoordinates-accuracy-1"><code>accuracy</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-geolocationcoordinates-latitude" data-title="latitude" data-dfn-for="GeolocationCoordinates">
    readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-index-term-double-type-2">double</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-latitude" id="ref-for-dom-geolocationcoordinates-latitude-1"><code>latitude</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-geolocationcoordinates-longitude" data-title="longitude" data-dfn-for="GeolocationCoordinates">
    readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-index-term-double-type-3">double</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-longitude" id="ref-for-dom-geolocationcoordinates-longitude-1"><code>longitude</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-geolocationcoordinates-altitude" data-title="altitude" data-dfn-for="GeolocationCoordinates">
    readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-index-term-double-type-4">double</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-altitude" id="ref-for-dom-geolocationcoordinates-altitude-1"><code>altitude</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-geolocationcoordinates-altitudeaccuracy" data-title="altitudeAccuracy" data-dfn-for="GeolocationCoordinates">
    readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-index-term-double-type-5">double</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-altitudeaccuracy" id="ref-for-dom-geolocationcoordinates-altitudeaccuracy-1"><code>altitudeAccuracy</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-geolocationcoordinates-heading" data-title="heading" data-dfn-for="GeolocationCoordinates">
    readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-index-term-double-type-6">double</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-heading" id="ref-for-dom-geolocationcoordinates-heading-1"><code>heading</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-geolocationcoordinates-speed" data-title="speed" data-dfn-for="GeolocationCoordinates">
    readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-index-term-double-type-7">double</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-speed" id="ref-for-dom-geolocationcoordinates-speed-1"><code>speed</code></a>;</span>
  };</span></code></pre>
        <aside class="mdn"><details>
      <summary aria-label="Expand MDN details for accuracy"><span>MDN</span><span title="This feature is in all major engines.">✅</span></summary>
      <a title="The GeolocationCoordinates.accuracy read-only property is a strictly positive double representing the accuracy, with a 95% confidence level, of the GeolocationCoordinates.latitude and GeolocationCoordinates.longitude properties expressed in meters." href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationCoordinates/accuracy">GeolocationCoordinates/accuracy</a>
      <p class="engines-all">This feature is in all major engines.</p>
      <table>
      <tr class="chrome yes">
        <td>Chrome</td>
        <td>5+</td>
      </tr><tr class="chrome_android yes">
        <td>Chrome Android</td>
        <td>18+</td>
      </tr><tr class="edge yes">
        <td>Edge</td>
        <td>12+</td>
      </tr><tr class="edge_mobile unknown">
        <td>Edge Mobile</td>
        <td>?</td>
      </tr><tr class="firefox yes">
        <td>Firefox</td>
        <td>3.5+</td>
      </tr><tr class="firefox_android yes">
        <td>Firefox Android</td>
        <td>4+</td>
      </tr><tr class="ie yes">
        <td>Internet Explorer</td>
        <td>9+</td>
      </tr><tr class="opera unknown">
        <td>Opera</td>
        <td>?</td>
      </tr><tr class="opera_android unknown">
        <td>Opera Android</td>
        <td>?</td>
      </tr><tr class="safari yes">
        <td>Safari</td>
        <td>5+</td>
      </tr><tr class="safari_ios yes">
        <td>Safari iOS</td>
        <td>3+</td>
      </tr><tr class="samsunginternet_android yes">
        <td>Samsung Internet</td>
        <td>1.0+</td>
      </tr><tr class="webview_android yes">
        <td>WebView Android</td>
        <td>37+</td>
      </tr>
    </table>
    </details><details>
      <summary aria-label="Expand MDN details for latitude"><span>MDN</span><span title="This feature is in all major engines.">✅</span></summary>
      <a title="The GeolocationCoordinates.latitude read-only property is a double representing the latitude of the position in decimal degrees." href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationCoordinates/latitude">GeolocationCoordinates/latitude</a>
      <p class="engines-all">This feature is in all major engines.</p>
      <table>
      <tr class="chrome yes">
        <td>Chrome</td>
        <td>5+</td>
      </tr><tr class="chrome_android yes">
        <td>Chrome Android</td>
        <td>18+</td>
      </tr><tr class="edge yes">
        <td>Edge</td>
        <td>12+</td>
      </tr><tr class="edge_mobile unknown">
        <td>Edge Mobile</td>
        <td>?</td>
      </tr><tr class="firefox yes">
        <td>Firefox</td>
        <td>3.5+</td>
      </tr><tr class="firefox_android yes">
        <td>Firefox Android</td>
        <td>4+</td>
      </tr><tr class="ie yes">
        <td>Internet Explorer</td>
        <td>9+</td>
      </tr><tr class="opera unknown">
        <td>Opera</td>
        <td>?</td>
      </tr><tr class="opera_android unknown">
        <td>Opera Android</td>
        <td>?</td>
      </tr><tr class="safari yes">
        <td>Safari</td>
        <td>5+</td>
      </tr><tr class="safari_ios yes">
        <td>Safari iOS</td>
        <td>3+</td>
      </tr><tr class="samsunginternet_android yes">
        <td>Samsung Internet</td>
        <td>1.0+</td>
      </tr><tr class="webview_android yes">
        <td>WebView Android</td>
        <td>37+</td>
      </tr>
    </table>
    </details><details>
      <summary aria-label="Expand MDN details for longitude"><span>MDN</span><span title="This feature is in all major engines.">✅</span></summary>
      <a title="The GeolocationCoordinates interface's read-only longitude property is a double-precision floating point value which represents the longitude of a geographical position, specified in decimal degrees. Together with a DOMTimeStamp indicating a time of measurement, the GeolocationCoordinates object is part of the GeolocationPosition interface, which is the object type returned by Geolocation API functions that obtain and return a geographical position." href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationCoordinates/longitude">GeolocationCoordinates/longitude</a>
      <p class="engines-all">This feature is in all major engines.</p>
      <table>
      <tr class="chrome yes">
        <td>Chrome</td>
        <td>5+</td>
      </tr><tr class="chrome_android yes">
        <td>Chrome Android</td>
        <td>18+</td>
      </tr><tr class="edge yes">
        <td>Edge</td>
        <td>12+</td>
      </tr><tr class="edge_mobile unknown">
        <td>Edge Mobile</td>
        <td>?</td>
      </tr><tr class="firefox yes">
        <td>Firefox</td>
        <td>3.5+</td>
      </tr><tr class="firefox_android yes">
        <td>Firefox Android</td>
        <td>4+</td>
      </tr><tr class="ie yes">
        <td>Internet Explorer</td>
        <td>9+</td>
      </tr><tr class="opera unknown">
        <td>Opera</td>
        <td>?</td>
      </tr><tr class="opera_android unknown">
        <td>Opera Android</td>
        <td>?</td>
      </tr><tr class="safari yes">
        <td>Safari</td>
        <td>5+</td>
      </tr><tr class="safari_ios yes">
        <td>Safari iOS</td>
        <td>3+</td>
      </tr><tr class="samsunginternet_android yes">
        <td>Samsung Internet</td>
        <td>1.0+</td>
      </tr><tr class="webview_android yes">
        <td>WebView Android</td>
        <td>37+</td>
      </tr>
    </table>
    </details></aside><section id="latitude-longitude-and-accuracy-attributes">
          <h3 id="x8-1-latitude-longitude-and-accuracy-attributes"><bdi class="secno">8.1 </bdi>
            <code>latitude</code>, <code>longitude</code>, and <code>accuracy</code> attributes
          <a class="self-link" aria-label="§" href="#latitude-longitude-and-accuracy-attributes"></a></h3>
          <p>
            The <dfn data-export="" data-dfn-type="attribute" id="dom-geolocationcoordinates-latitude" data-idl="attribute" data-title="latitude" data-dfn-for="GeolocationCoordinates" data-type="double" data-lt="latitude" data-local-lt="GeolocationCoordinates.latitude" tabindex="0" aria-haspopup="dialog"><code>latitude</code></dfn> and <dfn data-export="" data-dfn-type="attribute" id="dom-geolocationcoordinates-longitude" data-idl="attribute" data-title="longitude" data-dfn-for="GeolocationCoordinates" data-type="double" data-lt="longitude" data-local-lt="GeolocationCoordinates.longitude" tabindex="0" aria-haspopup="dialog"><code>longitude</code></dfn> attributes are
            geographic coordinates specified in decimal degrees.
          </p>
          <p>
            The <dfn data-export="" data-dfn-type="attribute" id="dom-geolocationcoordinates-accuracy" data-idl="attribute" data-title="accuracy" data-dfn-for="GeolocationCoordinates" data-type="double" data-lt="accuracy" data-local-lt="GeolocationCoordinates.accuracy" tabindex="0" aria-haspopup="dialog"><code>accuracy</code></dfn> attribute denotes the accuracy level of the
            latitude and longitude coordinates in meters (e.g., <code>65</code> meters).
          </p>
        </section>
        <aside class="mdn"><details>
      <summary aria-label="Expand MDN details for altitude"><span>MDN</span><span title="This feature is in all major engines.">✅</span></summary>
      <a title="The GeolocationCoordinates.altitude read-only property is a double representing the altitude of the position in meters above the WGS84 ellipsoid (which defines the nominal sea level surface). This value is null if the implementation cannot provide this data." href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationCoordinates/altitude">GeolocationCoordinates/altitude</a>
      <p class="engines-all">This feature is in all major engines.</p>
      <table>
      <tr class="chrome yes">
        <td>Chrome</td>
        <td>5+</td>
      </tr><tr class="chrome_android yes">
        <td>Chrome Android</td>
        <td>18+</td>
      </tr><tr class="edge yes">
        <td>Edge</td>
        <td>12+</td>
      </tr><tr class="edge_mobile unknown">
        <td>Edge Mobile</td>
        <td>?</td>
      </tr><tr class="firefox yes">
        <td>Firefox</td>
        <td>3.5+</td>
      </tr><tr class="firefox_android yes">
        <td>Firefox Android</td>
        <td>4+</td>
      </tr><tr class="ie yes">
        <td>Internet Explorer</td>
        <td>9+</td>
      </tr><tr class="opera unknown">
        <td>Opera</td>
        <td>?</td>
      </tr><tr class="opera_android unknown">
        <td>Opera Android</td>
        <td>?</td>
      </tr><tr class="safari yes">
        <td>Safari</td>
        <td>5+</td>
      </tr><tr class="safari_ios yes">
        <td>Safari iOS</td>
        <td>3+</td>
      </tr><tr class="samsunginternet_android yes">
        <td>Samsung Internet</td>
        <td>1.0+</td>
      </tr><tr class="webview_android yes">
        <td>WebView Android</td>
        <td>37+</td>
      </tr>
    </table>
    </details><details>
      <summary aria-label="Expand MDN details for altitudeAccuracy"><span>MDN</span><span title="This feature is in all major engines.">✅</span></summary>
      <a title="The GeolocationCoordinates.altitudeAccuracy read-only property is a strictly positive double representing the accuracy, with a 95% confidence level, of the altitude expressed in meters. This value is null if the implementation doesn't support measuring altitude." href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationCoordinates/altitudeAccuracy">GeolocationCoordinates/altitudeAccuracy</a>
      <p class="engines-all">This feature is in all major engines.</p>
      <table>
      <tr class="chrome yes">
        <td>Chrome</td>
        <td>5+</td>
      </tr><tr class="chrome_android yes">
        <td>Chrome Android</td>
        <td>18+</td>
      </tr><tr class="edge yes">
        <td>Edge</td>
        <td>12+</td>
      </tr><tr class="edge_mobile unknown">
        <td>Edge Mobile</td>
        <td>?</td>
      </tr><tr class="firefox yes">
        <td>Firefox</td>
        <td>3.5+</td>
      </tr><tr class="firefox_android yes">
        <td>Firefox Android</td>
        <td>4+</td>
      </tr><tr class="ie yes">
        <td>Internet Explorer</td>
        <td>9+</td>
      </tr><tr class="opera unknown">
        <td>Opera</td>
        <td>?</td>
      </tr><tr class="opera_android unknown">
        <td>Opera Android</td>
        <td>?</td>
      </tr><tr class="safari yes">
        <td>Safari</td>
        <td>5+</td>
      </tr><tr class="safari_ios yes">
        <td>Safari iOS</td>
        <td>3+</td>
      </tr><tr class="samsunginternet_android yes">
        <td>Samsung Internet</td>
        <td>1.0+</td>
      </tr><tr class="webview_android yes">
        <td>WebView Android</td>
        <td>37+</td>
      </tr>
    </table>
    </details></aside><section id="altitude-and-altitudeaccuracy-attributes">
          <h3 id="x8-2-altitude-and-altitudeaccuracy-attributes"><bdi class="secno">8.2 </bdi>
            <code>altitude</code> and <code>altitudeAccuracy</code> attributes
          <a class="self-link" aria-label="§" href="#altitude-and-altitudeaccuracy-attributes"></a></h3>
          <p>
            The <dfn data-export="" data-dfn-type="attribute" id="dom-geolocationcoordinates-altitude" data-idl="attribute" data-title="altitude" data-dfn-for="GeolocationCoordinates" data-type="double" data-lt="altitude" data-local-lt="GeolocationCoordinates.altitude" tabindex="0" aria-haspopup="dialog"><code>altitude</code></dfn> attribute denotes the height of the position,
            specified in meters above the [<cite><a class="bibref" data-link-type="biblio" href="#bib-wgs84" title="National Imagery and Mapping Agency Technical Report 8350.2, Third Edition">WGS84</a></cite>] ellipsoid.
          </p>
          <p>
            The <dfn data-export="" data-dfn-type="attribute" id="dom-geolocationcoordinates-altitudeaccuracy" data-idl="attribute" data-title="altitudeAccuracy" data-dfn-for="GeolocationCoordinates" data-type="double" data-lt="altitudeAccuracy" data-local-lt="GeolocationCoordinates.altitudeAccuracy" tabindex="0" aria-haspopup="dialog"><code>altitudeAccuracy</code></dfn> attribute represents the altitude
            accuracy in meters (e.g., <code>10</code> meters).
          </p>
        </section>
        <aside class="mdn"><details>
      <summary aria-label="Expand MDN details for heading"><span>MDN</span><span title="This feature is in all major engines.">✅</span></summary>
      <a title="The GeolocationCoordinates.heading read-only property is a double representing the direction in which the device is traveling. This value, specified in degrees, indicates how far off from heading due north the device is. Zero degrees represents true north, and the direction is determined clockwise (which means that east is 90 degrees and west is 270 degrees). If GeolocationCoordinates.speed is 0, heading is NaN. If the device is not able to provide heading information, this value is null." href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationCoordinates/heading">GeolocationCoordinates/heading</a>
      <p class="engines-all">This feature is in all major engines.</p>
      <table>
      <tr class="chrome yes">
        <td>Chrome</td>
        <td>5+</td>
      </tr><tr class="chrome_android yes">
        <td>Chrome Android</td>
        <td>18+</td>
      </tr><tr class="edge yes">
        <td>Edge</td>
        <td>12+</td>
      </tr><tr class="edge_mobile unknown">
        <td>Edge Mobile</td>
        <td>?</td>
      </tr><tr class="firefox yes">
        <td>Firefox</td>
        <td>3.5+</td>
      </tr><tr class="firefox_android yes">
        <td>Firefox Android</td>
        <td>4+</td>
      </tr><tr class="ie yes">
        <td>Internet Explorer</td>
        <td>9+</td>
      </tr><tr class="opera unknown">
        <td>Opera</td>
        <td>?</td>
      </tr><tr class="opera_android unknown">
        <td>Opera Android</td>
        <td>?</td>
      </tr><tr class="safari yes">
        <td>Safari</td>
        <td>5+</td>
      </tr><tr class="safari_ios yes">
        <td>Safari iOS</td>
        <td>3+</td>
      </tr><tr class="samsunginternet_android yes">
        <td>Samsung Internet</td>
        <td>1.0+</td>
      </tr><tr class="webview_android yes">
        <td>WebView Android</td>
        <td>37+</td>
      </tr>
    </table>
    </details></aside><section id="heading-attribute">
          <h3 id="x8-3-heading-attribute"><bdi class="secno">8.3 </bdi>
            <code>heading</code> attribute
          <a class="self-link" aria-label="§" href="#heading-attribute"></a></h3>
          <p>
            The <dfn data-export="" data-dfn-type="attribute" id="dom-geolocationcoordinates-heading" data-idl="attribute" data-title="heading" data-dfn-for="GeolocationCoordinates" data-type="double" data-lt="heading" data-local-lt="GeolocationCoordinates.heading" tabindex="0" aria-haspopup="dialog"><code>heading</code></dfn> attribute denotes the direction of travel of
            the hosting device and is specified in degrees, where 0° ≤ heading
            &lt; 360°, counting clockwise relative to the true north.
          </p>
        </section>
        <aside class="mdn"><details>
      <summary aria-label="Expand MDN details for speed"><span>MDN</span><span title="This feature is in all major engines.">✅</span></summary>
      <a title="The GeolocationCoordinates.speed read-only property is a double representing the velocity of the device in meters per second. This value is null if the implementation is not able to measure it." href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationCoordinates/speed">GeolocationCoordinates/speed</a>
      <p class="engines-all">This feature is in all major engines.</p>
      <table>
      <tr class="chrome yes">
        <td>Chrome</td>
        <td>5+</td>
      </tr><tr class="chrome_android yes">
        <td>Chrome Android</td>
        <td>18+</td>
      </tr><tr class="edge yes">
        <td>Edge</td>
        <td>12+</td>
      </tr><tr class="edge_mobile unknown">
        <td>Edge Mobile</td>
        <td>?</td>
      </tr><tr class="firefox yes">
        <td>Firefox</td>
        <td>3.5+</td>
      </tr><tr class="firefox_android yes">
        <td>Firefox Android</td>
        <td>4+</td>
      </tr><tr class="ie yes">
        <td>Internet Explorer</td>
        <td>9+</td>
      </tr><tr class="opera unknown">
        <td>Opera</td>
        <td>?</td>
      </tr><tr class="opera_android unknown">
        <td>Opera Android</td>
        <td>?</td>
      </tr><tr class="safari yes">
        <td>Safari</td>
        <td>5+</td>
      </tr><tr class="safari_ios yes">
        <td>Safari iOS</td>
        <td>3+</td>
      </tr><tr class="samsunginternet_android yes">
        <td>Samsung Internet</td>
        <td>1.0+</td>
      </tr><tr class="webview_android yes">
        <td>WebView Android</td>
        <td>37+</td>
      </tr>
    </table>
    </details></aside><section id="speed-attribute">
          <h3 id="x8-4-speed-attribute"><bdi class="secno">8.4 </bdi>
            <code>speed</code> attribute
          <a class="self-link" aria-label="§" href="#speed-attribute"></a></h3>
          <p>
            The <dfn data-export="" data-dfn-type="attribute" id="dom-geolocationcoordinates-speed" data-idl="attribute" data-title="speed" data-dfn-for="GeolocationCoordinates" data-type="double" data-lt="speed" data-local-lt="GeolocationCoordinates.speed" tabindex="0" aria-haspopup="dialog"><code>speed</code></dfn> attribute denotes the magnitude of the
            horizontal component of the hosting device's current velocity in
            meters per second.
          </p>
        </section>
        <section id="constructing-a-geolocationposition">
          <h3 id="x8-5-constructing-a-geolocationposition"><bdi class="secno">8.5 </bdi>
            Constructing a <code>GeolocationPosition</code>
          <a class="self-link" aria-label="§" href="#constructing-a-geolocationposition"></a></h3>
          <p>
            <dfn id="dfn-a-new-geolocationposition" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">A new <code>GeolocationPosition</code></dfn> is constructed with
            <a data-link-type="idl" data-lt="DOMTimeStamp" data-type="typedef" href="https://heycam.github.io/webidl/#DOMTimeStamp" id="ref-for-index-term-domtimestamp-3"><code>DOMTimeStamp</code></a> <var data-type="DOMTimeStamp">timestamp</var> and boolean
            <var>isHighAccuracy</var> by performing the following steps:
          </p>
          <ol class="algorithm">
            <li>Let <var data-type="GeolocationCoordinates">coords</var> be a newly created
            <a data-link-type="idl" data-lt="GeolocationCoordinates" href="#dom-geolocationcoordinates" class="internalDFN" id="ref-for-dom-geolocationcoordinates-3"><code>GeolocationCoordinates</code></a> instance:
              <ol>
                <li>Initialize <var>coord</var>'s <a data-link-type="idl" href="#dom-geolocationcoordinates-latitude" class="internalDFN" id="ref-for-dom-geolocationcoordinates-latitude-2"><code>latitude</code></a>
                attribute to a geographic coordinate in decimal degrees.
                </li>
                <li>Initialize <var>coord</var>'s <a data-link-type="idl" href="#dom-geolocationcoordinates-longitude" class="internalDFN" id="ref-for-dom-geolocationcoordinates-longitude-2"><code>longitude</code></a>
                attribute to a geographic coordinate in decimal degrees.
                </li>
                <li>Initialize <var>coord</var>'s <a data-link-type="idl" href="#dom-geolocationcoordinates-accuracy" class="internalDFN" id="ref-for-dom-geolocationcoordinates-accuracy-2"><code>accuracy</code></a>
                attribute to a non-negative real number. The value <em class="rfc2119">SHOULD</em>
                correspond to a 95% confidence level with respect to the
                longitude and latitude values.
                </li>
                <li>Initialize <var>coord</var>'s <a data-link-type="idl" href="#dom-geolocationcoordinates-altitude" class="internalDFN" id="ref-for-dom-geolocationcoordinates-altitude-2"><code>altitude</code></a>
                attribute in meters above the [<cite><a class="bibref" data-link-type="biblio" href="#bib-wgs84" title="National Imagery and Mapping Agency Technical Report 8350.2, Third Edition">WGS84</a></cite>] ellipsoid, or <code>null</code> if
                the implementation cannot provide altitude information.
                </li>
                <li>Initialize <var>coord</var>'s
                <a data-link-type="idl" href="#dom-geolocationcoordinates-altitudeaccuracy" class="internalDFN" id="ref-for-dom-geolocationcoordinates-altitudeaccuracy-2"><code>altitudeAccuracy</code></a> attribute as
                non-negative real number, or to <code>null</code> if the implementation
                cannot provide altitude information. If the altitude accuracy
                information is provided, it <em class="rfc2119">SHOULD</em> correspond to a 95% confidence
                level.
                </li>
                <li>Initialize <var>coord</var>'s <a data-link-type="idl" href="#dom-geolocationcoordinates-speed" class="internalDFN" id="ref-for-dom-geolocationcoordinates-speed-2"><code>speed</code></a>
                attribute to a non-negative real number, or as <code>null</code> if the
                implementation cannot provide speed information.
                </li>
                <li>Initialize <var>coord</var>'s <a data-link-type="idl" href="#dom-geolocationcoordinates-heading" class="internalDFN" id="ref-for-dom-geolocationcoordinates-heading-2"><code>heading</code></a>
                attribute in degrees, or <code>null</code> if the implementation cannot
                provide heading information. If the hosting device is stationary
                (i.e., the value of the <a data-link-type="idl" href="#dom-geolocationcoordinates-speed" class="internalDFN" id="ref-for-dom-geolocationcoordinates-speed-3"><code>speed</code></a>
                attribute is 0), then initialize the
                <a data-link-type="idl" href="#dom-geolocationcoordinates-heading" class="internalDFN" id="ref-for-dom-geolocationcoordinates-heading-3"><code>heading</code></a> to <code>NaN</code>.
                </li>
              </ol>
            </li>
            <li>Return a newly created <a data-link-type="idl" data-lt="GeolocationPosition" href="#dom-geolocationposition" class="internalDFN" id="ref-for-dom-geolocationposition-5"><code>GeolocationPosition</code></a> instance with its
            <a data-link-type="idl" href="#dom-geolocationposition-coords" class="internalDFN" id="ref-for-dom-geolocationposition-coords-2"><code>coords</code></a> attribute initialized to <var data-type="GeolocationCoordinates">coords</var> and
            <a data-link-type="idl" href="#dom-geolocationposition-timestamp" class="internalDFN" id="ref-for-dom-geolocationposition-timestamp-3"><code>timestamp</code></a> attribute initialized to
            <var data-type="DOMTimeStamp">timestamp</var>, and its <a data-lt="[[isHighAccuracy]]" href="#dfn-ishighaccuracy" class="internalDFN" data-link-type="idl" id="ref-for-dfn-ishighaccuracy-2"><code>[[isHighAccuracy]]</code></a>
            internal slot set to <var>isHighAccuracy</var>.
            </li>
          </ol>
        </section>
      </section>
      <aside class="mdn"><details>
      <summary aria-label="Expand MDN details for GeolocationPositionError"><span>MDN</span><span> </span></summary>
      <a title="The GeolocationPositionError interface represents the reason of an error occurring when using the geolocating device." href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationPositionError">GeolocationPositionError</a>
      
      <table>
      <tr class="chrome unknown">
        <td>Chrome</td>
        <td>?</td>
      </tr><tr class="chrome_android unknown">
        <td>Chrome Android</td>
        <td>?</td>
      </tr><tr class="edge no">
        <td>Edge</td>
        <td>No</td>
      </tr><tr class="edge_mobile unknown">
        <td>Edge Mobile</td>
        <td>?</td>
      </tr><tr class="firefox unknown">
        <td>Firefox</td>
        <td>?</td>
      </tr><tr class="firefox_android yes">
        <td>Firefox Android</td>
        <td>4+</td>
      </tr><tr class="ie yes">
        <td>Internet Explorer</td>
        <td>9+</td>
      </tr><tr class="opera yes">
        <td>Opera</td>
        <td>16+</td>
      </tr><tr class="opera_android yes">
        <td>Opera Android</td>
        <td>16+</td>
      </tr><tr class="safari yes">
        <td>Safari</td>
        <td>5+</td>
      </tr><tr class="safari_ios yes">
        <td>Safari iOS</td>
        <td>Yes</td>
      </tr><tr class="samsunginternet_android unknown">
        <td>Samsung Internet</td>
        <td>?</td>
      </tr><tr class="webview_android unknown">
        <td>WebView Android</td>
        <td>?</td>
      </tr>
    </table>
    </details></aside><section id="position_error_interface" data-dfn-for="GeolocationPositionError">
        <h2 id="x9-geolocationpositionerror-interface"><bdi class="secno">9. </bdi>
          <dfn data-export="" data-dfn-type="interface" id="dom-geolocationpositionerror" data-idl="interface" data-title="GeolocationPositionError" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>GeolocationPositionError</code></dfn> interface
        <a class="self-link" aria-label="§" href="#position_error_interface"></a></h2>
        <pre class="idl def" id="webidl-1281871320"><span class="idlHeader"><a class="self-link" href="#webidl-1281871320">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-geolocationpositionerror" data-title="GeolocationPositionError">[<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-index-term-exposed-extended-attribute-4">Exposed</a>=<a data-type="interface" href="https://html.spec.whatwg.org/multipage/window-object.html#window" id="ref-for-index-term-window-interface-4">Window</a></span>]
  interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-geolocationpositionerror" id="ref-for-dom-geolocationpositionerror-6"><code>GeolocationPositionError</code></a> {<span data-idl="" class="idlConst" id="idl-def-geolocationpositionerror-permission_denied" data-title="PERMISSION_DENIED" data-dfn-for="GeolocationPositionError">
    const<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="ref-for-index-term-unsigned-short-type-2">unsigned short</a></span> <a class="internalDFN idlName" data-link-type="const" href="#dom-geolocationpositionerror-permission_denied" id="ref-for-dom-geolocationpositionerror-permission_denied-3"><code>PERMISSION_DENIED</code></a> = 1;</span><span data-idl="" class="idlConst" id="idl-def-geolocationpositionerror-position_unavailable" data-title="POSITION_UNAVAILABLE" data-dfn-for="GeolocationPositionError">
    const<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="ref-for-index-term-unsigned-short-type-3">unsigned short</a></span> <a class="internalDFN idlName" data-link-type="const" href="#dom-geolocationpositionerror-position_unavailable" id="ref-for-dom-geolocationpositionerror-position_unavailable-4"><code>POSITION_UNAVAILABLE</code></a> = 2;</span><span data-idl="" class="idlConst" id="idl-def-geolocationpositionerror-timeout" data-title="TIMEOUT" data-dfn-for="GeolocationPositionError">
    const<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="ref-for-index-term-unsigned-short-type-4">unsigned short</a></span> <a class="internalDFN idlName" data-link-type="const" href="#dom-geolocationpositionerror-timeout" id="ref-for-dom-geolocationpositionerror-timeout-2"><code>TIMEOUT</code></a> = 3;</span><span data-idl="" class="idlAttribute" id="idl-def-geolocationpositionerror-code" data-title="code" data-dfn-for="GeolocationPositionError">
    readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="ref-for-index-term-unsigned-short-type-5">unsigned short</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationpositionerror-code" id="ref-for-dom-geolocationpositionerror-code-2"><code>code</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-geolocationpositionerror-message" data-title="message" data-dfn-for="GeolocationPositionError">
    readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-index-term-domstring-interface-1">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationpositionerror-message" id="ref-for-dom-geolocationpositionerror-message-1"><code>message</code></a>;</span>
  };</span></code></pre>
        <section id="constants">
          <h3 id="x9-1-constants"><bdi class="secno">9.1 </bdi>
            Constants
          <a class="self-link" aria-label="§" href="#constants"></a></h3>
          <dl>
            <dt>
              <dfn data-export="" data-dfn-type="const" id="dom-geolocationpositionerror-permission_denied" data-idl="const" data-title="PERMISSION_DENIED" data-dfn-for="GeolocationPositionError" tabindex="0" aria-haspopup="dialog"><code>PERMISSION_DENIED</code></dfn> (numeric value 1)
            </dt>
            <dd>
              <a data-link-type="dfn" href="#dfn-request-position" class="internalDFN" id="ref-for-dfn-request-position-6">Request position</a> failed because the user denied permission to
              use the API.
            </dd>
            <dt>
              <dfn data-export="" data-dfn-type="const" id="dom-geolocationpositionerror-position_unavailable" data-idl="const" data-title="POSITION_UNAVAILABLE" data-dfn-for="GeolocationPositionError" tabindex="0" aria-haspopup="dialog"><code>POSITION_UNAVAILABLE</code></dfn> (numeric value 2)
            </dt>
            <dd>
              <a data-link-type="dfn" href="#dfn-acquire-position" class="internalDFN" id="ref-for-dfn-acquire-position-6">Acquire a position</a> failed.
            </dd>
            <dt>
              <dfn data-export="" data-dfn-type="const" id="dom-geolocationpositionerror-timeout" data-idl="const" data-title="TIMEOUT" data-dfn-for="GeolocationPositionError" tabindex="0" aria-haspopup="dialog"><code>TIMEOUT</code></dfn> (numeric value 3)
            </dt>
            <dd>
              The length of time specified by the <a data-link-type="idl" href="#dom-positionoptions-timeout" class="internalDFN" id="ref-for-dom-positionoptions-timeout-7"><code>timeout</code></a>
              member has elapsed before the user agent could successfully
              <a data-link-type="dfn" href="#dfn-acquire-position" class="internalDFN" id="ref-for-dfn-acquire-position-7">acquire a position</a>.
            </dd>
          </dl>
        </section>
        <aside class="mdn"><details>
      <summary aria-label="Expand MDN details for code"><span>MDN</span><span title="This feature is in all major engines.">✅</span></summary>
      <a title="The GeolocationPositionError.code read-only property is an unsigned short representing the error code." href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationPositionError/code">GeolocationPositionError/code</a>
      <p class="engines-all">This feature is in all major engines.</p>
      <table>
      <tr class="chrome yes">
        <td>Chrome</td>
        <td>5+</td>
      </tr><tr class="chrome_android yes">
        <td>Chrome Android</td>
        <td>18+</td>
      </tr><tr class="edge yes">
        <td>Edge</td>
        <td>12+</td>
      </tr><tr class="edge_mobile unknown">
        <td>Edge Mobile</td>
        <td>?</td>
      </tr><tr class="firefox yes">
        <td>Firefox</td>
        <td>3.5+</td>
      </tr><tr class="firefox_android yes">
        <td>Firefox Android</td>
        <td>4+</td>
      </tr><tr class="ie yes">
        <td>Internet Explorer</td>
        <td>9+</td>
      </tr><tr class="opera yes">
        <td>Opera</td>
        <td>16+</td>
      </tr><tr class="opera_android yes">
        <td>Opera Android</td>
        <td>16+</td>
      </tr><tr class="safari yes">
        <td>Safari</td>
        <td>5+</td>
      </tr><tr class="safari_ios yes">
        <td>Safari iOS</td>
        <td>Yes</td>
      </tr><tr class="samsunginternet_android yes">
        <td>Samsung Internet</td>
        <td>1.0+</td>
      </tr><tr class="webview_android yes">
        <td>WebView Android</td>
        <td>37+</td>
      </tr>
    </table>
    </details></aside><section id="code-attribute">
          <h3 id="x9-2-code-attribute"><bdi class="secno">9.2 </bdi>
            <code>code</code> attribute
          <a class="self-link" aria-label="§" href="#code-attribute"></a></h3>
          <p>
            The <dfn data-export="" data-dfn-type="attribute" id="dom-geolocationpositionerror-code" data-idl="attribute" data-title="code" data-dfn-for="GeolocationPositionError" data-type="unsigned short" data-lt="code" data-local-lt="GeolocationPositionError.code" tabindex="0" aria-haspopup="dialog"><code>code</code></dfn> attribute returns the value it was <a data-link-type="dfn" data-lt="call back with error" href="#dfn-call-back-with-error" class="internalDFN" id="ref-for-dfn-call-back-with-error-7">initialized to</a> (see <a href="#constants" class="sec-ref">§&nbsp;<bdi class="secno">9.1 </bdi>
            Constants</a> for possible
            values).
          </p>
        </section>
        <aside class="mdn"><details>
      <summary aria-label="Expand MDN details for message"><span>MDN</span><span title="This feature is in all major engines.">✅</span></summary>
      <a title="The GeolocationPositionError.message read-only property returns a human-readable DOMString describing the details of the error." href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationPositionError/message">GeolocationPositionError/message</a>
      <p class="engines-all">This feature is in all major engines.</p>
      <table>
      <tr class="chrome yes">
        <td>Chrome</td>
        <td>5+</td>
      </tr><tr class="chrome_android yes">
        <td>Chrome Android</td>
        <td>18+</td>
      </tr><tr class="edge yes">
        <td>Edge</td>
        <td>12+</td>
      </tr><tr class="edge_mobile unknown">
        <td>Edge Mobile</td>
        <td>?</td>
      </tr><tr class="firefox yes">
        <td>Firefox</td>
        <td>3.5+</td>
      </tr><tr class="firefox_android yes">
        <td>Firefox Android</td>
        <td>4+</td>
      </tr><tr class="ie yes">
        <td>Internet Explorer</td>
        <td>9+</td>
      </tr><tr class="opera yes">
        <td>Opera</td>
        <td>16+</td>
      </tr><tr class="opera_android yes">
        <td>Opera Android</td>
        <td>16+</td>
      </tr><tr class="safari yes">
        <td>Safari</td>
        <td>5+</td>
      </tr><tr class="safari_ios yes">
        <td>Safari iOS</td>
        <td>Yes</td>
      </tr><tr class="samsunginternet_android yes">
        <td>Samsung Internet</td>
        <td>1.0+</td>
      </tr><tr class="webview_android yes">
        <td>WebView Android</td>
        <td>37+</td>
      </tr>
    </table>
    </details></aside><section id="message-attribute">
          <h3 id="x9-3-message-attribute"><bdi class="secno">9.3 </bdi>
            <code>message</code> attribute
          <a class="self-link" aria-label="§" href="#message-attribute"></a></h3>
          <p>
            The <dfn data-export="" data-dfn-type="attribute" id="dom-geolocationpositionerror-message" data-idl="attribute" data-title="message" data-dfn-for="GeolocationPositionError" data-type="DOMString" data-lt="message" data-local-lt="GeolocationPositionError.message" tabindex="0" aria-haspopup="dialog"><code>message</code></dfn> attribute is a developer-friendly textual
            description of the <a data-link-type="idl" href="#dom-geolocationpositionerror-code" class="internalDFN" id="ref-for-dom-geolocationpositionerror-code-3"><code>code</code></a> attribute.
          </p>
          <div class="note" role="note" id="issue-container-generatedID-3"><div role="heading" class="note-title marker" id="h-note-3" aria-level="4"><span>Note</span><span class="issue-label">: Don't show .message to users!</span></div><aside class="">
            <p>
              The purpose of <a data-link-type="idl" data-lt="GeolocationPositionError" href="#dom-geolocationpositionerror" class="internalDFN" id="ref-for-dom-geolocationpositionerror-7"><code>GeolocationPositionError</code></a>'s
              <a data-link-type="idl" href="#dom-geolocationpositionerror-message" class="internalDFN" id="ref-for-dom-geolocationpositionerror-message-2"><code>message</code></a> attribute is to assist
              developers with debugging. For legacy reasons, this attribute does
              not supply language or base direction metadata and is only
              localized into English. Developers are advised to use
              <a data-link-type="idl" data-lt="GeolocationPositionError" href="#dom-geolocationpositionerror" class="internalDFN" id="ref-for-dom-geolocationpositionerror-8"><code>GeolocationPositionError</code></a>'s <a data-link-type="idl" href="#dom-geolocationpositionerror-code" class="internalDFN" id="ref-for-dom-geolocationpositionerror-code-4"><code>code</code></a>
              attribute to create a localized experience.
            </p>
          </aside></div>
        </section>
      </section>
      <section id="permissions-policy">
        <h2 id="x10-permissions-policy"><bdi class="secno">10. </bdi>
          Permissions policy
        <a class="self-link" aria-label="§" href="#permissions-policy"></a></h2>
        <p>
          The <cite>Geolocation API</cite> defines a <a data-link-type="dfn" data-type="dfn" href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature" id="ref-for-index-term-policy-controlled-feature-1">policy-controlled feature</a> identified by the string "geolocation". Its <a data-link-type="dfn" data-type="dfn" href="https://www.w3.org/TR/permissions-policy-1/#default-allowlist" id="ref-for-index-term-default-allowlist-2">default allowlist</a> is <code>["self"]</code>.
        </p>
      </section>
      <section id="conformance"><h2 id="x11-conformance"><bdi class="secno">11. </bdi>Conformance<a class="self-link" aria-label="§" href="#conformance"></a></h2><p>As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative. Everything else in this specification is normative.</p><p>
          The key words <em class="rfc2119">MAY</em>, <em class="rfc2119">MUST</em>, and <em class="rfc2119">SHOULD</em> in this document
          are to be interpreted as described in
          <a href="https://datatracker.ietf.org/doc/html/bcp14">BCP 14</a>
          [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8174" title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
          when, and only when, they appear in all capitals, as shown here.
        </p></section>
      <section id="idl-index" class="appendix"><h2 id="a-idl-index"><bdi class="secno">A. </bdi>IDL Index<a class="self-link" aria-label="§" href="#idl-index"></a></h2>
        
      <pre class="idl def" id="actual-idl-index"><span class="idlHeader"><a class="self-link" href="#actual-idl-index">WebIDL</a></span><code><span data-idl="" class="idlInterface" data-title="Navigator">partial interface <a data-idl="partial" data-link-type="interface" data-title="Navigator" class="idlID" data-dfn-for="Navigator" data-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-index-term-navigator-interface-2">Navigator</a> {<span data-idl="" class="idlAttribute" data-title="geolocation" data-dfn-for="Navigator">
    [<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject" id="ref-for-index-term-sameobject-extended-attribute-2">SameObject</a></span>] readonly attribute<span class="idlType"> <a href="#dom-geolocation" class="internalDFN" data-link-type="idl" id="ref-for-dom-geolocation-3"><code>Geolocation</code></a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="geolocation" data-dfn-for="Navigator" data-type="Geolocation" data-lt="geolocation" data-local-lt="Navigator.geolocation" class="idlName"><code>geolocation</code></dfn>;</span>
  };</span>
  
  <span data-idl="" class="idlInterface" data-title="Geolocation">[<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-index-term-exposed-extended-attribute-5">Exposed</a>=<a data-type="interface" href="https://html.spec.whatwg.org/multipage/window-object.html#window" id="ref-for-index-term-window-interface-5">Window</a></span>]
  interface <dfn data-export="" data-dfn-type="interface" data-idl="interface" data-title="Geolocation" data-dfn-for="" class="idlID"><code>Geolocation</code></dfn> {<span data-idl="" class="idlMethod" data-title="getCurrentPosition" data-dfn-for="Geolocation"><span class="idlType">
    <a data-type="interface" href="https://heycam.github.io/webidl/#idl-undefined" id="ref-for-index-term-undefined-type-5">undefined</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-geolocation-getcurrentposition" id="ref-for-dom-geolocation-getcurrentposition-4"><code>getCurrentPosition</code></a> (<span class="idlType">
      <a href="#dom-positioncallback" class="internalDFN" data-link-type="idl" id="ref-for-dom-positioncallback-5"><code>PositionCallback</code></a></span> <span class="idlParamName">successCallback</span>,
      optional<span class="idlType"> <a href="#dom-positionerrorcallback" class="internalDFN" data-link-type="idl" id="ref-for-dom-positionerrorcallback-7"><code>PositionErrorCallback</code></a>?</span> <span class="idlParamName">errorCallback</span> = null,
      optional<span class="idlType"> <a href="#dom-positionoptions" class="internalDFN" data-link-type="idl" id="ref-for-dom-positionoptions-7"><code>PositionOptions</code></a></span> <span class="idlParamName">options</span> = {}
    );</span><span data-idl="" class="idlMethod" data-title="watchPosition" data-dfn-for="Geolocation"><span class="idlType">
  
    <a data-type="interface" href="https://heycam.github.io/webidl/#idl-long" id="ref-for-index-term-long-type-4">long</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-geolocation-watchposition" id="ref-for-dom-geolocation-watchposition-4"><code>watchPosition</code></a> (<span class="idlType">
      <a href="#dom-positioncallback" class="internalDFN" data-link-type="idl" id="ref-for-dom-positioncallback-6"><code>PositionCallback</code></a></span> <span class="idlParamName">successCallback</span>,
      optional<span class="idlType"> <a href="#dom-positionerrorcallback" class="internalDFN" data-link-type="idl" id="ref-for-dom-positionerrorcallback-8"><code>PositionErrorCallback</code></a>?</span> <span class="idlParamName">errorCallback</span> = null,
      optional<span class="idlType"> <a href="#dom-positionoptions" class="internalDFN" data-link-type="idl" id="ref-for-dom-positionoptions-8"><code>PositionOptions</code></a></span> <span class="idlParamName">options</span> = {}
    );</span><span data-idl="" class="idlMethod" data-title="clearWatch" data-dfn-for="Geolocation"><span class="idlType">
  
    <a data-type="interface" href="https://heycam.github.io/webidl/#idl-undefined" id="ref-for-index-term-undefined-type-6">undefined</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-geolocation-clearwatch" id="ref-for-dom-geolocation-clearwatch-3"><code>clearWatch</code></a> (<span class="idlType"><a data-type="interface" href="https://heycam.github.io/webidl/#idl-long" id="ref-for-index-term-long-type-5">long</a></span> <span class="idlParamName">watchId</span>);</span>
  };</span><span data-idl="" class="idlCallback" data-title="PositionCallback">
  
  callback <dfn data-export="" data-dfn-type="callback" data-idl="callback" data-title="PositionCallback" data-dfn-for="" class="idlID"><code>PositionCallback</code></dfn> =<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-undefined" id="ref-for-index-term-undefined-type-7">undefined</a></span> (<span class="idlType">
    <a href="#dom-geolocationposition" class="internalDFN" data-link-type="idl" id="ref-for-dom-geolocationposition-6"><code>GeolocationPosition</code></a></span> <span class="idlParamName">position</span>
  );</span><span data-idl="" class="idlCallback" data-title="PositionErrorCallback">
  
  callback <dfn data-export="" data-dfn-type="callback" data-idl="callback" data-title="PositionErrorCallback" data-dfn-for="" class="idlID"><code>PositionErrorCallback</code></dfn> =<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-undefined" id="ref-for-index-term-undefined-type-8">undefined</a></span> (<span class="idlType">
    <a href="#dom-geolocationpositionerror" class="internalDFN" data-link-type="idl" id="ref-for-dom-geolocationpositionerror-9"><code>GeolocationPositionError</code></a></span> <span class="idlParamName">positionError</span>
  );</span>
  
  <span data-idl="" class="idlDictionary" data-title="PositionOptions">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-positionoptions" id="ref-for-dom-positionoptions-9"><code>PositionOptions</code></a> {<span data-idl="" class="idlMember" data-title="enableHighAccuracy" data-dfn-for="PositionOptions"><span class="idlType">
    <a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-index-term-boolean-type-4">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-positionoptions-enablehighaccuracy" id="ref-for-dom-positionoptions-enablehighaccuracy-7"><code>enableHighAccuracy</code></a> = false;</span><span data-idl="" class="idlMember" data-title="timeout" data-dfn-for="PositionOptions">
    [<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Clamp" id="ref-for-index-term-clamp-extended-attribute-3">Clamp</a></span>]<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-index-term-unsigned-long-type-4">unsigned long</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-positionoptions-timeout" id="ref-for-dom-positionoptions-timeout-8"><code>timeout</code></a> = 0xFFFFFFFF;</span><span data-idl="" class="idlMember" data-title="maximumAge" data-dfn-for="PositionOptions">
    [<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Clamp" id="ref-for-index-term-clamp-extended-attribute-4">Clamp</a></span>]<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-index-term-unsigned-long-type-5">unsigned long</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-positionoptions-maximumage" id="ref-for-dom-positionoptions-maximumage-5"><code>maximumAge</code></a> = 0;</span>
  };</span>
  
  <span data-idl="" class="idlInterface" data-title="GeolocationPosition">[<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-index-term-exposed-extended-attribute-6">Exposed</a>=<a data-type="interface" href="https://html.spec.whatwg.org/multipage/window-object.html#window" id="ref-for-index-term-window-interface-6">Window</a></span>, <span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-index-term-securecontext-extended-attribute-3">SecureContext</a></span>]
  interface <dfn data-export="" data-dfn-type="interface" data-idl="interface" data-title="GeolocationPosition" data-dfn-for="" class="idlID"><code>GeolocationPosition</code></dfn> {<span data-idl="" class="idlAttribute" data-title="coords" data-dfn-for="GeolocationPosition">
    readonly attribute<span class="idlType"> <a href="#dom-geolocationcoordinates" class="internalDFN" data-link-type="idl" id="ref-for-dom-geolocationcoordinates-4"><code>GeolocationCoordinates</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationposition-coords" id="ref-for-dom-geolocationposition-coords-3"><code>coords</code></a>;</span><span data-idl="" class="idlAttribute" data-title="timestamp" data-dfn-for="GeolocationPosition">
    readonly attribute<span class="idlType"> <a data-type="typedef" href="https://heycam.github.io/webidl/#DOMTimeStamp" id="ref-for-index-term-domtimestamp-4">DOMTimeStamp</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationposition-timestamp" id="ref-for-dom-geolocationposition-timestamp-4"><code>timestamp</code></a>;</span>
  };</span>
  
  <span data-idl="" class="idlInterface" data-title="GeolocationCoordinates">[<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-index-term-exposed-extended-attribute-7">Exposed</a>=<a data-type="interface" href="https://html.spec.whatwg.org/multipage/window-object.html#window" id="ref-for-index-term-window-interface-7">Window</a></span>, <span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-index-term-securecontext-extended-attribute-4">SecureContext</a></span>]
  interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-geolocationcoordinates" id="ref-for-dom-geolocationcoordinates-5"><code>GeolocationCoordinates</code></a> {<span data-idl="" class="idlAttribute" data-title="accuracy" data-dfn-for="GeolocationCoordinates">
    readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-index-term-double-type-8">double</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-accuracy" id="ref-for-dom-geolocationcoordinates-accuracy-3"><code>accuracy</code></a>;</span><span data-idl="" class="idlAttribute" data-title="latitude" data-dfn-for="GeolocationCoordinates">
    readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-index-term-double-type-9">double</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-latitude" id="ref-for-dom-geolocationcoordinates-latitude-3"><code>latitude</code></a>;</span><span data-idl="" class="idlAttribute" data-title="longitude" data-dfn-for="GeolocationCoordinates">
    readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-index-term-double-type-10">double</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-longitude" id="ref-for-dom-geolocationcoordinates-longitude-3"><code>longitude</code></a>;</span><span data-idl="" class="idlAttribute" data-title="altitude" data-dfn-for="GeolocationCoordinates">
    readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-index-term-double-type-11">double</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-altitude" id="ref-for-dom-geolocationcoordinates-altitude-3"><code>altitude</code></a>;</span><span data-idl="" class="idlAttribute" data-title="altitudeAccuracy" data-dfn-for="GeolocationCoordinates">
    readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-index-term-double-type-12">double</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-altitudeaccuracy" id="ref-for-dom-geolocationcoordinates-altitudeaccuracy-3"><code>altitudeAccuracy</code></a>;</span><span data-idl="" class="idlAttribute" data-title="heading" data-dfn-for="GeolocationCoordinates">
    readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-index-term-double-type-13">double</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-heading" id="ref-for-dom-geolocationcoordinates-heading-4"><code>heading</code></a>;</span><span data-idl="" class="idlAttribute" data-title="speed" data-dfn-for="GeolocationCoordinates">
    readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-index-term-double-type-14">double</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-speed" id="ref-for-dom-geolocationcoordinates-speed-4"><code>speed</code></a>;</span>
  };</span>
  
  <span data-idl="" class="idlInterface" data-title="GeolocationPositionError">[<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-index-term-exposed-extended-attribute-8">Exposed</a>=<a data-type="interface" href="https://html.spec.whatwg.org/multipage/window-object.html#window" id="ref-for-index-term-window-interface-8">Window</a></span>]
  interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-geolocationpositionerror" id="ref-for-dom-geolocationpositionerror-10"><code>GeolocationPositionError</code></a> {<span data-idl="" class="idlConst" data-title="PERMISSION_DENIED" data-dfn-for="GeolocationPositionError">
    const<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="ref-for-index-term-unsigned-short-type-6">unsigned short</a></span> <a class="internalDFN idlName" data-link-type="const" href="#dom-geolocationpositionerror-permission_denied" id="ref-for-dom-geolocationpositionerror-permission_denied-4"><code>PERMISSION_DENIED</code></a> = 1;</span><span data-idl="" class="idlConst" data-title="POSITION_UNAVAILABLE" data-dfn-for="GeolocationPositionError">
    const<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="ref-for-index-term-unsigned-short-type-7">unsigned short</a></span> <a class="internalDFN idlName" data-link-type="const" href="#dom-geolocationpositionerror-position_unavailable" id="ref-for-dom-geolocationpositionerror-position_unavailable-5"><code>POSITION_UNAVAILABLE</code></a> = 2;</span><span data-idl="" class="idlConst" data-title="TIMEOUT" data-dfn-for="GeolocationPositionError">
    const<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="ref-for-index-term-unsigned-short-type-8">unsigned short</a></span> <a class="internalDFN idlName" data-link-type="const" href="#dom-geolocationpositionerror-timeout" id="ref-for-dom-geolocationpositionerror-timeout-3"><code>TIMEOUT</code></a> = 3;</span><span data-idl="" class="idlAttribute" data-title="code" data-dfn-for="GeolocationPositionError">
    readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="ref-for-index-term-unsigned-short-type-9">unsigned short</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationpositionerror-code" id="ref-for-dom-geolocationpositionerror-code-5"><code>code</code></a>;</span><span data-idl="" class="idlAttribute" data-title="message" data-dfn-for="GeolocationPositionError">
    readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-index-term-domstring-interface-2">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationpositionerror-message" id="ref-for-dom-geolocationpositionerror-message-3"><code>message</code></a>;</span>
  };</span></code></pre></section>
      <section class="appendix" id="index"><h2 id="b-index"><bdi class="secno">B. </bdi>Index<a class="self-link" aria-label="§" href="#index"></a></h2><section id="index-defined-here">
      <h3 id="b-1-terms-defined-by-this-specification"><bdi class="secno">B.1 </bdi>Terms defined by this specification<a class="self-link" aria-label="§" href="#index-defined-here"></a></h3>
      <ul class="index">
      <li>
        <a class="index-term" href="#dfn-a-new-geolocationposition">A new GeolocationPosition</a> 
      <span class="print-only">§8.5</span></li><li>
        <a class="index-term" href="#dom-geolocationcoordinates-accuracy"><code>accuracy</code></a> attribute for <code>GeolocationCoordinates</code>
      <span class="print-only">§8.1</span></li><li>
        <a class="index-term" href="#dfn-acquire-position">Acquire position</a> 
      <span class="print-only">§5.5</span></li><li>
        <a class="index-term" href="#dom-geolocationcoordinates-altitude"><code>altitude</code></a> attribute for <code>GeolocationCoordinates</code>
      <span class="print-only">§8.2</span></li><li>
        <a class="index-term" href="#dom-geolocationcoordinates-altitudeaccuracy"><code>altitudeAccuracy</code></a> attribute for <code>GeolocationCoordinates</code>
      <span class="print-only">§8.2</span></li><li>
        <a class="index-term" href="#dfn-cachedposition"><code>[[cachedPosition]]</code></a> internal slot for <code>Geolocation</code>
      <span class="print-only">§5.1</span></li><li>
        <a class="index-term" href="#dfn-call-back-with-error">call back with error</a> 
      <span class="print-only">§5.7</span></li><li>
        <a class="index-term" href="#dfn-check-permission">check permission</a> 
      <span class="print-only">§5.6</span></li><li>
        <a class="index-term" href="#dom-geolocation-clearwatch"><code>clearWatch()</code></a> method for <code>Geolocation</code>
      <span class="print-only">§5.4</span></li><li>
        <a class="index-term" href="#dom-geolocationpositionerror-code"><code>code</code></a> attribute for <code>GeolocationPositionError</code>
      <span class="print-only">§9.2</span></li><li>
        <a class="index-term" href="#dom-geolocationposition-coords"><code>coords</code></a> attribute for <code>GeolocationPosition</code>
      <span class="print-only">§7.1</span></li><li>
        <a class="index-term" href="#dom-positionoptions-enablehighaccuracy"><code>enableHighAccuracy</code></a> member for <code>PositionOptions</code>
      <span class="print-only">§6.1</span></li><li>
        <a class="index-term" href="#dom-navigator-geolocation"><code>geolocation</code></a> attribute for <code>Navigator</code>
      <span class="print-only">§4.</span></li><li>
        <a class="index-term" href="#dom-geolocation"><code>Geolocation</code></a> interface
      <span class="print-only">§5.</span></li><li>
        <a class="index-term" href="#dfn-geolocation-task-source">geolocation task source</a> 
      <span class="print-only">§7.4</span></li><li>
        <a class="index-term" href="#dom-geolocationcoordinates"><code>GeolocationCoordinates</code></a> interface
      <span class="print-only">§8.</span></li><li>
        <a class="index-term" href="#dom-geolocationposition"><code>GeolocationPosition</code></a> interface
      <span class="print-only">§7.</span></li><li>
        <a class="index-term" href="#dom-geolocationpositionerror"><code>GeolocationPositionError</code></a> interface
      <span class="print-only">§9.</span></li><li>
        <a class="index-term" href="#dom-geolocation-getcurrentposition"><code>getCurrentPosition</code></a> method for <code>Geolocation</code>
      <span class="print-only">§5.2</span></li><li>
        <a class="index-term" href="#dom-geolocationcoordinates-heading"><code>heading</code></a> attribute for <code>GeolocationCoordinates</code>
      <span class="print-only">§8.3</span></li><li>
        <a class="index-term" href="#dfn-ishighaccuracy"><code>[[isHighAccuracy]]</code></a> internal slot for <code>GeolocationPosition</code>
      <span class="print-only">§7.3</span></li><li>
        <a class="index-term" href="#dom-geolocationcoordinates-latitude"><code>latitude</code></a> attribute for <code>GeolocationCoordinates</code>
      <span class="print-only">§8.1</span></li><li>
        <a class="index-term" href="#dom-geolocationcoordinates-longitude"><code>longitude</code></a> attribute for <code>GeolocationCoordinates</code>
      <span class="print-only">§8.1</span></li><li>
        <a class="index-term" href="#dom-positionoptions-maximumage"><code>maximumAge</code></a> member for <code>PositionOptions</code>
      <span class="print-only">§6.3</span></li><li>
        <a class="index-term" href="#dom-geolocationpositionerror-message"><code>message</code></a> attribute for <code>GeolocationPositionError</code>
      <span class="print-only">§9.3</span></li><li>
        <a class="index-term" href="#dom-geolocationpositionerror-permission_denied"><code>PERMISSION_DENIED</code></a> 
      <span class="print-only">§9.1</span></li><li>
        <a class="index-term" href="#dom-geolocationpositionerror-position_unavailable"><code>POSITION_UNAVAILABLE</code></a> 
      <span class="print-only">§9.1</span></li><li>
        <a class="index-term" href="#dom-positioncallback"><code>PositionCallback</code></a> 
      <span class="print-only">§5.</span></li><li>
        <a class="index-term" href="#dom-positionerrorcallback"><code>PositionErrorCallback</code></a> 
      <span class="print-only">§5.</span></li><li>
        <a class="index-term" href="#dom-positionoptions"><code>PositionOptions</code></a> dictionary
      <span class="print-only">§6.</span></li><li>
        <a class="index-term" href="#dfn-request-position">Request position</a> 
      <span class="print-only">§5.5</span></li><li>
        <a class="index-term" href="#dom-geolocationcoordinates-speed"><code>speed</code></a> attribute for <code>GeolocationCoordinates</code>
      <span class="print-only">§8.4</span></li><li>
        <a class="index-term" href="#dom-positionoptions-timeout"><code>timeout</code></a> member for <code>PositionOptions</code>
      <span class="print-only">§6.2</span></li><li>
        <a class="index-term" href="#dom-geolocationpositionerror-timeout"><code>TIMEOUT</code></a> 
      <span class="print-only">§9.1</span></li><li>
        <a class="index-term" href="#dom-geolocationposition-timestamp"><code>timestamp</code></a> attribute for <code>GeolocationPosition</code>
      <span class="print-only">§7.2</span></li><li>
        <a class="index-term" href="#dom-geolocation-watchposition"><code>watchPosition</code></a> method for <code>Geolocation</code>
      <span class="print-only">§5.3</span></li><li>
        <a class="index-term" href="#dfn-watchtasks"><code>[[watchTasks]]</code></a> internal slot for <code>Geolocation</code>
      <span class="print-only">§5.1</span></li>
    </ul>
    </section><section id="index-defined-elsewhere">
      <h3 id="b-2-terms-defined-by-reference"><bdi class="secno">B.2 </bdi>Terms defined by reference<a class="self-link" aria-label="§" href="#index-defined-elsewhere"></a></h3>
      <ul class="index">
      <li>
          [<cite><a class="bibref" data-link-type="biblio" href="#bib-html">HTML</a></cite>] defines the following:
          <ul>
            <li>
      <span class="index-term" data-href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow" id="index-term-allow-attribute-for-iframe-element" tabindex="0" aria-haspopup="dialog"><code>allow</code> attribute (for <code>iframe</code> element)</span>
    </li><li>
      <span class="index-term" data-href="https://html.spec.whatwg.org/multipage/window-object.html#concept-document-window" id="index-term-associated-document" tabindex="0" aria-haspopup="dialog">associated Document</span>
    </li><li>
      <span class="index-term" data-href="https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object" id="index-term-current-settings-object" tabindex="0" aria-haspopup="dialog">current settings object</span>
    </li><li>
      <span class="index-term" data-href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="index-term-environment-settings-object" tabindex="0" aria-haspopup="dialog">environment settings object</span>
    </li><li>
      <span class="index-term" data-href="https://html.spec.whatwg.org/multipage/browsers.html#fully-active" id="index-term-fully-active-for-document" tabindex="0" aria-haspopup="dialog">fully active (for <code>Document</code>)</span>
    </li><li>
      <span class="index-term" data-href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" id="index-term-iframe-element" tabindex="0" aria-haspopup="dialog"><code>iframe</code> element</span>
    </li><li>
      <span class="index-term" data-href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="index-term-in-parallel" tabindex="0" aria-haspopup="dialog">in parallel</span>
    </li><li>
      <span class="index-term" data-href="https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#list-of-active-timers" id="index-term-list-of-active-timers" tabindex="0" aria-haspopup="dialog">list of active timers</span>
    </li><li>
      <span class="index-term" data-href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="index-term-navigator-interface" tabindex="0" aria-haspopup="dialog"><code>Navigator</code> interface</span>
    </li><li>
      <span class="index-term" data-href="https://html.spec.whatwg.org/multipage/webappapis.html#non-secure-context" id="index-term-non-secure-context" tabindex="0" aria-haspopup="dialog">non-secure context</span>
    </li><li>
      <span class="index-term" data-href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="index-term-queue-a-global-task" tabindex="0" aria-haspopup="dialog">Queue a global task</span>
    </li><li>
      <span class="index-term" data-href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="index-term-queue-a-task" tabindex="0" aria-haspopup="dialog">Queue a task</span>
    </li><li>
      <span class="index-term" data-href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="index-term-relevant-global-object" tabindex="0" aria-haspopup="dialog">relevant global object</span>
    </li><li>
      <span class="index-term" data-href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" id="index-term-task" tabindex="0" aria-haspopup="dialog">task</span>
    </li><li>
      <span class="index-term" data-href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source" id="index-term-task-source" tabindex="0" aria-haspopup="dialog">task source</span>
    </li><li>
      <span class="index-term" data-href="https://html.spec.whatwg.org/multipage/window-object.html#window" id="index-term-window-interface" tabindex="0" aria-haspopup="dialog"><code>Window</code> interface</span>
    </li>
          </ul>
        </li><li>
          [<cite><a class="bibref" data-link-type="biblio" href="#bib-infra">INFRA</a></cite>] defines the following:
          <ul>
            <li>
      <span class="index-term" data-href="https://infra.spec.whatwg.org/#set-append" id="index-term-append-for-set" tabindex="0" aria-haspopup="dialog">Append (for <code>set</code>)</span>
    </li><li>
      <span class="index-term" data-href="https://infra.spec.whatwg.org/#list-contain" id="index-term-contain-for-list" tabindex="0" aria-haspopup="dialog">contain (for <code>list</code>)</span>
    </li><li>
      <span class="index-term" data-href="https://infra.spec.whatwg.org/#map-exists" id="index-term-exists-for-map" tabindex="0" aria-haspopup="dialog">exists (for <code>map</code>)</span>
    </li><li>
      <span class="index-term" data-href="https://infra.spec.whatwg.org/#implementation-defined" id="index-term-implementation-defined" tabindex="0" aria-haspopup="dialog">implementation-defined</span>
    </li><li>
      <span class="index-term" data-href="https://infra.spec.whatwg.org/#list-item" id="index-term-item-for-list" tabindex="0" aria-haspopup="dialog">item (for <code>list</code>)</span>
    </li><li>
      <span class="index-term" data-href="https://infra.spec.whatwg.org/#map-remove" id="index-term-remove-for-map" tabindex="0" aria-haspopup="dialog">remove (for <code>map</code>)</span>
    </li><li>
      <span class="index-term" data-href="https://infra.spec.whatwg.org/#list-remove" id="index-term-remove-for-list" tabindex="0" aria-haspopup="dialog">Remove (for <code>list</code>)</span>
    </li><li>
      <span class="index-term" data-href="https://infra.spec.whatwg.org/#ordered-set" id="index-term-set" tabindex="0" aria-haspopup="dialog">set</span>
    </li>
          </ul>
        </li><li>
          [<cite><a class="bibref" data-link-type="biblio" href="#bib-page-visibility-2">PAGE-VISIBILITY-2</a></cite>] defines the following:
          <ul>
            <li>
      <span class="index-term" data-href="https://www.w3.org/TR/page-visibility-2/#dfn-hidden" id="index-term-hidden-for-document" tabindex="0" aria-haspopup="dialog">hidden (for <code>Document</code>)</span>
    </li><li>
      <span class="index-term" data-href="https://www.w3.org/TR/page-visibility-2/#dfn-visible" id="index-term-visible-for-document" tabindex="0" aria-haspopup="dialog">visible (for <code>Document</code>)</span>
    </li>
          </ul>
        </li><li>
          [<cite><a class="bibref" data-link-type="biblio" href="#bib-permissions">PERMISSIONS</a></cite>] defines the following:
          <ul>
            <li>
      <span class="index-term" data-href="https://www.w3.org/TR/permissions/#dom-permissionstate-denied" id="index-term-denied-for-permissionstate" tabindex="0" aria-haspopup="dialog"><code>denied</code> (for <code>PermissionState</code>)</span>
    </li><li>
      <span class="index-term" data-href="https://www.w3.org/TR/permissions/" id="index-term-permissions" tabindex="0" aria-haspopup="dialog">Permissions</span>
    </li><li>
      <span class="index-term" data-href="https://www.w3.org/TR/permissions/#dfn-request-permission-to-use" id="index-term-request-permission-to-use" tabindex="0" aria-haspopup="dialog">request permission to use</span>
    </li>
          </ul>
        </li><li>
          [<cite><a class="bibref" data-link-type="biblio" href="#bib-permissions-policy">PERMISSIONS-POLICY</a></cite>] defines the following:
          <ul>
            <li>
      <span class="index-term" data-href="https://www.w3.org/TR/permissions-policy-1/#default-allowlist" id="index-term-default-allowlist" tabindex="0" aria-haspopup="dialog">default allowlist</span>
    </li><li>
      <span class="index-term" data-href="https://www.w3.org/TR/permissions-policy-1/" id="index-term-permissions-policy" tabindex="0" aria-haspopup="dialog">Permissions Policy</span>
    </li><li>
      <span class="index-term" data-href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature" id="index-term-policy-controlled-feature" tabindex="0" aria-haspopup="dialog">policy-controlled feature</span>
    </li>
          </ul>
        </li><li>
          [<cite><a class="bibref" data-link-type="biblio" href="#bib-webidl">WEBIDL</a></cite>] defines the following:
          <ul>
            <li>
      <span class="index-term" data-href="https://heycam.github.io/webidl/#idl-boolean" id="index-term-boolean-type" tabindex="0" aria-haspopup="dialog"><code>boolean</code> type</span>
    </li><li>
      <span class="index-term" data-href="https://heycam.github.io/webidl/#Clamp" id="index-term-clamp-extended-attribute" tabindex="0" aria-haspopup="dialog"><code>[Clamp]</code> extended attribute</span>
    </li><li>
      <span class="index-term" data-href="https://heycam.github.io/webidl/#idl-DOMString" id="index-term-domstring-interface" tabindex="0" aria-haspopup="dialog"><code>DOMString</code> interface</span>
    </li><li>
      <span class="index-term" data-href="https://heycam.github.io/webidl/#DOMTimeStamp" id="index-term-domtimestamp" tabindex="0" aria-haspopup="dialog"><code>DOMTimeStamp</code></span>
    </li><li>
      <span class="index-term" data-href="https://heycam.github.io/webidl/#idl-double" id="index-term-double-type" tabindex="0" aria-haspopup="dialog"><code>double</code> type</span>
    </li><li>
      <span class="index-term" data-href="https://heycam.github.io/webidl/#Exposed" id="index-term-exposed-extended-attribute" tabindex="0" aria-haspopup="dialog"><code>[Exposed]</code> extended attribute</span>
    </li><li>
      <span class="index-term" data-href="https://heycam.github.io/webidl/#invoke-a-callback-function" id="index-term-invokes" tabindex="0" aria-haspopup="dialog">invokes</span>
    </li><li>
      <span class="index-term" data-href="https://heycam.github.io/webidl/#idl-long" id="index-term-long-type" tabindex="0" aria-haspopup="dialog"><code>long</code> type</span>
    </li><li>
      <span class="index-term" data-href="https://heycam.github.io/webidl/#SameObject" id="index-term-sameobject-extended-attribute" tabindex="0" aria-haspopup="dialog"><code>[SameObject]</code> extended attribute</span>
    </li><li>
      <span class="index-term" data-href="https://heycam.github.io/webidl/#SecureContext" id="index-term-securecontext-extended-attribute" tabindex="0" aria-haspopup="dialog"><code>[SecureContext]</code> extended attribute</span>
    </li><li>
      <span class="index-term" data-href="https://heycam.github.io/webidl/#this" id="index-term-this" tabindex="0" aria-haspopup="dialog">this</span>
    </li><li>
      <span class="index-term" data-href="https://heycam.github.io/webidl/#idl-undefined" id="index-term-undefined-type" tabindex="0" aria-haspopup="dialog"><code>undefined</code> type</span>
    </li><li>
      <span class="index-term" data-href="https://heycam.github.io/webidl/#idl-unsigned-long" id="index-term-unsigned-long-type" tabindex="0" aria-haspopup="dialog"><code>unsigned long</code> type</span>
    </li><li>
      <span class="index-term" data-href="https://heycam.github.io/webidl/#idl-unsigned-short" id="index-term-unsigned-short-type" tabindex="0" aria-haspopup="dialog"><code>unsigned short</code> type</span>
    </li>
          </ul>
        </li>
    </ul>
    </section></section>
      <section class="appendix informative" id="acknowledgments">
        <h2 id="c-acknowledgments"><bdi class="secno">C. </bdi>
          Acknowledgments
        <a class="self-link" aria-label="§" href="#acknowledgments"></a></h2><p><em>This section is non-normative.</em></p>
        <p>
          This specification builds upon earlier work in the industry, including
          research by Aza Raskin, Google Gears Geolocation API, and
          LocationAware.org.
        </p>
        <p>
          Thanks also to Alec Berntson, Alissa Cooper, Steve Block, Greg
          Bolsinga, Lars Erik Bolstad, Aaron Boodman, Dave Burke, Chris Butler,
          Max Froumentin, Shyam Habarakada, Marcin Hanclik, Ian Hickson, Brad
          Lassey, Angel Machin, Cameron McCormack, Daniel Park, Stuart Parmenter,
          Olli Pettay, Chris Prince, Arun Ranganathan, Carl Reed, Thomas
          Roessler, Dirk Segers, Allan Thomson, Martin Thomson, Doug Turner, Erik
          Wilde, Matt Womer, and Mohamed Zergaoui.
        </p>
      </section>
    
  
  
  <section id="references" class="appendix"><h2 id="d-references"><bdi class="secno">D. </bdi>References<a class="self-link" aria-label="§" href="#references"></a></h2><section id="normative-references">
      <h3 id="d-1-normative-references"><bdi class="secno">D.1 </bdi>Normative references<a class="self-link" aria-label="§" href="#normative-references"></a></h3>
      <dl class="bibliography"><dt id="bib-html">[HTML]</dt><dd><a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Anne van Kesteren; Domenic Denicola; Ian Hickson; Philip Jägenstedt; Simon Pieters.  WHATWG. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a></dd><dt id="bib-infra">[infra]</dt><dd><a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Anne van Kesteren; Domenic Denicola.  WHATWG. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a></dd><dt id="bib-page-visibility-2">[page-visibility-2]</dt><dd><a href="https://www.w3.org/TR/page-visibility-2/"><cite>Page Visibility Level 2</cite></a>. Ilya Grigorik; Marcos Caceres.  W3C. 18 May 2021. W3C Candidate Recommendation. URL: <a href="https://www.w3.org/TR/page-visibility-2/">https://www.w3.org/TR/page-visibility-2/</a></dd><dt id="bib-permissions">[Permissions]</dt><dd><a href="https://www.w3.org/TR/permissions/" id="ref-for-index-term-permissions-2"><cite>Permissions</cite></a>. Marcos Caceres; Micheal Taylor; Jeffrey Yasskin.  W3C. 7 September 2021. W3C Working Draft. URL: <a href="https://www.w3.org/TR/permissions/" id="ref-for-index-term-permissions-3">https://www.w3.org/TR/permissions/</a></dd><dt id="bib-permissions-policy">[Permissions-Policy]</dt><dd><a href="https://www.w3.org/TR/permissions-policy-1/" id="ref-for-index-term-permissions-policy-3"><cite>Permissions Policy</cite></a>. Ian Clelland.  W3C. 16 July 2020. W3C Working Draft. URL: <a href="https://www.w3.org/TR/permissions-policy-1/" id="ref-for-index-term-permissions-policy-4">https://www.w3.org/TR/permissions-policy-1/</a></dd><dt id="bib-rfc2119">[RFC2119]</dt><dd><a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. S. Bradner.  IETF. March 1997. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a></dd><dt id="bib-rfc8174">[RFC8174]</dt><dd><a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</cite></a>. B. Leiba.  IETF. May 2017. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a></dd><dt id="bib-webidl">[WebIDL]</dt><dd><a href="https://heycam.github.io/webidl/"><cite>Web IDL</cite></a>. Boris Zbarsky.  W3C. 15 December 2016. W3C Editor's Draft. URL: <a href="https://heycam.github.io/webidl/">https://heycam.github.io/webidl/</a></dd><dt id="bib-wgs84">[WGS84]</dt><dd><cite>National Imagery and Mapping Agency Technical Report 8350.2, Third Edition</cite>.  National Imagery and Mapping Agency. 3 January 2000. </dd></dl>
    </section></section><p role="navigation" id="back-to-top">
      <a href="#title"><abbr title="Back to Top">↑</abbr></a>
    </p><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-navigator-geolocation" aria-label="Links in this document to definition: geolocation">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-navigator-geolocation" aria-label="Permalink for definition: geolocation. Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
        <li>Not referenced in this document.</li>
      </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocation" aria-label="Links in this document to definition: Geolocation">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-geolocation" aria-label="Permalink for definition: Geolocation. Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dom-geolocation-1" title="§ 4. Extensions to the Navigator interface">§ 4. Extensions to the Navigator interface</a> 
    </li><li>
      <a href="#ref-for-dom-geolocation-2" title="§ 5.1 Internal slots">§ 5.1 Internal slots</a> 
    </li><li>
      <a href="#ref-for-dom-geolocation-3" title="§ A. IDL Index">§ A. IDL Index</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-positioncallback" aria-label="Links in this document to definition: PositionCallback">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-positioncallback" aria-label="Permalink for definition: PositionCallback. Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dom-positioncallback-1" title="§ 5. Geolocation interface and callbacks">§ 5. Geolocation interface and callbacks</a> <a href="#ref-for-dom-positioncallback-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-positioncallback-3" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li><li>
      <a href="#ref-for-dom-positioncallback-4" title="§ 7.4 Task sources">§ 7.4 Task sources</a> 
    </li><li>
      <a href="#ref-for-dom-positioncallback-5" title="§ A. IDL Index">§ A. IDL Index</a> <a href="#ref-for-dom-positioncallback-6" title="Reference 2">(2)</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-positionerrorcallback" aria-label="Links in this document to definition: PositionErrorCallback">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-positionerrorcallback" aria-label="Permalink for definition: PositionErrorCallback. Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dom-positionerrorcallback-1" title="§ 5. Geolocation interface and callbacks">§ 5. Geolocation interface and callbacks</a> <a href="#ref-for-dom-positionerrorcallback-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-positionerrorcallback-3" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li><li>
      <a href="#ref-for-dom-positionerrorcallback-4" title="§ 5.6 Check permission">§ 5.6 Check permission</a> 
    </li><li>
      <a href="#ref-for-dom-positionerrorcallback-5" title="§ 5.7 Call back with error">§ 5.7 Call back with error</a> 
    </li><li>
      <a href="#ref-for-dom-positionerrorcallback-6" title="§ 7.4 Task sources">§ 7.4 Task sources</a> 
    </li><li>
      <a href="#ref-for-dom-positionerrorcallback-7" title="§ A. IDL Index">§ A. IDL Index</a> <a href="#ref-for-dom-positionerrorcallback-8" title="Reference 2">(2)</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-cachedposition" aria-label="Links in this document to definition: [[cachedPosition]]">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dfn-cachedposition" aria-label="Permalink for definition: [[cachedPosition]]. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dfn-cachedposition-1" title="§ 5.1 Internal slots">§ 5.1 Internal slots</a> 
    </li><li>
      <a href="#ref-for-dfn-cachedposition-2" title="§ 5.5 Request position">§ 5.5 Request position</a> <a href="#ref-for-dfn-cachedposition-3" title="Reference 2">(2)</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-watchtasks" aria-label="Links in this document to definition: [[watchTasks]]">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dfn-watchtasks" aria-label="Permalink for definition: [[watchTasks]]. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dfn-watchtasks-1" title="§ 5.4 clearWatch() method">§ 5.4 clearWatch() method</a> <a href="#ref-for-dfn-watchtasks-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-watchtasks-3" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocation-getcurrentposition" aria-label="Links in this document to definition: getCurrentPosition">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-geolocation-getcurrentposition" aria-label="Permalink for definition: getCurrentPosition. Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-212590439">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dom-geolocation-getcurrentposition-1" title="§ 1. Introduction">§ 1. Introduction</a> 
    </li><li>
      <a href="#ref-for-dom-geolocation-getcurrentposition-2" title="§ 2.4 Handling errors">§ 2.4 Handling errors</a> 
    </li><li>
      <a href="#ref-for-dom-geolocation-getcurrentposition-3" title="§ 5. Geolocation interface and callbacks">§ 5. Geolocation interface and callbacks</a> 
    </li><li>
      <a href="#ref-for-dom-geolocation-getcurrentposition-4" title="§ A. IDL Index">§ A. IDL Index</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocation-watchposition" aria-label="Links in this document to definition: watchPosition">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-geolocation-watchposition" aria-label="Permalink for definition: watchPosition. Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-212590439">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dom-geolocation-watchposition-1" title="§ 1. Introduction">§ 1. Introduction</a> 
    </li><li>
      <a href="#ref-for-dom-geolocation-watchposition-2" title="§ 2.4 Handling errors">§ 2.4 Handling errors</a> 
    </li><li>
      <a href="#ref-for-dom-geolocation-watchposition-3" title="§ 5. Geolocation interface and callbacks">§ 5. Geolocation interface and callbacks</a> 
    </li><li>
      <a href="#ref-for-dom-geolocation-watchposition-4" title="§ A. IDL Index">§ A. IDL Index</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocation-clearwatch" aria-label="Links in this document to definition: clearWatch()">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-geolocation-clearwatch" aria-label="Permalink for definition: clearWatch(). Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-212590439">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dom-geolocation-clearwatch-1" title="§ 2.3 Stop watching a position">§ 2.3 Stop watching a position</a> 
    </li><li>
      <a href="#ref-for-dom-geolocation-clearwatch-2" title="§ 5. Geolocation interface and callbacks">§ 5. Geolocation interface and callbacks</a> 
    </li><li>
      <a href="#ref-for-dom-geolocation-clearwatch-3" title="§ A. IDL Index">§ A. IDL Index</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-request-position" aria-label="Links in this document to definition: Request position">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dfn-request-position" aria-label="Permalink for definition: Request position. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dfn-request-position-1" title="§ 1.2 Change log">§ 1.2 Change log</a> 
    </li><li>
      <a href="#ref-for-dfn-request-position-2" title="§ 5.2 getCurrentPosition() method">§ 5.2 getCurrentPosition() method</a> 
    </li><li>
      <a href="#ref-for-dfn-request-position-3" title="§ 5.3 watchPosition() method">§ 5.3 watchPosition() method</a> 
    </li><li>
      <a href="#ref-for-dfn-request-position-4" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li><li>
      <a href="#ref-for-dfn-request-position-5" title="§ 7.4 Task sources">§ 7.4 Task sources</a> 
    </li><li>
      <a href="#ref-for-dfn-request-position-6" title="§ 9.1 Constants">§ 9.1 Constants</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-acquire-position" aria-label="Links in this document to definition: Acquire position">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dfn-acquire-position" aria-label="Permalink for definition: Acquire position. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dfn-acquire-position-1" title="§ 1. Introduction">§ 1. Introduction</a> 
    </li><li>
      <a href="#ref-for-dfn-acquire-position-2" title="§ 1.2 Change log">§ 1.2 Change log</a> 
    </li><li>
      <a href="#ref-for-dfn-acquire-position-3" title="§ 2.6 Using timeout">§ 2.6 Using timeout</a> 
    </li><li>
      <a href="#ref-for-dfn-acquire-position-4" title="§ 6.2 timeout member">§ 6.2 timeout member</a> <a href="#ref-for-dfn-acquire-position-5" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-acquire-position-6" title="§ 9.1 Constants">§ 9.1 Constants</a> <a href="#ref-for-dfn-acquire-position-7" title="Reference 2">(2)</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-check-permission" aria-label="Links in this document to definition: check permission">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dfn-check-permission" aria-label="Permalink for definition: check permission. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dfn-check-permission-1" title="§ 1. Introduction">§ 1. Introduction</a> 
    </li><li>
      <a href="#ref-for-dfn-check-permission-2" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li><li>
      <a href="#ref-for-dfn-check-permission-3" title="§ 6.2 timeout member">§ 6.2 timeout member</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-call-back-with-error" aria-label="Links in this document to definition: call back with error">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dfn-call-back-with-error" aria-label="Permalink for definition: call back with error. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dfn-call-back-with-error-1" title="§ 5.2 getCurrentPosition() method">§ 5.2 getCurrentPosition() method</a> 
    </li><li>
      <a href="#ref-for-dfn-call-back-with-error-2" title="§ 5.3 watchPosition() method">§ 5.3 watchPosition() method</a> 
    </li><li>
      <a href="#ref-for-dfn-call-back-with-error-3" title="§ 5.5 Request position">§ 5.5 Request position</a> <a href="#ref-for-dfn-call-back-with-error-4" title="Reference 2">(2)</a> <a href="#ref-for-dfn-call-back-with-error-5" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-call-back-with-error-6" title="§ 5.6 Check permission">§ 5.6 Check permission</a> 
    </li><li>
      <a href="#ref-for-dfn-call-back-with-error-7" title="§ 9.2 code attribute">§ 9.2 code attribute</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-positionoptions" aria-label="Links in this document to definition: PositionOptions">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-positionoptions" aria-label="Permalink for definition: PositionOptions. Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1341144555">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dom-positionoptions-1" title="§ 1. Introduction">§ 1. Introduction</a> 
    </li><li>
      <a href="#ref-for-dom-positionoptions-2" title="§ 2.6 Using timeout">§ 2.6 Using timeout</a> 
    </li><li>
      <a href="#ref-for-dom-positionoptions-3" title="§ 5. Geolocation interface and callbacks">§ 5. Geolocation interface and callbacks</a> <a href="#ref-for-dom-positionoptions-4" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-positionoptions-5" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li><li>
      <a href="#ref-for-dom-positionoptions-6" title="§ 6. PositionOptions dictionary">§ 6. PositionOptions dictionary</a> 
    </li><li>
      <a href="#ref-for-dom-positionoptions-7" title="§ A. IDL Index">§ A. IDL Index</a> <a href="#ref-for-dom-positionoptions-8" title="Reference 2">(2)</a> <a href="#ref-for-dom-positionoptions-9" title="Reference 3">(3)</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-positionoptions-enablehighaccuracy" aria-label="Links in this document to definition: enableHighAccuracy">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-positionoptions-enablehighaccuracy" aria-label="Permalink for definition: enableHighAccuracy. Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1341144555">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dom-positionoptions-enablehighaccuracy-1" title="§ 1. Introduction">§ 1. Introduction</a> 
    </li><li>
      <a href="#ref-for-dom-positionoptions-enablehighaccuracy-2" title="§ 5.5 Request position">§ 5.5 Request position</a> <a href="#ref-for-dom-positionoptions-enablehighaccuracy-3" title="Reference 2">(2)</a> <a href="#ref-for-dom-positionoptions-enablehighaccuracy-4" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dom-positionoptions-enablehighaccuracy-5" title="§ 6. PositionOptions dictionary">§ 6. PositionOptions dictionary</a> 
    </li><li>
      <a href="#ref-for-dom-positionoptions-enablehighaccuracy-6" title="§ 7.3 Internal slots">§ 7.3 Internal slots</a> 
    </li><li>
      <a href="#ref-for-dom-positionoptions-enablehighaccuracy-7" title="§ A. IDL Index">§ A. IDL Index</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-positionoptions-timeout" aria-label="Links in this document to definition: timeout">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-positionoptions-timeout" aria-label="Permalink for definition: timeout. Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1341144555">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dom-positionoptions-timeout-1" title="§ 2.6 Using timeout">§ 2.6 Using timeout</a> 
    </li><li>
      <a href="#ref-for-dom-positionoptions-timeout-2" title="§ 5.5 Request position">§ 5.5 Request position</a> <a href="#ref-for-dom-positionoptions-timeout-3" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-positionoptions-timeout-4" title="§ 6. PositionOptions dictionary">§ 6. PositionOptions dictionary</a> 
    </li><li>
      <a href="#ref-for-dom-positionoptions-timeout-5" title="§ 6.2 timeout member">§ 6.2 timeout member</a> <a href="#ref-for-dom-positionoptions-timeout-6" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-positionoptions-timeout-7" title="§ 9.1 Constants">§ 9.1 Constants</a> 
    </li><li>
      <a href="#ref-for-dom-positionoptions-timeout-8" title="§ A. IDL Index">§ A. IDL Index</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-positionoptions-maximumage" aria-label="Links in this document to definition: maximumAge">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-positionoptions-maximumage" aria-label="Permalink for definition: maximumAge. Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1341144555">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dom-positionoptions-maximumage-1" title="§ 1. Introduction">§ 1. Introduction</a> 
    </li><li>
      <a href="#ref-for-dom-positionoptions-maximumage-2" title="§ 5.5 Request position">§ 5.5 Request position</a> <a href="#ref-for-dom-positionoptions-maximumage-3" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-positionoptions-maximumage-4" title="§ 6. PositionOptions dictionary">§ 6. PositionOptions dictionary</a> 
    </li><li>
      <a href="#ref-for-dom-positionoptions-maximumage-5" title="§ A. IDL Index">§ A. IDL Index</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocationposition" aria-label="Links in this document to definition: GeolocationPosition">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-geolocationposition" aria-label="Permalink for definition: GeolocationPosition. Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dom-geolocationposition-1" title="§ 1. Introduction">§ 1. Introduction</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationposition-2" title="§ 5. Geolocation interface and callbacks">§ 5. Geolocation interface and callbacks</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationposition-3" title="§ 5.1 Internal slots">§ 5.1 Internal slots</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationposition-4" title="§ 7.3 Internal slots">§ 7.3 Internal slots</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationposition-5" title="§ 8.5 Constructing a GeolocationPosition">§ 8.5 Constructing a GeolocationPosition</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationposition-6" title="§ A. IDL Index">§ A. IDL Index</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocationposition-coords" aria-label="Links in this document to definition: coords">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-geolocationposition-coords" aria-label="Permalink for definition: coords. Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1855475801">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dom-geolocationposition-coords-1" title="§ 7. GeolocationPosition interface">§ 7. GeolocationPosition interface</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationposition-coords-2" title="§ 8.5 Constructing a GeolocationPosition">§ 8.5 Constructing a GeolocationPosition</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationposition-coords-3" title="§ A. IDL Index">§ A. IDL Index</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocationposition-timestamp" aria-label="Links in this document to definition: timestamp">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-geolocationposition-timestamp" aria-label="Permalink for definition: timestamp. Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1855475801">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dom-geolocationposition-timestamp-1" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationposition-timestamp-2" title="§ 7. GeolocationPosition interface">§ 7. GeolocationPosition interface</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationposition-timestamp-3" title="§ 8.5 Constructing a GeolocationPosition">§ 8.5 Constructing a GeolocationPosition</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationposition-timestamp-4" title="§ A. IDL Index">§ A. IDL Index</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-ishighaccuracy" aria-label="Links in this document to definition: [[isHighAccuracy]]">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dfn-ishighaccuracy" aria-label="Permalink for definition: [[isHighAccuracy]]. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dfn-ishighaccuracy-1" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li><li>
      <a href="#ref-for-dfn-ishighaccuracy-2" title="§ 8.5 Constructing a GeolocationPosition">§ 8.5 Constructing a GeolocationPosition</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-geolocation-task-source" aria-label="Links in this document to definition: geolocation task source">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dfn-geolocation-task-source" aria-label="Permalink for definition: geolocation task source. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dfn-geolocation-task-source-1" title="§ 5.5 Request position">§ 5.5 Request position</a> <a href="#ref-for-dfn-geolocation-task-source-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-geolocation-task-source-3" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-geolocation-task-source-4" title="§ 5.7 Call back with error">§ 5.7 Call back with error</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocationcoordinates" aria-label="Links in this document to definition: GeolocationCoordinates">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-geolocationcoordinates" aria-label="Permalink for definition: GeolocationCoordinates. Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1124918410">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dom-geolocationcoordinates-1" title="§ 7. GeolocationPosition interface">§ 7. GeolocationPosition interface</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationcoordinates-2" title="§ 8. GeolocationCoordinates interface">§ 8. GeolocationCoordinates interface</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationcoordinates-3" title="§ 8.5 Constructing a GeolocationPosition">§ 8.5 Constructing a GeolocationPosition</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationcoordinates-4" title="§ A. IDL Index">§ A. IDL Index</a> <a href="#ref-for-dom-geolocationcoordinates-5" title="Reference 2">(2)</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocationcoordinates-latitude" aria-label="Links in this document to definition: latitude">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-geolocationcoordinates-latitude" aria-label="Permalink for definition: latitude. Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1124918410">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dom-geolocationcoordinates-latitude-1" title="§ 8. GeolocationCoordinates interface">§ 8. GeolocationCoordinates interface</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationcoordinates-latitude-2" title="§ 8.5 Constructing a GeolocationPosition">§ 8.5 Constructing a GeolocationPosition</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationcoordinates-latitude-3" title="§ A. IDL Index">§ A. IDL Index</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocationcoordinates-longitude" aria-label="Links in this document to definition: longitude">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-geolocationcoordinates-longitude" aria-label="Permalink for definition: longitude. Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1124918410">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dom-geolocationcoordinates-longitude-1" title="§ 8. GeolocationCoordinates interface">§ 8. GeolocationCoordinates interface</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationcoordinates-longitude-2" title="§ 8.5 Constructing a GeolocationPosition">§ 8.5 Constructing a GeolocationPosition</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationcoordinates-longitude-3" title="§ A. IDL Index">§ A. IDL Index</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocationcoordinates-accuracy" aria-label="Links in this document to definition: accuracy">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-geolocationcoordinates-accuracy" aria-label="Permalink for definition: accuracy. Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1124918410">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dom-geolocationcoordinates-accuracy-1" title="§ 8. GeolocationCoordinates interface">§ 8. GeolocationCoordinates interface</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationcoordinates-accuracy-2" title="§ 8.5 Constructing a GeolocationPosition">§ 8.5 Constructing a GeolocationPosition</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationcoordinates-accuracy-3" title="§ A. IDL Index">§ A. IDL Index</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocationcoordinates-altitude" aria-label="Links in this document to definition: altitude">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-geolocationcoordinates-altitude" aria-label="Permalink for definition: altitude. Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1124918410">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dom-geolocationcoordinates-altitude-1" title="§ 8. GeolocationCoordinates interface">§ 8. GeolocationCoordinates interface</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationcoordinates-altitude-2" title="§ 8.5 Constructing a GeolocationPosition">§ 8.5 Constructing a GeolocationPosition</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationcoordinates-altitude-3" title="§ A. IDL Index">§ A. IDL Index</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocationcoordinates-altitudeaccuracy" aria-label="Links in this document to definition: altitudeAccuracy">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-geolocationcoordinates-altitudeaccuracy" aria-label="Permalink for definition: altitudeAccuracy. Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1124918410">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dom-geolocationcoordinates-altitudeaccuracy-1" title="§ 8. GeolocationCoordinates interface">§ 8. GeolocationCoordinates interface</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationcoordinates-altitudeaccuracy-2" title="§ 8.5 Constructing a GeolocationPosition">§ 8.5 Constructing a GeolocationPosition</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationcoordinates-altitudeaccuracy-3" title="§ A. IDL Index">§ A. IDL Index</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocationcoordinates-heading" aria-label="Links in this document to definition: heading">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-geolocationcoordinates-heading" aria-label="Permalink for definition: heading. Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1124918410">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dom-geolocationcoordinates-heading-1" title="§ 8. GeolocationCoordinates interface">§ 8. GeolocationCoordinates interface</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationcoordinates-heading-2" title="§ 8.5 Constructing a GeolocationPosition">§ 8.5 Constructing a GeolocationPosition</a> <a href="#ref-for-dom-geolocationcoordinates-heading-3" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationcoordinates-heading-4" title="§ A. IDL Index">§ A. IDL Index</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocationcoordinates-speed" aria-label="Links in this document to definition: speed">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-geolocationcoordinates-speed" aria-label="Permalink for definition: speed. Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1124918410">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dom-geolocationcoordinates-speed-1" title="§ 8. GeolocationCoordinates interface">§ 8. GeolocationCoordinates interface</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationcoordinates-speed-2" title="§ 8.5 Constructing a GeolocationPosition">§ 8.5 Constructing a GeolocationPosition</a> <a href="#ref-for-dom-geolocationcoordinates-speed-3" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationcoordinates-speed-4" title="§ A. IDL Index">§ A. IDL Index</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-a-new-geolocationposition" aria-label="Links in this document to definition: A new GeolocationPosition">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dfn-a-new-geolocationposition" aria-label="Permalink for definition: A new GeolocationPosition. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dfn-a-new-geolocationposition-1" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li><li>
      <a href="#ref-for-dfn-a-new-geolocationposition-2" title="§ 7.3 Internal slots">§ 7.3 Internal slots</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocationpositionerror" aria-label="Links in this document to definition: GeolocationPositionError">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-geolocationpositionerror" aria-label="Permalink for definition: GeolocationPositionError. Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1281871320">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dom-geolocationpositionerror-1" title="§ 1. Introduction">§ 1. Introduction</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationpositionerror-2" title="§ 2.4 Handling errors">§ 2.4 Handling errors</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationpositionerror-3" title="§ 5. Geolocation interface and callbacks">§ 5. Geolocation interface and callbacks</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationpositionerror-4" title="§ 5.7 Call back with error">§ 5.7 Call back with error</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationpositionerror-5" title="§ 7.3 Internal slots">§ 7.3 Internal slots</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationpositionerror-6" title="§ 9. GeolocationPositionError interface">§ 9. GeolocationPositionError interface</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationpositionerror-7" title="§ 9.3 message attribute">§ 9.3 message attribute</a> <a href="#ref-for-dom-geolocationpositionerror-8" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationpositionerror-9" title="§ A. IDL Index">§ A. IDL Index</a> <a href="#ref-for-dom-geolocationpositionerror-10" title="Reference 2">(2)</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocationpositionerror-permission_denied" aria-label="Links in this document to definition: PERMISSION_DENIED">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-geolocationpositionerror-permission_denied" aria-label="Permalink for definition: PERMISSION_DENIED. Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1281871320">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dom-geolocationpositionerror-permission_denied-1" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationpositionerror-permission_denied-2" title="§ 5.6 Check permission">§ 5.6 Check permission</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationpositionerror-permission_denied-3" title="§ 9. GeolocationPositionError interface">§ 9. GeolocationPositionError interface</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationpositionerror-permission_denied-4" title="§ A. IDL Index">§ A. IDL Index</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocationpositionerror-position_unavailable" aria-label="Links in this document to definition: POSITION_UNAVAILABLE">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-geolocationpositionerror-position_unavailable" aria-label="Permalink for definition: POSITION_UNAVAILABLE. Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1281871320">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dom-geolocationpositionerror-position_unavailable-1" title="§ 5.2 getCurrentPosition() method">§ 5.2 getCurrentPosition() method</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationpositionerror-position_unavailable-2" title="§ 5.3 watchPosition() method">§ 5.3 watchPosition() method</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationpositionerror-position_unavailable-3" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationpositionerror-position_unavailable-4" title="§ 9. GeolocationPositionError interface">§ 9. GeolocationPositionError interface</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationpositionerror-position_unavailable-5" title="§ A. IDL Index">§ A. IDL Index</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocationpositionerror-timeout" aria-label="Links in this document to definition: TIMEOUT">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-geolocationpositionerror-timeout" aria-label="Permalink for definition: TIMEOUT. Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1281871320">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dom-geolocationpositionerror-timeout-1" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationpositionerror-timeout-2" title="§ 9. GeolocationPositionError interface">§ 9. GeolocationPositionError interface</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationpositionerror-timeout-3" title="§ A. IDL Index">§ A. IDL Index</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocationpositionerror-code" aria-label="Links in this document to definition: code">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-geolocationpositionerror-code" aria-label="Permalink for definition: code. Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1281871320">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dom-geolocationpositionerror-code-1" title="§ 5.7 Call back with error">§ 5.7 Call back with error</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationpositionerror-code-2" title="§ 9. GeolocationPositionError interface">§ 9. GeolocationPositionError interface</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationpositionerror-code-3" title="§ 9.3 message attribute">§ 9.3 message attribute</a> <a href="#ref-for-dom-geolocationpositionerror-code-4" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationpositionerror-code-5" title="§ A. IDL Index">§ A. IDL Index</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocationpositionerror-message" aria-label="Links in this document to definition: message">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="#dom-geolocationpositionerror-message" aria-label="Permalink for definition: message. Activate to close this dialog.">Permalink</a>
          <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1281871320">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-dom-geolocationpositionerror-message-1" title="§ 9. GeolocationPositionError interface">§ 9. GeolocationPositionError interface</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationpositionerror-message-2" title="§ 9.3 message attribute">§ 9.3 message attribute</a> 
    </li><li>
      <a href="#ref-for-dom-geolocationpositionerror-message-3" title="§ A. IDL Index">§ A. IDL Index</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-allow-attribute-for-iframe-element" aria-label="Links in this document to definition: allow attribute (for iframe element)">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow" aria-label="Permalink for definition: allow attribute (for iframe element). Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-allow-attribute-for-iframe-element-1" title="§ 2.7 Enabling the API in third-party contexts">§ 2.7 Enabling the API in third-party contexts</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-associated-document" aria-label="Links in this document to definition: associated Document">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://html.spec.whatwg.org/multipage/window-object.html#concept-document-window" aria-label="Permalink for definition: associated Document. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-associated-document-1" title="§ 5.2 getCurrentPosition() method">§ 5.2 getCurrentPosition() method</a> 
    </li><li>
      <a href="#ref-for-index-term-associated-document-2" title="§ 5.3 watchPosition() method">§ 5.3 watchPosition() method</a> 
    </li><li>
      <a href="#ref-for-index-term-associated-document-3" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-current-settings-object" aria-label="Links in this document to definition: current settings object">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object" aria-label="Permalink for definition: current settings object. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-current-settings-object-1" title="§ 5.2 getCurrentPosition() method">§ 5.2 getCurrentPosition() method</a> 
    </li><li>
      <a href="#ref-for-index-term-current-settings-object-2" title="§ 5.3 watchPosition() method">§ 5.3 watchPosition() method</a> 
    </li><li>
      <a href="#ref-for-index-term-current-settings-object-3" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-environment-settings-object" aria-label="Links in this document to definition: environment settings object">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" aria-label="Permalink for definition: environment settings object. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-environment-settings-object-1" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-fully-active-for-document" aria-label="Links in this document to definition: fully active (for Document)">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://html.spec.whatwg.org/multipage/browsers.html#fully-active" aria-label="Permalink for definition: fully active (for Document). Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-fully-active-for-document-1" title="§ 5.2 getCurrentPosition() method">§ 5.2 getCurrentPosition() method</a> 
    </li><li>
      <a href="#ref-for-index-term-fully-active-for-document-2" title="§ 5.3 watchPosition() method">§ 5.3 watchPosition() method</a> 
    </li><li>
      <a href="#ref-for-index-term-fully-active-for-document-3" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-iframe-element" aria-label="Links in this document to definition: iframe element">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" aria-label="Permalink for definition: iframe element. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-iframe-element-1" title="§ 2.7 Enabling the API in third-party contexts">§ 2.7 Enabling the API in third-party contexts</a> 
    </li><li>
      <a href="#ref-for-index-term-iframe-element-2" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-in-parallel" aria-label="Links in this document to definition: in parallel">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" aria-label="Permalink for definition: in parallel. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-in-parallel-1" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-list-of-active-timers" aria-label="Links in this document to definition: list of active timers">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#list-of-active-timers" aria-label="Permalink for definition: list of active timers. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-list-of-active-timers-1" title="§ 5.5 Request position">§ 5.5 Request position</a> <a href="#ref-for-index-term-list-of-active-timers-2" title="Reference 2">(2)</a> <a href="#ref-for-index-term-list-of-active-timers-3" title="Reference 3">(3)</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-navigator-interface" aria-label="Links in this document to definition: Navigator interface">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" aria-label="Permalink for definition: Navigator interface. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-navigator-interface-1" title="§ 4. Extensions to the Navigator interface">§ 4. Extensions to the Navigator interface</a> 
    </li><li>
      <a href="#ref-for-index-term-navigator-interface-2" title="§ A. IDL Index">§ A. IDL Index</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-non-secure-context" aria-label="Links in this document to definition: non-secure context">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#non-secure-context" aria-label="Permalink for definition: non-secure context. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-non-secure-context-1" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-queue-a-global-task" aria-label="Links in this document to definition: Queue a global task">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" aria-label="Permalink for definition: Queue a global task. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-queue-a-global-task-1" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-queue-a-task" aria-label="Links in this document to definition: Queue a task">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" aria-label="Permalink for definition: Queue a task. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-queue-a-task-1" title="§ 5.5 Request position">§ 5.5 Request position</a> <a href="#ref-for-index-term-queue-a-task-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-index-term-queue-a-task-3" title="§ 5.7 Call back with error">§ 5.7 Call back with error</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-relevant-global-object" aria-label="Links in this document to definition: relevant global object">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" aria-label="Permalink for definition: relevant global object. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-relevant-global-object-1" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-task" aria-label="Links in this document to definition: task">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" aria-label="Permalink for definition: task. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-task-1" title="§ 5.1 Internal slots">§ 5.1 Internal slots</a> 
    </li><li>
      <a href="#ref-for-index-term-task-2" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-task-source" aria-label="Links in this document to definition: task source">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source" aria-label="Permalink for definition: task source. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-task-source-1" title="§ 7.4 Task sources">§ 7.4 Task sources</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-window-interface" aria-label="Links in this document to definition: Window interface">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://html.spec.whatwg.org/multipage/window-object.html#window" aria-label="Permalink for definition: Window interface. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-window-interface-1" title="§ 5. Geolocation interface and callbacks">§ 5. Geolocation interface and callbacks</a> 
    </li><li>
      <a href="#ref-for-index-term-window-interface-2" title="§ 7. GeolocationPosition interface">§ 7. GeolocationPosition interface</a> 
    </li><li>
      <a href="#ref-for-index-term-window-interface-3" title="§ 8. GeolocationCoordinates interface">§ 8. GeolocationCoordinates interface</a> 
    </li><li>
      <a href="#ref-for-index-term-window-interface-4" title="§ 9. GeolocationPositionError interface">§ 9. GeolocationPositionError interface</a> 
    </li><li>
      <a href="#ref-for-index-term-window-interface-5" title="§ A. IDL Index">§ A. IDL Index</a> <a href="#ref-for-index-term-window-interface-6" title="Reference 2">(2)</a> <a href="#ref-for-index-term-window-interface-7" title="Reference 3">(3)</a> <a href="#ref-for-index-term-window-interface-8" title="Reference 4">(4)</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-append-for-set" aria-label="Links in this document to definition: Append (for set)">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://infra.spec.whatwg.org/#set-append" aria-label="Permalink for definition: Append (for set). Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-append-for-set-1" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-contain-for-list" aria-label="Links in this document to definition: contain (for list)">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://infra.spec.whatwg.org/#list-contain" aria-label="Permalink for definition: contain (for list). Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-contain-for-list-1" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-exists-for-map" aria-label="Links in this document to definition: exists (for map)">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://infra.spec.whatwg.org/#map-exists" aria-label="Permalink for definition: exists (for map). Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-exists-for-map-1" title="§ 5.4 clearWatch() method">§ 5.4 clearWatch() method</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-implementation-defined" aria-label="Links in this document to definition: implementation-defined">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://infra.spec.whatwg.org/#implementation-defined" aria-label="Permalink for definition: implementation-defined. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-implementation-defined-1" title="§ 5.5 Request position">§ 5.5 Request position</a> <a href="#ref-for-index-term-implementation-defined-2" title="Reference 2">(2)</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-item-for-list" aria-label="Links in this document to definition: item (for list)">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://infra.spec.whatwg.org/#list-item" aria-label="Permalink for definition: item (for list). Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-item-for-list-1" title="§ 5.1 Internal slots">§ 5.1 Internal slots</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-remove-for-map" aria-label="Links in this document to definition: remove (for map)">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://infra.spec.whatwg.org/#map-remove" aria-label="Permalink for definition: remove (for map). Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-remove-for-map-1" title="§ 5.4 clearWatch() method">§ 5.4 clearWatch() method</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-remove-for-list" aria-label="Links in this document to definition: Remove (for list)">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://infra.spec.whatwg.org/#list-remove" aria-label="Permalink for definition: Remove (for list). Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-remove-for-list-1" title="§ 5.5 Request position">§ 5.5 Request position</a> <a href="#ref-for-index-term-remove-for-list-2" title="Reference 2">(2)</a> <a href="#ref-for-index-term-remove-for-list-3" title="Reference 3">(3)</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-set" aria-label="Links in this document to definition: set">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://infra.spec.whatwg.org/#ordered-set" aria-label="Permalink for definition: set. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-set-1" title="§ 5.1 Internal slots">§ 5.1 Internal slots</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-hidden-for-document" aria-label="Links in this document to definition: hidden (for Document)">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://www.w3.org/TR/page-visibility-2/#dfn-hidden" aria-label="Permalink for definition: hidden (for Document). Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-hidden-for-document-1" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-visible-for-document" aria-label="Links in this document to definition: visible (for Document)">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://www.w3.org/TR/page-visibility-2/#dfn-visible" aria-label="Permalink for definition: visible (for Document). Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-visible-for-document-1" title="§ 5.5 Request position">§ 5.5 Request position</a> <a href="#ref-for-index-term-visible-for-document-2" title="Reference 2">(2)</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-denied-for-permissionstate" aria-label="Links in this document to definition: denied (for PermissionState)">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://www.w3.org/TR/permissions/#dom-permissionstate-denied" aria-label="Permalink for definition: denied (for PermissionState). Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-denied-for-permissionstate-1" title="§ 5.6 Check permission">§ 5.6 Check permission</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-permissions" aria-label="Links in this document to definition: Permissions">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://www.w3.org/TR/permissions/" aria-label="Permalink for definition: Permissions. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-permissions-1" title="§ 1.2 Change log">§ 1.2 Change log</a> 
    </li><li>
      <a href="#ref-for-index-term-permissions-2" title="§ D.1 Normative references">§ D.1 Normative references</a> <a href="#ref-for-index-term-permissions-3" title="Reference 2">(2)</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-request-permission-to-use" aria-label="Links in this document to definition: request permission to use">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://www.w3.org/TR/permissions/#dfn-request-permission-to-use" aria-label="Permalink for definition: request permission to use. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-request-permission-to-use-1" title="§ 5.6 Check permission">§ 5.6 Check permission</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-default-allowlist" aria-label="Links in this document to definition: default allowlist">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://www.w3.org/TR/permissions-policy-1/#default-allowlist" aria-label="Permalink for definition: default allowlist. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-default-allowlist-1" title="§ 2.7 Enabling the API in third-party contexts">§ 2.7 Enabling the API in third-party contexts</a> 
    </li><li>
      <a href="#ref-for-index-term-default-allowlist-2" title="§ 10. Permissions policy">§ 10. Permissions policy</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-permissions-policy" aria-label="Links in this document to definition: Permissions Policy">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://www.w3.org/TR/permissions-policy-1/" aria-label="Permalink for definition: Permissions Policy. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-permissions-policy-1" title="§ 1.2 Change log">§ 1.2 Change log</a> 
    </li><li>
      <a href="#ref-for-index-term-permissions-policy-2" title="§ 2.7 Enabling the API in third-party contexts">§ 2.7 Enabling the API in third-party contexts</a> 
    </li><li>
      <a href="#ref-for-index-term-permissions-policy-3" title="§ D.1 Normative references">§ D.1 Normative references</a> <a href="#ref-for-index-term-permissions-policy-4" title="Reference 2">(2)</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-policy-controlled-feature" aria-label="Links in this document to definition: policy-controlled feature">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature" aria-label="Permalink for definition: policy-controlled feature. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-policy-controlled-feature-1" title="§ 10. Permissions policy">§ 10. Permissions policy</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-boolean-type" aria-label="Links in this document to definition: boolean type">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://heycam.github.io/webidl/#idl-boolean" aria-label="Permalink for definition: boolean type. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-boolean-type-1" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li><li>
      <a href="#ref-for-index-term-boolean-type-2" title="§ 6. PositionOptions dictionary">§ 6. PositionOptions dictionary</a> 
    </li><li>
      <a href="#ref-for-index-term-boolean-type-3" title="§ 7.3 Internal slots">§ 7.3 Internal slots</a> 
    </li><li>
      <a href="#ref-for-index-term-boolean-type-4" title="§ A. IDL Index">§ A. IDL Index</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-clamp-extended-attribute" aria-label="Links in this document to definition: [Clamp] extended attribute">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://heycam.github.io/webidl/#Clamp" aria-label="Permalink for definition: [Clamp] extended attribute. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-clamp-extended-attribute-1" title="§ 6. PositionOptions dictionary">§ 6. PositionOptions dictionary</a> <a href="#ref-for-index-term-clamp-extended-attribute-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-index-term-clamp-extended-attribute-3" title="§ A. IDL Index">§ A. IDL Index</a> <a href="#ref-for-index-term-clamp-extended-attribute-4" title="Reference 2">(2)</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-domstring-interface" aria-label="Links in this document to definition: DOMString interface">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://heycam.github.io/webidl/#idl-DOMString" aria-label="Permalink for definition: DOMString interface. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-domstring-interface-1" title="§ 9. GeolocationPositionError interface">§ 9. GeolocationPositionError interface</a> 
    </li><li>
      <a href="#ref-for-index-term-domstring-interface-2" title="§ A. IDL Index">§ A. IDL Index</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-domtimestamp" aria-label="Links in this document to definition: DOMTimeStamp">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://heycam.github.io/webidl/#DOMTimeStamp" aria-label="Permalink for definition: DOMTimeStamp. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-domtimestamp-1" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li><li>
      <a href="#ref-for-index-term-domtimestamp-2" title="§ 7. GeolocationPosition interface">§ 7. GeolocationPosition interface</a> 
    </li><li>
      <a href="#ref-for-index-term-domtimestamp-3" title="§ 8.5 Constructing a GeolocationPosition">§ 8.5 Constructing a GeolocationPosition</a> 
    </li><li>
      <a href="#ref-for-index-term-domtimestamp-4" title="§ A. IDL Index">§ A. IDL Index</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-double-type" aria-label="Links in this document to definition: double type">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://heycam.github.io/webidl/#idl-double" aria-label="Permalink for definition: double type. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-double-type-1" title="§ 8. GeolocationCoordinates interface">§ 8. GeolocationCoordinates interface</a> <a href="#ref-for-index-term-double-type-2" title="Reference 2">(2)</a> <a href="#ref-for-index-term-double-type-3" title="Reference 3">(3)</a> <a href="#ref-for-index-term-double-type-4" title="Reference 4">(4)</a> <a href="#ref-for-index-term-double-type-5" title="Reference 5">(5)</a> <a href="#ref-for-index-term-double-type-6" title="Reference 6">(6)</a> <a href="#ref-for-index-term-double-type-7" title="Reference 7">(7)</a> 
    </li><li>
      <a href="#ref-for-index-term-double-type-8" title="§ A. IDL Index">§ A. IDL Index</a> <a href="#ref-for-index-term-double-type-9" title="Reference 2">(2)</a> <a href="#ref-for-index-term-double-type-10" title="Reference 3">(3)</a> <a href="#ref-for-index-term-double-type-11" title="Reference 4">(4)</a> <a href="#ref-for-index-term-double-type-12" title="Reference 5">(5)</a> <a href="#ref-for-index-term-double-type-13" title="Reference 6">(6)</a> <a href="#ref-for-index-term-double-type-14" title="Reference 7">(7)</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-exposed-extended-attribute" aria-label="Links in this document to definition: [Exposed] extended attribute">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://heycam.github.io/webidl/#Exposed" aria-label="Permalink for definition: [Exposed] extended attribute. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-exposed-extended-attribute-1" title="§ 5. Geolocation interface and callbacks">§ 5. Geolocation interface and callbacks</a> 
    </li><li>
      <a href="#ref-for-index-term-exposed-extended-attribute-2" title="§ 7. GeolocationPosition interface">§ 7. GeolocationPosition interface</a> 
    </li><li>
      <a href="#ref-for-index-term-exposed-extended-attribute-3" title="§ 8. GeolocationCoordinates interface">§ 8. GeolocationCoordinates interface</a> 
    </li><li>
      <a href="#ref-for-index-term-exposed-extended-attribute-4" title="§ 9. GeolocationPositionError interface">§ 9. GeolocationPositionError interface</a> 
    </li><li>
      <a href="#ref-for-index-term-exposed-extended-attribute-5" title="§ A. IDL Index">§ A. IDL Index</a> <a href="#ref-for-index-term-exposed-extended-attribute-6" title="Reference 2">(2)</a> <a href="#ref-for-index-term-exposed-extended-attribute-7" title="Reference 3">(3)</a> <a href="#ref-for-index-term-exposed-extended-attribute-8" title="Reference 4">(4)</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-invokes" aria-label="Links in this document to definition: invokes">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://heycam.github.io/webidl/#invoke-a-callback-function" aria-label="Permalink for definition: invokes. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-invokes-1" title="§ 5.5 Request position">§ 5.5 Request position</a> <a href="#ref-for-index-term-invokes-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-index-term-invokes-3" title="§ 5.7 Call back with error">§ 5.7 Call back with error</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-long-type" aria-label="Links in this document to definition: long type">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://heycam.github.io/webidl/#idl-long" aria-label="Permalink for definition: long type. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-long-type-1" title="§ 5. Geolocation interface and callbacks">§ 5. Geolocation interface and callbacks</a> <a href="#ref-for-index-term-long-type-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-index-term-long-type-3" title="§ 5.5 Request position">§ 5.5 Request position</a> 
    </li><li>
      <a href="#ref-for-index-term-long-type-4" title="§ A. IDL Index">§ A. IDL Index</a> <a href="#ref-for-index-term-long-type-5" title="Reference 2">(2)</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-sameobject-extended-attribute" aria-label="Links in this document to definition: [SameObject] extended attribute">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://heycam.github.io/webidl/#SameObject" aria-label="Permalink for definition: [SameObject] extended attribute. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-sameobject-extended-attribute-1" title="§ 4. Extensions to the Navigator interface">§ 4. Extensions to the Navigator interface</a> 
    </li><li>
      <a href="#ref-for-index-term-sameobject-extended-attribute-2" title="§ A. IDL Index">§ A. IDL Index</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-securecontext-extended-attribute" aria-label="Links in this document to definition: [SecureContext] extended attribute">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://heycam.github.io/webidl/#SecureContext" aria-label="Permalink for definition: [SecureContext] extended attribute. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-securecontext-extended-attribute-1" title="§ 7. GeolocationPosition interface">§ 7. GeolocationPosition interface</a> 
    </li><li>
      <a href="#ref-for-index-term-securecontext-extended-attribute-2" title="§ 8. GeolocationCoordinates interface">§ 8. GeolocationCoordinates interface</a> 
    </li><li>
      <a href="#ref-for-index-term-securecontext-extended-attribute-3" title="§ A. IDL Index">§ A. IDL Index</a> <a href="#ref-for-index-term-securecontext-extended-attribute-4" title="Reference 2">(2)</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-this" aria-label="Links in this document to definition: this">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://heycam.github.io/webidl/#this" aria-label="Permalink for definition: this. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-this-1" title="§ 5.4 clearWatch() method">§ 5.4 clearWatch() method</a> <a href="#ref-for-index-term-this-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-index-term-this-3" title="§ 5.5 Request position">§ 5.5 Request position</a> <a href="#ref-for-index-term-this-4" title="Reference 2">(2)</a> <a href="#ref-for-index-term-this-5" title="Reference 3">(3)</a> <a href="#ref-for-index-term-this-6" title="Reference 4">(4)</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-undefined-type" aria-label="Links in this document to definition: undefined type">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://heycam.github.io/webidl/#idl-undefined" aria-label="Permalink for definition: undefined type. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-undefined-type-1" title="§ 5. Geolocation interface and callbacks">§ 5. Geolocation interface and callbacks</a> <a href="#ref-for-index-term-undefined-type-2" title="Reference 2">(2)</a> <a href="#ref-for-index-term-undefined-type-3" title="Reference 3">(3)</a> <a href="#ref-for-index-term-undefined-type-4" title="Reference 4">(4)</a> 
    </li><li>
      <a href="#ref-for-index-term-undefined-type-5" title="§ A. IDL Index">§ A. IDL Index</a> <a href="#ref-for-index-term-undefined-type-6" title="Reference 2">(2)</a> <a href="#ref-for-index-term-undefined-type-7" title="Reference 3">(3)</a> <a href="#ref-for-index-term-undefined-type-8" title="Reference 4">(4)</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-unsigned-long-type" aria-label="Links in this document to definition: unsigned long type">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://heycam.github.io/webidl/#idl-unsigned-long" aria-label="Permalink for definition: unsigned long type. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-unsigned-long-type-1" title="§ 5.1 Internal slots">§ 5.1 Internal slots</a> 
    </li><li>
      <a href="#ref-for-index-term-unsigned-long-type-2" title="§ 6. PositionOptions dictionary">§ 6. PositionOptions dictionary</a> <a href="#ref-for-index-term-unsigned-long-type-3" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-index-term-unsigned-long-type-4" title="§ A. IDL Index">§ A. IDL Index</a> <a href="#ref-for-index-term-unsigned-long-type-5" title="Reference 2">(2)</a> 
    </li>
    </ul>
      </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-unsigned-short-type" aria-label="Links in this document to definition: unsigned short type">
        <span class="caret"></span>
        <div>
          <a class="self-link" href="https://heycam.github.io/webidl/#idl-unsigned-short" aria-label="Permalink for definition: unsigned short type. Activate to close this dialog.">Permalink</a>
           
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
      <li>
      <a href="#ref-for-index-term-unsigned-short-type-1" title="§ 5.7 Call back with error">§ 5.7 Call back with error</a> 
    </li><li>
      <a href="#ref-for-index-term-unsigned-short-type-2" title="§ 9. GeolocationPositionError interface">§ 9. GeolocationPositionError interface</a> <a href="#ref-for-index-term-unsigned-short-type-3" title="Reference 2">(2)</a> <a href="#ref-for-index-term-unsigned-short-type-4" title="Reference 3">(3)</a> <a href="#ref-for-index-term-unsigned-short-type-5" title="Reference 4">(4)</a> 
    </li><li>
      <a href="#ref-for-index-term-unsigned-short-type-6" title="§ A. IDL Index">§ A. IDL Index</a> <a href="#ref-for-index-term-unsigned-short-type-7" title="Reference 2">(2)</a> <a href="#ref-for-index-term-unsigned-short-type-8" title="Reference 3">(3)</a> <a href="#ref-for-index-term-unsigned-short-type-9" title="Reference 4">(4)</a> 
    </li>
    </ul>
      </div><script id="respec-dfn-panel">// @ts-check
  if (document.respec) {
    document.respec.ready.then(setupPanel);
  } else {
    setupPanel();
  }
  
  function setupPanel() {
    const listener = panelListener();
    document.body.addEventListener("keydown", listener);
    document.body.addEventListener("click", listener);
  }
  
  function panelListener() {
    /** @type {HTMLElement} */
    let panel = null;
    return event => {
      const { target, type } = event;
  
      if (!(target instanceof HTMLElement)) return;
  
      // For keys, we only care about Enter key to activate the panel
      // otherwise it's activated via a click.
      if (type === "keydown" && event.key !== "Enter") return;
  
      const action = deriveAction(event);
  
      switch (action) {
        case "show": {
          hidePanel(panel);
          /** @type {HTMLElement} */
          const dfn = target.closest("dfn, .index-term");
          panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
          const coords = deriveCoordinates(event);
          displayPanel(dfn, panel, coords);
          break;
        }
        case "dock": {
          panel.style.left = null;
          panel.style.top = null;
          panel.classList.add("docked");
          break;
        }
        case "hide": {
          hidePanel(panel);
          panel = null;
          break;
        }
      }
    };
  }
  
  /**
   * @param {MouseEvent|KeyboardEvent} event
   */
  function deriveCoordinates(event) {
    const target = /** @type HTMLElement */ (event.target);
  
    // We prevent synthetic AT clicks from putting
    // the dialog in a weird place. The AT events sometimes
    // lack coordinates, so they have clientX/Y = 0
    const rect = target.getBoundingClientRect();
    if (
      event instanceof MouseEvent &&
      event.clientX >= rect.left &&
      event.clientY >= rect.top
    ) {
      // The event probably happened inside the bounding rect...
      return { x: event.clientX, y: event.clientY };
    }
  
    // Offset to the middle of the element
    const x = rect.x + rect.width / 2;
    // Placed at the bottom of the element
    const y = rect.y + rect.height;
    return { x, y };
  }
  
  /**
   * @param {Event} event
   */
  function deriveAction(event) {
    const target = /** @type {HTMLElement} */ (event.target);
    const hitALink = !!target.closest("a");
    if (target.closest("dfn:not([data-cite]), .index-term")) {
      return hitALink ? "none" : "show";
    }
    if (target.closest(".dfn-panel")) {
      if (hitALink) {
        return target.classList.contains("self-link") ? "hide" : "dock";
      }
      const panel = target.closest(".dfn-panel");
      return panel.classList.contains("docked") ? "hide" : "none";
    }
    if (document.querySelector(".dfn-panel:not([hidden])")) {
      return "hide";
    }
    return "none";
  }
  
  /**
   * @param {HTMLElement} dfn
   * @param {HTMLElement} panel
   * @param {{ x: number, y: number }} clickPosition
   */
  function displayPanel(dfn, panel, { x, y }) {
    panel.hidden = false;
    // distance (px) between edge of panel and the pointing triangle (caret)
    const MARGIN = 20;
  
    const dfnRects = dfn.getClientRects();
    // Find the `top` offset when the `dfn` can be spread across multiple lines
    let closestTop = 0;
    let minDiff = Infinity;
    for (const rect of dfnRects) {
      const { top, bottom } = rect;
      const diffFromClickY = Math.abs((top + bottom) / 2 - y);
      if (diffFromClickY < minDiff) {
        minDiff = diffFromClickY;
        closestTop = top;
      }
    }
  
    const top = window.scrollY + closestTop + dfnRects[0].height;
    const left = x - MARGIN;
    panel.style.left = `${left}px`;
    panel.style.top = `${top}px`;
  
    // Find if the panel is flowing out of the window
    const panelRect = panel.getBoundingClientRect();
    const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
    if (panelRect.right > SCREEN_WIDTH) {
      const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
      const newCaretOffset = left - newLeft;
      panel.style.left = `${newLeft}px`;
      /** @type {HTMLElement} */
      const caret = panel.querySelector(".caret");
      caret.style.left = `${newCaretOffset}px`;
    }
  
    // As it's a dialog, we trap focus.
    // TODO: when <dialog> becomes a implemented, we should really
    // use that.
    trapFocus(panel, dfn);
  }
  
  /**
   * @param {HTMLElement} panel
   * @param {HTMLElement} dfn
   * @returns
   */
  function trapFocus(panel, dfn) {
    /** @type NodeListOf<HTMLAnchorElement> elements */
    const anchors = panel.querySelectorAll("a[href]");
    // No need to trap focus
    if (!anchors.length) return;
  
    // Move focus to first anchor element
    const first = anchors.item(0);
    first.focus();
  
    const trapListener = createTrapListener(anchors, panel, dfn);
    panel.addEventListener("keydown", trapListener);
  
    // Hiding the panel releases the trap
    const mo = new MutationObserver(records => {
      const [record] = records;
      const target = /** @type HTMLElement */ (record.target);
      if (target.hidden) {
        panel.removeEventListener("keydown", trapListener);
        mo.disconnect();
      }
    });
    mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
  }
  
  /**
   *
   * @param {NodeListOf<HTMLAnchorElement>} anchors
   * @param {HTMLElement} panel
   * @param {HTMLElement} dfn
   * @returns
   */
  function createTrapListener(anchors, panel, dfn) {
    const lastIndex = anchors.length - 1;
    let currentIndex = 0;
    return event => {
      switch (event.key) {
        // Hitting "Tab" traps us in a nice loop around elements.
        case "Tab": {
          event.preventDefault();
          currentIndex += event.shiftKey ? -1 : +1;
          if (currentIndex < 0) {
            currentIndex = lastIndex;
          } else if (currentIndex > lastIndex) {
            currentIndex = 0;
          }
          anchors.item(currentIndex).focus();
          break;
        }
  
        // Hitting "Enter" on an anchor releases the trap.
        case "Enter":
          hidePanel(panel);
          break;
  
        // Hitting "Escape" returns focus to dfn.
        case "Escape":
          hidePanel(panel);
          dfn.focus();
          return;
      }
    };
  }
  
  /** @param {HTMLElement} panel */
  function hidePanel(panel) {
    if (!panel) return;
    panel.hidden = true;
    panel.classList.remove("docked");
  }
  </script><script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script></body></html>